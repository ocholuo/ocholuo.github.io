<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="pv-proxy-endpoint" content="https://myochosite-291718.appspot.com/query?id=ahNwfm15b2Nob3NpdGUtMjkxNzE4chULEghBcGlRdWVyeRiAgIDo14eBCgw"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Java - Lambda Expressions" /><meta property="og:locale" content="en" /><meta name="description" content="java Lambda Expressions java Lambda Expressions Ideal Use Case for Lambda Expressions Approach 1: Create Methods That Search for Members That Match One Characteristic Approach 2: Create More Generalized Search Methods Approach 3: Specify Search Criteria Code in a Local Class Approach 4: Specify Search Criteria Code in an Anonymous Class Approach 5: Specify Search Criteria Code with a Lambda Expression Approach 6: Use Standard Functional Interfaces with Lambda Expressions Approach 7: Use Lambda Expressions Throughout Your Application Approach 8: Use Generics More Extensively Syntax of Lambda Expressions Accessing Local Variables of the Enclosing Scope Target Typing Target Types and Method Arguments Serialization" /><meta property="og:description" content="java Lambda Expressions java Lambda Expressions Ideal Use Case for Lambda Expressions Approach 1: Create Methods That Search for Members That Match One Characteristic Approach 2: Create More Generalized Search Methods Approach 3: Specify Search Criteria Code in a Local Class Approach 4: Specify Search Criteria Code in an Anonymous Class Approach 5: Specify Search Criteria Code with a Lambda Expression Approach 6: Use Standard Functional Interfaces with Lambda Expressions Approach 7: Use Lambda Expressions Throughout Your Application Approach 8: Use Generics More Extensively Syntax of Lambda Expressions Accessing Local Variables of the Enclosing Scope Target Typing Target Types and Method Arguments Serialization" /><link rel="canonical" href="https://ocholuo.github.io//posts/Java-lambda/" /><meta property="og:url" content="https://ocholuo.github.io//posts/Java-lambda/" /><meta property="og:site_name" content="Grace" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-09-12T11:11:11-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Java - Lambda Expressions" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-10-30T21:02:21-04:00","datePublished":"2020-09-12T11:11:11-04:00","description":"java Lambda Expressions java Lambda Expressions Ideal Use Case for Lambda Expressions Approach 1: Create Methods That Search for Members That Match One Characteristic Approach 2: Create More Generalized Search Methods Approach 3: Specify Search Criteria Code in a Local Class Approach 4: Specify Search Criteria Code in an Anonymous Class Approach 5: Specify Search Criteria Code with a Lambda Expression Approach 6: Use Standard Functional Interfaces with Lambda Expressions Approach 7: Use Lambda Expressions Throughout Your Application Approach 8: Use Generics More Extensively Syntax of Lambda Expressions Accessing Local Variables of the Enclosing Scope Target Typing Target Types and Method Arguments Serialization","headline":"Java - Lambda Expressions","mainEntityOfPage":{"@type":"WebPage","@id":"https://ocholuo.github.io//posts/Java-lambda/"},"url":"https://ocholuo.github.io//posts/Java-lambda/"}</script><title>Java - Lambda Expressions | Grace</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Grace"><meta name="application-name" content="Grace"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://myochosite-291718.appspot.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://myochosite-291718.appspot.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/huoye.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Grace</a></div><div class="site-subtitle font-italic">2023 Mar 14 updated</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/ocholuo" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['',''].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Java - Lambda Expressions</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Java - Lambda Expressions</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Grace JyL </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Sep 12, 2020, 11:11 AM -0400" >Sep 12, 2020<i class="unloaded">2020-09-12T11:11:11-04:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Oct 30, 2022, 6:02 PM -0700" >Oct 30, 2022<i class="unloaded">2022-10-30T21:02:21-04:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3920 words">21 min read</span> <span id="pv" class="pageviews"> <i class="fas fa-spinner fa-spin fa-fw"></i> </span> views</div></div><div class="post-content"><ul><li><a href="#java-lambda-expressions">java Lambda Expressions</a><ul><li><a href="#java-lambda-expressions-1">java Lambda Expressions</a><li><a href="#ideal-use-case-for-lambda-expressions">Ideal Use Case for Lambda Expressions</a><ul><li><a href="#approach-1-create-methods-that-search-for-members-that-match-one-characteristic">Approach 1: Create Methods That Search for Members That Match One Characteristic</a><li><a href="#approach-2-create-more-generalized-search-methods">Approach 2: Create More Generalized Search Methods</a><li><a href="#approach-3-specify-search-criteria-code-in-a-local-class">Approach 3: Specify Search Criteria Code in a Local Class</a><li><a href="#approach-4-specify-search-criteria-code-in-an-anonymous-class">Approach 4: Specify Search Criteria Code in an Anonymous Class</a><li><a href="#approach-5-specify-search-criteria-code-with-a-lambda-expression">Approach 5: Specify Search Criteria Code with a Lambda Expression</a><li><a href="#approach-6-use-standard-functional-interfaces-with-lambda-expressions">Approach 6: Use Standard Functional Interfaces with Lambda Expressions</a><li><a href="#approach-7-use-lambda-expressions-throughout-your-application">Approach 7: Use Lambda Expressions Throughout Your Application</a><li><a href="#approach-8-use-generics-more-extensively">Approach 8: Use Generics More Extensively</a></ul><li><a href="#syntax-of-lambda-expressions">Syntax of Lambda Expressions</a><li><a href="#accessing-local-variables-of-the-enclosing-scope">Accessing Local Variables of the Enclosing Scope</a><li><a href="#target-typing">Target Typing</a><li><a href="#target-types-and-method-arguments">Target Types and Method Arguments</a><li><a href="#serialization">Serialization</a></ul></ul><hr /><h1 id="java-lambda-expressions">java Lambda Expressions</h1><hr /><h2 id="java-lambda-expressions-1">java Lambda Expressions</h2><p>One issue with anonymous classes</p><ul><li>if the implementation of your anonymous class is very simple, such as an interface that contains only one method,<li>then the syntax of anonymous classes may seem unwieldy and unclear.<li>In these cases, usually trying to <code class="language-plaintext highlighter-rouge">pass functionality as an argument to another method</code>, such as what action should be taken when someone clicks a button.<li>Lambda expressions enable you to do this, to treat functionality as method argument, or code as data.</ul><p>The previous section, Anonymous Classes, shows you how to implement a base class without giving it a name.</p><p>Lambda expressions let you express instances of single-method classes more compactly.</p><hr /><h2 id="ideal-use-case-for-lambda-expressions">Ideal Use Case for Lambda Expressions</h2><p>Suppose want to create a feature that enables an administrator to perform any kind of action, such as sending a message, on members of the social networking application that satisfy certain criteria. The following table describes this use case in detail:</p><p><img data-proofer-ignore data-src="https://i.imgur.com/no5uB0I.png" alt="Screen Shot 2020-10-02 at 10.53.16" /></p><p>Suppose that members of this social networking application are represented by the following Person class:</p><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">enum</span> <span class="nc">Sex</span> <span class="o">{</span>
        <span class="no">MALE</span><span class="o">,</span> <span class="no">FEMALE</span>
    <span class="o">}</span>

    <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="nc">LocalDate</span> <span class="n">birthday</span><span class="o">;</span>
    <span class="nc">Sex</span> <span class="n">gender</span><span class="o">;</span>
    <span class="nc">String</span> <span class="n">emailAddress</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// ...</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printPerson</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// ...</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>Suppose that the members of your application are stored in a <code class="language-plaintext highlighter-rouge">List&lt;Person&gt;</code> instance.</p><hr /><h3 id="approach-1-create-methods-that-search-for-members-that-match-one-characteristic">Approach 1: Create Methods That Search for Members That Match One Characteristic</h3><p>One simplistic approach is to create several methods; each method searches for members that match one characteristic, such as gender or age. The following method prints members that are older than a specified age:</p><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">printPersonsOlderThan</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">roster</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">Person</span> <span class="n">p</span> <span class="o">:</span> <span class="n">roster</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">p</span><span class="o">.</span><span class="na">printPerson</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><blockquote><p>Note: A <code class="language-plaintext highlighter-rouge">List</code> is an <code class="language-plaintext highlighter-rouge">ordered Collectio</code>n. A collection is an object that groups multiple elements into a single unit. Collections are used to store, retrieve, manipulate, and communicate aggregate data. For more information about collections, see the Collections trail.</p></blockquote><blockquote><p>This approach can potentially make your application brittle, which is the likelihood of an application not working because of the introduction of updates (such as newer data types). Suppose that you upgrade your application and change the structure of the Person class such that it contains different member variables; perhaps the class records and measures ages with a different data type or algorithm. You would have to rewrite a lot of your API to accommodate this change. In addition, this approach is unnecessarily restrictive; what if you wanted to print members younger than a certain age, for example?</p></blockquote><hr /><h3 id="approach-2-create-more-generalized-search-methods">Approach 2: Create More Generalized Search Methods</h3><p>The following method is more generic than <code class="language-plaintext highlighter-rouge">printPersonsOlderThan</code>; it prints members within a specified range of ages:</p><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">printPersonsWithinAgeRange</span><span class="o">(</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">roster</span><span class="o">,</span> <span class="kt">int</span> <span class="n">low</span><span class="o">,</span> <span class="kt">int</span> <span class="n">high</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">Person</span> <span class="n">p</span> <span class="o">:</span> <span class="n">roster</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">low</span> <span class="o">&lt;=</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&lt;</span> <span class="n">high</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">p</span><span class="o">.</span><span class="na">printPerson</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><blockquote><p>What if you want to print members of a specified sex, or a combination of a specified gender and age range? What if you decide to change the Person class and add other attributes such as relationship status or geographical location? Although this method is more generic than <code class="language-plaintext highlighter-rouge">printPersonsOlderThan</code>, trying to create a separate method for each possible search query can still lead to brittle code. You can instead separate the code that specifies the criteria for which you want to search in a different class.</p></blockquote><hr /><h3 id="approach-3-specify-search-criteria-code-in-a-local-class">Approach 3: Specify Search Criteria Code in a Local Class</h3><p>The following method prints members that match search criteria that you specify:</p><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">printPersons</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">roster</span><span class="o">,</span> <span class="nc">CheckPerson</span> <span class="n">tester</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">Person</span> <span class="n">p</span> <span class="o">:</span> <span class="n">roster</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">tester</span><span class="o">.</span><span class="na">test</span><span class="o">(</span><span class="n">p</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">p</span><span class="o">.</span><span class="na">printPerson</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><blockquote><p>This method checks each <code class="language-plaintext highlighter-rouge">Person</code> instance contained in the List parameter roster whether it satisfies the search criteria specified in the <code class="language-plaintext highlighter-rouge">CheckPerson parameter tester</code> by invoking the method <code class="language-plaintext highlighter-rouge">tester.test</code>. If the method <code class="language-plaintext highlighter-rouge">tester.test</code> returns a true value, then the method <code class="language-plaintext highlighter-rouge">printPersons</code> is invoked on the Person instance.</p></blockquote><p>To specify the search criteria, you implement the <code class="language-plaintext highlighter-rouge">CheckPerson</code> interface:</p><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">interface</span> <span class="nc">CheckPerson</span> <span class="o">{</span>
    <span class="kt">boolean</span> <span class="nf">test</span><span class="o">(</span><span class="nc">Person</span> <span class="n">p</span><span class="o">);</span>
<span class="o">}</span>
</pre></table></code></div></div><p>The following class implements the <code class="language-plaintext highlighter-rouge">CheckPerson</code> interface</p><ul><li>specifying an implementation for the method test.<li>This method filters members that are eligible for Selective Service in the United States: it returns a true value if its Person parameter is male and between the ages of 18 and 25:</ul><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">CheckPersonEligibleForSelectiveService</span> <span class="kd">implements</span> <span class="nc">CheckPerson</span> <span class="o">{</span><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">test</span><span class="o">(</span><span class="nc">Person</span> <span class="n">p</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">p</span><span class="o">.</span><span class="na">gender</span> <span class="o">==</span> <span class="nc">Person</span><span class="o">.</span><span class="na">Sex</span><span class="o">.</span><span class="na">MALE</span> <span class="o">&amp;&amp;</span>
            <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="mi">18</span> <span class="o">&amp;&amp;</span>
            <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">25</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>To use this class, you create a new instance of it and invoke the printPersons method:</p><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">printPersons</span><span class="o">(</span><span class="n">roster</span><span class="o">,</span> <span class="k">new</span> <span class="nc">CheckPersonEligibleForSelectiveService</span><span class="o">());</span>
</pre></table></code></div></div><blockquote><p>Although this approach is less brittle—you don’t have to rewrite methods if you change the structure of the Person—you still have additional code: a new interface and a local class for each search you plan to perform in your application. Because CheckPersonEligibleForSelectiveService implements an interface, you can use an anonymous class instead of a local class and bypass the need to declare a new class for each search.</p></blockquote><hr /><h3 id="approach-4-specify-search-criteria-code-in-an-anonymous-class">Approach 4: Specify Search Criteria Code in an Anonymous Class</h3><p>One of the arguments of the following invocation of the method <code class="language-plaintext highlighter-rouge">printPersons</code> is an <code class="language-plaintext highlighter-rouge">anonymous class</code></p><ul><li>filters members that are eligible for Selective Service in the United States: those who are male and between the ages of 18 and 25:</ul><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="n">printPersons</span><span class="o">(</span><span class="n">roster</span><span class="o">,</span> <span class="k">new</span> <span class="nc">CheckPerson</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">test</span><span class="o">(</span><span class="nc">Person</span> <span class="n">p</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">p</span><span class="o">.</span><span class="na">getGender</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Person</span><span class="o">.</span><span class="na">Sex</span><span class="o">.</span><span class="na">MALE</span>
                <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="mi">18</span>
                <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">25</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">);</span>
</pre></table></code></div></div><blockquote><p>This approach reduces the amount of code required because you don’t have to create a new class for each search that you want to perform. However, the syntax of anonymous classes is bulky considering that the CheckPerson interface contains only one method. In this case, you can use a lambda expression instead of an anonymous class, as described in the next section.</p></blockquote><hr /><h3 id="approach-5-specify-search-criteria-code-with-a-lambda-expression">Approach 5: Specify Search Criteria Code with a Lambda Expression</h3><p>The <code class="language-plaintext highlighter-rouge">CheckPerson</code> interface is a <code class="language-plaintext highlighter-rouge">functional interface</code>.</p><ul><li>A functional interface is any interface that contains only one abstract method.<li>(A functional interface may contain one or more default methods or static methods.)<li>a functional interface contains only one abstract method, omit the name of that method when implement it.<li>instead of using an anonymous class expression, use lambda expression</ul><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">printPersons</span><span class="o">(</span><span class="n">roster</span><span class="o">,</span> <span class="o">(</span><span class="nc">Person</span> <span class="n">p</span><span class="o">)</span> <span class="o">-&gt;</span>
        <span class="n">p</span><span class="o">.</span><span class="na">getGender</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Person</span><span class="o">.</span><span class="na">Sex</span><span class="o">.</span><span class="na">MALE</span>
        <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="mi">18</span>
        <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">25</span>
<span class="o">);</span>
</pre></table></code></div></div><blockquote><p>use a standard functional interface in place of the <code class="language-plaintext highlighter-rouge">interface CheckPerson</code>, reduces the amount of code required.</p></blockquote><hr /><h3 id="approach-6-use-standard-functional-interfaces-with-lambda-expressions">Approach 6: Use Standard Functional Interfaces with Lambda Expressions</h3><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
</pre><td class="rouge-code"><pre>
<span class="c1">// 1. Reconsider the CheckPerson interface:</span>

<span class="kd">interface</span> <span class="nc">CheckPerson</span> <span class="o">{</span>
    <span class="kt">boolean</span> <span class="nf">test</span><span class="o">(</span><span class="nc">Person</span> <span class="n">p</span><span class="o">);</span>
<span class="o">}</span>

<span class="c1">// This is a very simple interface.</span>
<span class="c1">// - Its a functional interface because it contains only one abstract method.</span>
<span class="c1">// - takes one parameter and returns a boolean value.</span>
<span class="c1">// - so simple that it might not be worth it to define one in your application.</span>



<span class="c1">// 2.</span>
<span class="c1">// - Consequently, the JDK defines several standard functional interfaces, which can find in the package java.util.function.</span>
<span class="c1">// you can use the Predicate&lt;T&gt; interface in place of CheckPerson.</span>
<span class="c1">// - This interface contains the method boolean test(T t):</span>

<span class="kd">interface</span> <span class="nc">Predicate</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kt">boolean</span> <span class="nf">test</span><span class="o">(</span><span class="no">T</span> <span class="n">t</span><span class="o">);</span>
<span class="o">}</span>

<span class="c1">// The interface Predicate&lt;T&gt; is an example of a generic interface.</span>
<span class="c1">// - (For more information about generics, see the Generics (Updated) lesson.)</span>
<span class="c1">// - Generic types (such as generic interfaces) specify one or more type parameters within angle brackets (&lt;&gt;).</span>
<span class="c1">// - This interface contains only one type parameter, T.</span>
<span class="c1">// - When declare or instantiate a generic type with actual type arguments, you have a parameterized type.</span>
<span class="c1">// - For example, the parameterized type Predicate&lt;Person&gt; is the following:</span>

<span class="kd">interface</span> <span class="nc">Predicate</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kt">boolean</span> <span class="nf">test</span><span class="o">(</span><span class="nc">Person</span> <span class="n">t</span><span class="o">);</span>
<span class="o">}</span>


<span class="c1">// This parameterized type contains a method that has the same return type and parameters as CheckPerson.boolean test(Person p). Consequently, you can use Predicate&lt;T&gt; in place of CheckPerson as the following method demonstrates:</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">printPersonsWithPredicate</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">roster</span><span class="o">,</span> <span class="nc">Predicate</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">tester</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">Person</span> <span class="n">p</span> <span class="o">:</span> <span class="n">roster</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">tester</span><span class="o">.</span><span class="na">test</span><span class="o">(</span><span class="n">p</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">p</span><span class="o">.</span><span class="na">printPerson</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// As a result, the following method invocation is the same as when you invoked printPersons in Approach 3: Specify Search Criteria Code in a Local Class to obtain members who are eligible for Selective Service:</span>

<span class="n">printPersonsWithPredicate</span><span class="o">(</span>
    <span class="n">roster</span><span class="o">,</span>
    <span class="n">p</span> <span class="o">-&gt;</span> <span class="n">p</span><span class="o">.</span><span class="na">getGender</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Person</span><span class="o">.</span><span class="na">Sex</span><span class="o">.</span><span class="na">MALE</span>   <span class="c1">// Person p</span>
        <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="mi">18</span>
        <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">25</span>
<span class="o">);</span>

<span class="c1">// This is not the only possible place in this method to use a lambda expression. The following approach suggests other ways to use lambda expressions.</span>
</pre></table></code></div></div><hr /><h3 id="approach-7-use-lambda-expressions-throughout-your-application">Approach 7: Use Lambda Expressions Throughout Your Application</h3><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="c1">// Reconsider the method printPersonsWithPredicate to see where else you could use lambda expressions:</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">printPersonsWithPredicate</span><span class="o">(</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">roster</span><span class="o">,</span> <span class="nc">Predicate</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">tester</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">Person</span> <span class="n">p</span> <span class="o">:</span> <span class="n">roster</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">tester</span><span class="o">.</span><span class="na">test</span><span class="o">(</span><span class="n">p</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">p</span><span class="o">.</span><span class="na">printPerson</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// This method checks each Person instance in the List parameter roster</span>
<span class="c1">// - whether it satisfies the criteria specified in the Predicate parameter tester.</span>
<span class="c1">// - If the Person instance does satisfy the criteria specified by tester</span>
<span class="c1">//     - the method printPersron is invoked on the Person instance.</span>
</pre></table></code></div></div><p>Instead of invoking the method printPerson,</p><ul><li>you can specify a different action to perform on those Person instances that satisfy the criteria specified by tester.<li>You can specify this action with a lambda expression.<li>Suppose you want a lambda expression similar to printPerson, one that takes one argument (an object of type Person) and returns void. Remember, to use a lambda expression, you need to implement a functional interface.<li>In this case, you need a functional interface that contains an abstract method that can take one argument of type Person and returns void.<li>The <code class="language-plaintext highlighter-rouge">Consumer&lt;T&gt; interface</code> contains the method <code class="language-plaintext highlighter-rouge">void accept(T t)</code>, which has these characteristics.<li>The following method replaces the invocation <code class="language-plaintext highlighter-rouge">p.printPerson()</code> with an instance of <code class="language-plaintext highlighter-rouge">Consumer&lt;Person&gt;</code> that invokes the method accept:</ul><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">processPersons</span><span class="o">(</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">roster</span><span class="o">,</span>
    <span class="nc">Predicate</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">tester</span><span class="o">,</span>
    <span class="nc">Consumer</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">block</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Person</span> <span class="n">p</span> <span class="o">:</span> <span class="n">roster</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">tester</span><span class="o">.</span><span class="na">test</span><span class="o">(</span><span class="n">p</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">block</span><span class="o">.</span><span class="na">accept</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// As a result, the following method invocation is the same as when you invoked printPersons in Approach 3:</span>
<span class="c1">// - Specify Search Criteria Code in a Local Class to obtain members who are eligible for Selective Service.</span>

<span class="n">processPersons</span><span class="o">(</span>
     <span class="n">roster</span><span class="o">,</span>
     <span class="n">p</span> <span class="o">-&gt;</span> <span class="n">p</span><span class="o">.</span><span class="na">getGender</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Person</span><span class="o">.</span><span class="na">Sex</span><span class="o">.</span><span class="na">MALE</span>
         <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="mi">18</span>
         <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">25</span><span class="o">,</span>
     <span class="n">p</span> <span class="o">-&gt;</span> <span class="n">p</span><span class="o">.</span><span class="na">printPerson</span><span class="o">()</span>
<span class="o">);</span>
</pre></table></code></div></div><p>What if you want to do more with your members’ profiles than printing them out. Suppose that you want to validate the members’ profiles or retrieve their contact information?</p><ul><li>In this case, you need a functional interface that contains an abstract method that returns a value.<li>The <code class="language-plaintext highlighter-rouge">Function&lt;T,R&gt; interface</code> contains the method R apply(T t).<li>The following method retrieves the data specified by the parameter mapper, and then performs an action on it specified by the parameter block:</ul><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">processPersonsWithFunction</span><span class="o">(</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">roster</span><span class="o">,</span>               <span class="c1">// from where</span>
    <span class="nc">Predicate</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">tester</span><span class="o">,</span>          <span class="c1">// what kind of condition</span>
    <span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">mapper</span><span class="o">,</span>
    <span class="nc">Consumer</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">block</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">Person</span> <span class="n">p</span> <span class="o">:</span> <span class="n">roster</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">tester</span><span class="o">.</span><span class="na">test</span><span class="o">(</span><span class="n">p</span><span class="o">))</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
            <span class="n">block</span><span class="o">.</span><span class="na">accept</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="c1">// The following method retrieves the email address from each member contained in roster who is eligible for Selective Service and then prints it:</span>

<span class="n">processPersonsWithFunction</span><span class="o">(</span>
    <span class="n">roster</span><span class="o">,</span>
    <span class="n">p</span> <span class="o">-&gt;</span> <span class="n">p</span><span class="o">.</span><span class="na">getGender</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Person</span><span class="o">.</span><span class="na">Sex</span><span class="o">.</span><span class="na">MALE</span>
        <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="mi">18</span>
        <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">25</span><span class="o">,</span>
    <span class="n">p</span> <span class="o">-&gt;</span> <span class="n">p</span><span class="o">.</span><span class="na">getEmailAddress</span><span class="o">(),</span>
    <span class="n">email</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">email</span><span class="o">)</span>
<span class="o">);</span>
</pre></table></code></div></div><hr /><h3 id="approach-8-use-generics-more-extensively">Approach 8: Use Generics More Extensively</h3><p>Reconsider the method processPersonsWithFunction. The following is a generic version of it that accepts, as a parameter, a collection that contains elements of any data type:</p><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="no">X</span><span class="o">,</span> <span class="no">Y</span><span class="o">&gt;</span> <span class="kt">void</span> <span class="nf">processElements</span><span class="o">(</span>
    <span class="nc">Iterable</span><span class="o">&lt;</span><span class="no">X</span><span class="o">&gt;</span> <span class="n">source</span><span class="o">,</span>
    <span class="nc">Predicate</span><span class="o">&lt;</span><span class="no">X</span><span class="o">&gt;</span> <span class="n">tester</span><span class="o">,</span>
    <span class="nc">Function</span> <span class="o">&lt;</span><span class="no">X</span><span class="o">,</span> <span class="no">Y</span><span class="o">&gt;</span> <span class="n">mapper</span><span class="o">,</span>
    <span class="nc">Consumer</span><span class="o">&lt;</span><span class="no">Y</span><span class="o">&gt;</span> <span class="n">block</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="no">X</span> <span class="n">p</span> <span class="o">:</span> <span class="n">source</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">tester</span><span class="o">.</span><span class="na">test</span><span class="o">(</span><span class="n">p</span><span class="o">))</span> <span class="o">{</span>
            <span class="no">Y</span> <span class="n">data</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
            <span class="n">block</span><span class="o">.</span><span class="na">accept</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="nc">To</span> <span class="n">print</span> <span class="n">the</span> <span class="n">e</span><span class="o">-</span><span class="n">mail</span> <span class="n">address</span> <span class="n">of</span> <span class="n">members</span> <span class="n">who</span> <span class="n">are</span> <span class="n">eligible</span> <span class="k">for</span> <span class="nc">Selective</span> <span class="nc">Service</span><span class="o">,</span> <span class="n">invoke</span> <span class="n">the</span> <span class="n">processElements</span> <span class="n">method</span> <span class="n">as</span> <span class="nl">follows:</span>

<span class="n">processElements</span><span class="o">(</span>
    <span class="n">roster</span><span class="o">,</span>
    <span class="n">p</span> <span class="o">-&gt;</span> <span class="n">p</span><span class="o">.</span><span class="na">getGender</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Person</span><span class="o">.</span><span class="na">Sex</span><span class="o">.</span><span class="na">MALE</span>
        <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="mi">18</span>
        <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">25</span><span class="o">,</span>
    <span class="n">p</span> <span class="o">-&gt;</span> <span class="n">p</span><span class="o">.</span><span class="na">getEmailAddress</span><span class="o">(),</span>
    <span class="n">email</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">email</span><span class="o">)</span>
<span class="o">);</span>
<span class="nc">This</span> <span class="n">method</span> <span class="n">invocation</span> <span class="n">performs</span> <span class="n">the</span> <span class="n">following</span> <span class="nl">actions:</span>

<span class="nc">Obtains</span> <span class="n">a</span> <span class="n">source</span> <span class="n">of</span> <span class="n">objects</span> <span class="n">from</span> <span class="n">the</span> <span class="n">collection</span> <span class="n">source</span><span class="o">.</span> <span class="nc">In</span> <span class="k">this</span> <span class="n">example</span><span class="o">,</span> <span class="n">it</span> <span class="n">obtains</span> <span class="n">a</span> <span class="n">source</span> <span class="n">of</span> <span class="nc">Person</span> <span class="n">objects</span> <span class="n">from</span> <span class="n">the</span> <span class="n">collection</span> <span class="n">roster</span><span class="o">.</span> <span class="nc">Notice</span> <span class="n">that</span> <span class="n">the</span> <span class="n">collection</span> <span class="n">roster</span><span class="o">,</span> <span class="n">which</span> <span class="n">is</span> <span class="n">a</span> <span class="n">collection</span> <span class="n">of</span> <span class="n">type</span> <span class="nc">List</span><span class="o">,</span> <span class="n">is</span> <span class="n">also</span> <span class="n">an</span> <span class="n">object</span> <span class="n">of</span> <span class="n">type</span> <span class="nc">Iterable</span><span class="o">.</span>
<span class="nc">Filters</span> <span class="n">objects</span> <span class="n">that</span> <span class="n">match</span> <span class="n">the</span> <span class="nc">Predicate</span> <span class="n">object</span> <span class="n">tester</span><span class="o">.</span> <span class="nc">In</span> <span class="k">this</span> <span class="n">example</span><span class="o">,</span> <span class="n">the</span> <span class="nc">Predicate</span> <span class="n">object</span> <span class="n">is</span> <span class="n">a</span> <span class="n">lambda</span> <span class="n">expression</span> <span class="n">that</span> <span class="n">specifies</span> <span class="n">which</span> <span class="n">members</span> <span class="n">would</span> <span class="n">be</span> <span class="n">eligible</span> <span class="k">for</span> <span class="nc">Selective</span> <span class="nc">Service</span><span class="o">.</span>
<span class="nc">Maps</span> <span class="n">each</span> <span class="n">filtered</span> <span class="n">object</span> <span class="n">to</span> <span class="n">a</span> <span class="n">value</span> <span class="n">as</span> <span class="n">specified</span> <span class="n">by</span> <span class="n">the</span> <span class="nc">Function</span> <span class="n">object</span> <span class="n">mapper</span><span class="o">.</span> <span class="nc">In</span> <span class="k">this</span> <span class="n">example</span><span class="o">,</span> <span class="n">the</span> <span class="nc">Function</span> <span class="n">object</span> <span class="n">is</span> <span class="n">a</span> <span class="n">lambda</span> <span class="n">expression</span> <span class="n">that</span> <span class="n">returns</span> <span class="n">the</span> <span class="n">e</span><span class="o">-</span><span class="n">mail</span> <span class="n">address</span> <span class="n">of</span> <span class="n">a</span> <span class="n">member</span><span class="o">.</span>
<span class="nc">Performs</span> <span class="n">an</span> <span class="n">action</span> <span class="n">on</span> <span class="n">each</span> <span class="n">mapped</span> <span class="n">object</span> <span class="n">as</span> <span class="n">specified</span> <span class="n">by</span> <span class="n">the</span> <span class="nc">Consumer</span> <span class="n">object</span> <span class="n">block</span><span class="o">.</span> <span class="nc">In</span> <span class="k">this</span> <span class="n">example</span><span class="o">,</span> <span class="n">the</span> <span class="nc">Consumer</span> <span class="n">object</span> <span class="n">is</span> <span class="n">a</span> <span class="n">lambda</span> <span class="n">expression</span> <span class="n">that</span> <span class="n">prints</span> <span class="n">a</span> <span class="n">string</span><span class="o">,</span> <span class="n">which</span> <span class="n">is</span> <span class="n">the</span> <span class="n">e</span><span class="o">-</span><span class="n">mail</span> <span class="n">address</span> <span class="n">returned</span> <span class="n">by</span> <span class="n">the</span> <span class="nc">Function</span> <span class="n">object</span><span class="o">.</span>
<span class="nc">You</span> <span class="n">can</span> <span class="n">replace</span> <span class="n">each</span> <span class="n">of</span> <span class="n">these</span> <span class="n">actions</span> <span class="n">with</span> <span class="n">an</span> <span class="n">aggregate</span> <span class="n">operation</span><span class="o">.</span>

<span class="nc">Approach</span> <span class="mi">9</span><span class="o">:</span> <span class="nc">Use</span> <span class="nc">Aggregate</span> <span class="nc">Operations</span> <span class="nc">That</span> <span class="nc">Accept</span> <span class="nc">Lambda</span> <span class="nc">Expressions</span> <span class="n">as</span> <span class="nc">Parameters</span>
<span class="nc">The</span> <span class="n">following</span> <span class="n">example</span> <span class="n">uses</span> <span class="n">aggregate</span> <span class="n">operations</span> <span class="n">to</span> <span class="n">print</span> <span class="n">the</span> <span class="n">e</span><span class="o">-</span><span class="n">mail</span> <span class="n">addresses</span> <span class="n">of</span> <span class="n">those</span> <span class="n">members</span> <span class="n">contained</span> <span class="n">in</span> <span class="n">the</span> <span class="n">collection</span> <span class="n">roster</span> <span class="n">who</span> <span class="n">are</span> <span class="n">eligible</span> <span class="k">for</span> <span class="nc">Selective</span> <span class="nl">Service:</span>

<span class="n">roster</span>
    <span class="o">.</span><span class="na">stream</span><span class="o">()</span>
    <span class="o">.</span><span class="na">filter</span><span class="o">(</span>
        <span class="n">p</span> <span class="o">-&gt;</span> <span class="n">p</span><span class="o">.</span><span class="na">getGender</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Person</span><span class="o">.</span><span class="na">Sex</span><span class="o">.</span><span class="na">MALE</span>
            <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="mi">18</span>
            <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">25</span><span class="o">)</span>
    <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">p</span> <span class="o">-&gt;</span> <span class="n">p</span><span class="o">.</span><span class="na">getEmailAddress</span><span class="o">())</span>
    <span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">email</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">email</span><span class="o">));</span>
<span class="nc">The</span> <span class="n">following</span> <span class="n">table</span> <span class="n">maps</span> <span class="n">each</span> <span class="n">of</span> <span class="n">the</span> <span class="n">operations</span> <span class="n">the</span> <span class="n">method</span> <span class="n">processElements</span> <span class="n">performs</span> <span class="n">with</span> <span class="n">the</span> <span class="n">corresponding</span> <span class="n">aggregate</span> <span class="nl">operation:</span>

<span class="n">processElements</span> <span class="nc">Action</span>	<span class="nc">Aggregate</span> <span class="nc">Operation</span>
<span class="nc">Obtain</span> <span class="n">a</span> <span class="n">source</span> <span class="n">of</span> <span class="n">objects</span>	<span class="nc">Stream</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">stream</span><span class="o">()</span>
<span class="nc">Filter</span> <span class="n">objects</span> <span class="n">that</span> <span class="n">match</span> <span class="n">a</span> <span class="nc">Predicate</span> <span class="n">object</span>	<span class="nc">Stream</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="nf">filter</span><span class="o">(</span><span class="nc">Predicate</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="no">T</span><span class="o">&gt;</span> <span class="n">predicate</span><span class="o">)</span>
<span class="nc">Map</span> <span class="n">objects</span> <span class="n">to</span> <span class="n">another</span> <span class="n">value</span> <span class="n">as</span> <span class="n">specified</span> <span class="n">by</span> <span class="n">a</span> <span class="nc">Function</span> <span class="n">object</span>	<span class="o">&lt;</span><span class="no">R</span><span class="o">&gt;</span> <span class="nc">Stream</span><span class="o">&lt;</span><span class="no">R</span><span class="o">&gt;</span> <span class="nf">map</span><span class="o">(</span><span class="nc">Function</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="no">T</span><span class="o">,?</span> <span class="kd">extends</span> <span class="no">R</span><span class="o">&gt;</span> <span class="n">mapper</span><span class="o">)</span>
<span class="nc">Perform</span> <span class="n">an</span> <span class="n">action</span> <span class="n">as</span> <span class="n">specified</span> <span class="n">by</span> <span class="n">a</span> <span class="nc">Consumer</span> <span class="n">object</span>	<span class="kt">void</span> <span class="nf">forEach</span><span class="o">(</span><span class="nc">Consumer</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="no">T</span><span class="o">&gt;</span> <span class="n">action</span><span class="o">)</span>
<span class="nc">The</span> <span class="n">operations</span> <span class="n">filter</span><span class="o">,</span> <span class="n">map</span><span class="o">,</span> <span class="n">and</span> <span class="n">forEach</span> <span class="n">are</span> <span class="n">aggregate</span> <span class="n">operations</span><span class="o">.</span> <span class="nc">Aggregate</span> <span class="n">operations</span> <span class="n">process</span> <span class="n">elements</span> <span class="n">from</span> <span class="n">a</span> <span class="n">stream</span><span class="o">,</span> <span class="n">not</span> <span class="n">directly</span> <span class="n">from</span> <span class="n">a</span> <span class="nf">collection</span> <span class="o">(</span><span class="n">which</span> <span class="n">is</span> <span class="n">the</span> <span class="n">reason</span> <span class="n">why</span> <span class="n">the</span> <span class="n">first</span> <span class="n">method</span> <span class="n">invoked</span> <span class="n">in</span> <span class="k">this</span> <span class="n">example</span> <span class="n">is</span> <span class="n">stream</span><span class="o">).</span> <span class="no">A</span> <span class="n">stream</span> <span class="n">is</span> <span class="n">a</span> <span class="n">sequence</span> <span class="n">of</span> <span class="n">elements</span><span class="o">.</span> <span class="nc">Unlike</span> <span class="n">a</span> <span class="n">collection</span><span class="o">,</span> <span class="n">it</span> <span class="n">is</span> <span class="n">not</span> <span class="n">a</span> <span class="n">data</span> <span class="n">structure</span> <span class="n">that</span> <span class="n">stores</span> <span class="n">elements</span><span class="o">.</span> <span class="nc">Instead</span><span class="o">,</span> <span class="n">a</span> <span class="n">stream</span> <span class="n">carries</span> <span class="n">values</span> <span class="n">from</span> <span class="n">a</span> <span class="n">source</span><span class="o">,</span> <span class="n">such</span> <span class="n">as</span> <span class="n">collection</span><span class="o">,</span> <span class="n">through</span> <span class="n">a</span> <span class="n">pipeline</span><span class="o">.</span> <span class="no">A</span> <span class="n">pipeline</span> <span class="n">is</span> <span class="n">a</span> <span class="n">sequence</span> <span class="n">of</span> <span class="n">stream</span> <span class="n">operations</span><span class="o">,</span> <span class="n">which</span> <span class="n">in</span> <span class="k">this</span> <span class="n">example</span> <span class="n">is</span> <span class="n">filter</span><span class="o">-</span> <span class="n">map</span><span class="o">-</span><span class="n">forEach</span><span class="o">.</span> <span class="nc">In</span> <span class="n">addition</span><span class="o">,</span> <span class="n">aggregate</span> <span class="n">operations</span> <span class="n">typically</span> <span class="n">accept</span> <span class="n">lambda</span> <span class="n">expressions</span> <span class="n">as</span> <span class="n">parameters</span><span class="o">,</span> <span class="n">enabling</span> <span class="n">you</span> <span class="n">to</span> <span class="n">customize</span> <span class="n">how</span> <span class="n">they</span> <span class="n">behave</span><span class="o">.</span>

<span class="nc">For</span> <span class="n">a</span> <span class="n">more</span> <span class="n">thorough</span> <span class="n">discussion</span> <span class="n">of</span> <span class="n">aggregate</span> <span class="n">operations</span><span class="o">,</span> <span class="n">see</span> <span class="n">the</span> <span class="nc">Aggregate</span> <span class="nc">Operations</span> <span class="n">lesson</span><span class="o">.</span>

<span class="nc">Lambda</span> <span class="nc">Expressions</span> <span class="n">in</span> <span class="no">GUI</span> <span class="nc">Applications</span>
<span class="nc">To</span> <span class="n">process</span> <span class="n">events</span> <span class="n">in</span> <span class="n">a</span> <span class="n">graphical</span> <span class="n">user</span> <span class="nf">interface</span> <span class="o">(</span><span class="no">GUI</span><span class="o">)</span> <span class="n">application</span><span class="o">,</span> <span class="n">such</span> <span class="n">as</span> <span class="n">keyboard</span> <span class="n">actions</span><span class="o">,</span> <span class="n">mouse</span> <span class="n">actions</span><span class="o">,</span> <span class="n">and</span> <span class="n">scroll</span> <span class="n">actions</span><span class="o">,</span> <span class="n">you</span> <span class="n">typically</span> <span class="n">create</span> <span class="n">event</span> <span class="n">handlers</span><span class="o">,</span> <span class="n">which</span> <span class="n">usually</span> <span class="n">involves</span> <span class="n">implementing</span> <span class="n">a</span> <span class="n">particular</span> <span class="kd">interface</span><span class="err">.</span> <span class="nc">Often</span><span class="o">,</span> <span class="n">event</span> <span class="n">handler</span> <span class="n">interfaces</span> <span class="n">are</span> <span class="n">functional</span> <span class="n">interfaces</span><span class="o">;</span> <span class="n">they</span> <span class="n">tend</span> <span class="n">to</span> <span class="n">have</span> <span class="n">only</span> <span class="n">one</span> <span class="n">method</span><span class="o">.</span>

<span class="nc">In</span> <span class="n">the</span> <span class="nc">JavaFX</span> <span class="n">example</span> <span class="nc">HelloWorld</span><span class="o">.</span><span class="na">java</span> <span class="o">(</span><span class="n">discussed</span> <span class="n">in</span> <span class="n">the</span> <span class="n">previous</span> <span class="n">section</span> <span class="nc">Anonymous</span> <span class="nc">Classes</span><span class="o">),</span> <span class="n">you</span> <span class="n">can</span> <span class="n">replace</span> <span class="n">the</span> <span class="n">highlighted</span> <span class="n">anonymous</span> <span class="kd">class</span> <span class="nc">with</span> <span class="n">a</span> <span class="n">lambda</span> <span class="n">expression</span> <span class="n">in</span> <span class="k">this</span> <span class="nl">statement:</span>

        <span class="n">btn</span><span class="o">.</span><span class="na">setOnAction</span><span class="o">(</span><span class="k">new</span> <span class="nc">EventHandler</span><span class="o">&lt;</span><span class="nc">ActionEvent</span><span class="o">&gt;()</span> <span class="o">{</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello World!"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
<span class="nc">The</span> <span class="n">method</span> <span class="n">invocation</span> <span class="n">btn</span><span class="o">.</span><span class="na">setOnAction</span> <span class="n">specifies</span> <span class="n">what</span> <span class="n">happens</span> <span class="n">when</span> <span class="n">you</span> <span class="n">select</span> <span class="n">the</span> <span class="n">button</span> <span class="n">represented</span> <span class="n">by</span> <span class="n">the</span> <span class="n">btn</span> <span class="n">object</span><span class="o">.</span> <span class="nc">This</span> <span class="n">method</span> <span class="n">requires</span> <span class="n">an</span> <span class="n">object</span> <span class="n">of</span> <span class="n">type</span> <span class="nc">EventHandler</span><span class="o">&lt;</span><span class="nc">ActionEvent</span><span class="o">&gt;.</span> <span class="nc">The</span> <span class="nc">EventHandler</span><span class="o">&lt;</span><span class="nc">ActionEvent</span><span class="o">&gt;</span> <span class="kd">interface</span> <span class="nc">contains</span> <span class="n">only</span> <span class="n">one</span> <span class="n">method</span><span class="o">,</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="no">T</span> <span class="n">event</span><span class="o">).</span> <span class="nc">This</span> <span class="kd">interface</span> <span class="nc">is</span> <span class="n">a</span> <span class="n">functional</span> <span class="kd">interface</span><span class="err">,</span> <span class="nc">so</span> <span class="n">you</span> <span class="n">could</span> <span class="n">use</span> <span class="n">the</span> <span class="n">following</span> <span class="n">highlighted</span> <span class="n">lambda</span> <span class="n">expression</span> <span class="n">to</span> <span class="n">replace</span> <span class="nl">it:</span>

        <span class="n">btn</span><span class="o">.</span><span class="na">setOnAction</span><span class="o">(</span>
          <span class="n">event</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello World!"</span><span class="o">)</span>
        <span class="o">);</span>
</pre></table></code></div></div><hr /><h2 id="syntax-of-lambda-expressions">Syntax of Lambda Expressions</h2><p>The following example, Calculator, is an example of lambda expressions that take more than one formal parameter:</p><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Calculator</span> <span class="o">{</span>

    <span class="kd">interface</span> <span class="nc">IntegerMath</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="nf">operation</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">operateBinary</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">,</span> <span class="nc">IntegerMath</span> <span class="n">op</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">op</span><span class="o">.</span><span class="na">operation</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="nc">Calculator</span> <span class="n">myApp</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Calculator</span><span class="o">();</span>
        <span class="nc">IntegerMath</span> <span class="n">addition</span> <span class="o">=</span> <span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span>
        <span class="nc">IntegerMath</span> <span class="n">subtraction</span> <span class="o">=</span> <span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"40 + 2 = "</span> <span class="o">+</span> <span class="n">myApp</span><span class="o">.</span><span class="na">operateBinary</span><span class="o">(</span><span class="mi">40</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="n">addition</span><span class="o">));</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"20 - 10 = "</span> <span class="o">+</span> <span class="n">myApp</span><span class="o">.</span><span class="na">operateBinary</span><span class="o">(</span><span class="mi">20</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="n">subtraction</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><hr /><h2 id="accessing-local-variables-of-the-enclosing-scope">Accessing Local Variables of the Enclosing Scope</h2><p>Like local and anonymous classes, lambda expressions can capture variables; they have the same access to local variables of the enclosing scope. However, unlike local and anonymous classes, lambda expressions do not have any shadowing issues (see Shadowing for more information). Lambda expressions are lexically scoped. This means that they do not inherit any names from a supertype or introduce a new level of scoping. Declarations in a lambda expression are interpreted just as they are in the enclosing environment. The following example, LambdaScopeTest, demonstrates this:</p><div class="language-java highlighter-rouge"><div class="code-header" text-data="java"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">java.util.function.Consumer</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LambdaScopeTest</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kd">class</span> <span class="nc">FirstLevel</span> <span class="o">{</span>

        <span class="kd">public</span> <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>

        <span class="kt">void</span> <span class="nf">methodInFirstLevel</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>

            <span class="c1">// The following statement causes the compiler to generate</span>
            <span class="c1">// the error "local variables referenced from a lambda expression</span>
            <span class="c1">// must be final or effectively final" in statement A:</span>
            <span class="c1">//</span>
            <span class="c1">// x = 99;</span>

            <span class="nc">Consumer</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">myConsumer</span> <span class="o">=</span> <span class="o">(</span><span class="n">y</span><span class="o">)</span> <span class="o">-&gt;</span>
            <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"x = "</span> <span class="o">+</span> <span class="n">x</span><span class="o">);</span> <span class="c1">// Statement A</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"y = "</span> <span class="o">+</span> <span class="n">y</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"this.x = "</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">x</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"LambdaScopeTest.this.x = "</span> <span class="o">+</span>
                    <span class="nc">LambdaScopeTest</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">x</span><span class="o">);</span>
            <span class="o">};</span>

            <span class="n">myConsumer</span><span class="o">.</span><span class="na">accept</span><span class="o">(</span><span class="n">x</span><span class="o">);</span>

        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">LambdaScopeTest</span> <span class="n">st</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LambdaScopeTest</span><span class="o">();</span>
        <span class="nc">LambdaScopeTest</span><span class="o">.</span><span class="na">FirstLevel</span> <span class="n">fl</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="na">new</span> <span class="nf">FirstLevel</span><span class="o">();</span>
        <span class="n">fl</span><span class="o">.</span><span class="na">methodInFirstLevel</span><span class="o">(</span><span class="mi">23</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="nc">This</span> <span class="n">example</span> <span class="n">generates</span> <span class="n">the</span> <span class="n">following</span> <span class="nl">output:</span>

<span class="n">x</span> <span class="o">=</span> <span class="mi">23</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">23</span>
<span class="k">this</span><span class="o">.</span><span class="na">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nc">LambdaScopeTest</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nc">If</span> <span class="n">you</span> <span class="n">substitute</span> <span class="n">the</span> <span class="n">parameter</span> <span class="n">x</span> <span class="n">in</span> <span class="n">place</span> <span class="n">of</span> <span class="n">y</span> <span class="n">in</span> <span class="n">the</span> <span class="n">declaration</span> <span class="n">of</span> <span class="n">the</span> <span class="n">lambda</span> <span class="n">expression</span> <span class="n">myConsumer</span><span class="o">,</span> <span class="n">then</span> <span class="n">the</span> <span class="n">compiler</span> <span class="n">generates</span> <span class="n">an</span> <span class="nl">error:</span>

<span class="nc">Consumer</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">myConsumer</span> <span class="o">=</span> <span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
    <span class="c1">// ...</span>
<span class="o">}</span>
<span class="nc">The</span> <span class="n">compiler</span> <span class="n">generates</span> <span class="n">the</span> <span class="n">error</span> <span class="s">"variable x is already defined in method methodInFirstLevel(int)"</span> <span class="n">because</span> <span class="n">the</span> <span class="n">lambda</span> <span class="n">expression</span> <span class="n">does</span> <span class="n">not</span> <span class="n">introduce</span> <span class="n">a</span> <span class="k">new</span> <span class="n">level</span> <span class="n">of</span> <span class="n">scoping</span><span class="o">.</span> <span class="nc">Consequently</span><span class="o">,</span> <span class="n">you</span> <span class="n">can</span> <span class="n">directly</span> <span class="n">access</span> <span class="n">fields</span><span class="o">,</span> <span class="n">methods</span><span class="o">,</span> <span class="n">and</span> <span class="n">local</span> <span class="n">variables</span> <span class="n">of</span> <span class="n">the</span> <span class="n">enclosing</span> <span class="n">scope</span><span class="o">.</span> <span class="nc">For</span> <span class="n">example</span><span class="o">,</span> <span class="n">the</span> <span class="n">lambda</span> <span class="n">expression</span> <span class="n">directly</span> <span class="n">accesses</span> <span class="n">the</span> <span class="n">parameter</span> <span class="n">x</span> <span class="n">of</span> <span class="n">the</span> <span class="n">method</span> <span class="n">methodInFirstLevel</span><span class="o">.</span> <span class="nc">To</span> <span class="n">access</span> <span class="n">variables</span> <span class="n">in</span> <span class="n">the</span> <span class="n">enclosing</span> <span class="kd">class</span><span class="err">,</span> <span class="nc">use</span> <span class="n">the</span> <span class="n">keyword</span> <span class="k">this</span><span class="o">.</span> <span class="nc">In</span> <span class="k">this</span> <span class="n">example</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">x</span> <span class="n">refers</span> <span class="n">to</span> <span class="n">the</span> <span class="n">member</span> <span class="n">variable</span> <span class="nc">FirstLevel</span><span class="o">.</span><span class="na">x</span><span class="o">.</span>

<span class="nc">However</span><span class="o">,</span> <span class="n">like</span> <span class="n">local</span> <span class="n">and</span> <span class="n">anonymous</span> <span class="n">classes</span><span class="o">,</span> <span class="n">a</span> <span class="n">lambda</span> <span class="n">expression</span> <span class="n">can</span> <span class="n">only</span> <span class="n">access</span> <span class="n">local</span> <span class="n">variables</span> <span class="n">and</span> <span class="n">parameters</span> <span class="n">of</span> <span class="n">the</span> <span class="n">enclosing</span> <span class="n">block</span> <span class="n">that</span> <span class="n">are</span> <span class="kd">final</span> <span class="n">or</span> <span class="n">effectively</span> <span class="kd">final</span><span class="o">.</span> <span class="nc">For</span> <span class="n">example</span><span class="o">,</span> <span class="n">suppose</span> <span class="n">that</span> <span class="n">you</span> <span class="n">add</span> <span class="n">the</span> <span class="n">following</span> <span class="n">assignment</span> <span class="n">statement</span> <span class="n">immediately</span> <span class="n">after</span> <span class="n">the</span> <span class="n">methodInFirstLevel</span> <span class="n">definition</span> <span class="nl">statement:</span>

<span class="kt">void</span> <span class="nf">methodInFirstLevel</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">99</span><span class="o">;</span>
    <span class="c1">// ...</span>
<span class="o">}</span>
<span class="nc">Because</span> <span class="n">of</span> <span class="k">this</span> <span class="n">assignment</span> <span class="n">statement</span><span class="o">,</span> <span class="n">the</span> <span class="n">variable</span> <span class="nc">FirstLevel</span><span class="o">.</span><span class="na">x</span> <span class="n">is</span> <span class="n">not</span> <span class="n">effectively</span> <span class="kd">final</span> <span class="n">anymore</span><span class="o">.</span> <span class="nc">As</span> <span class="n">a</span> <span class="n">result</span><span class="o">,</span> <span class="n">the</span> <span class="nc">Java</span> <span class="n">compiler</span> <span class="n">generates</span> <span class="n">an</span> <span class="n">error</span> <span class="n">message</span> <span class="n">similar</span> <span class="n">to</span> <span class="s">"local variables referenced from a lambda expression must be final or effectively final"</span> <span class="n">where</span> <span class="n">the</span> <span class="n">lambda</span> <span class="n">expression</span> <span class="n">myConsumer</span> <span class="n">tries</span> <span class="n">to</span> <span class="n">access</span> <span class="n">the</span> <span class="nc">FirstLevel</span><span class="o">.</span><span class="na">x</span> <span class="nl">variable:</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"x = "</span> <span class="o">+</span> <span class="n">x</span><span class="o">);</span>
</pre></table></code></div></div><hr /><h2 id="target-typing">Target Typing</h2><p>How do you determine the type of a lambda expression? Recall the lambda expression that selected members who are male and between the ages 18 and 25 years:</p><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre>p -&gt; p.getGender() == Person.Sex.MALE
    &amp;&amp; p.getAge() &gt;= 18
    &amp;&amp; p.getAge() &lt;= 25
This lambda expression was used in the following two methods:

public static void printPersons(List&lt;Person&gt; roster, CheckPerson tester) in Approach 3: Specify Search Criteria Code in a Local Class

public void printPersonsWithPredicate(List&lt;Person&gt; roster, Predicate&lt;Person&gt; tester) in Approach 6: Use Standard Functional Interfaces with Lambda Expressions

When the Java runtime invokes the method printPersons, it's expecting a data type of CheckPerson, so the lambda expression is of this type. However, when the Java runtime invokes the method printPersonsWithPredicate, it's expecting a data type of Predicate&lt;Person&gt;, so the lambda expression is of this type. The data type that these methods expect is called the target type. To determine the type of a lambda expression, the Java compiler uses the target type of the context or situation in which the lambda expression was found. It follows that you can only use lambda expressions in situations in which the Java compiler can determine a target type:

Variable declarations

Assignments

Return statements

Array initializers

Method or constructor arguments

Lambda expression bodies

Conditional expressions, ?:

Cast expressions
</pre></table></code></div></div><hr /><h2 id="target-types-and-method-arguments">Target Types and Method Arguments</h2><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre>For method arguments, the Java compiler determines the target type with two other language features: overload resolution and type argument inference.

Consider the following two functional interfaces ( java.lang.Runnable and java.util.concurrent.Callable&lt;V&gt;):

public interface Runnable {
    void run();
}

public interface Callable&lt;V&gt; {
    V call();
}
The method Runnable.run does not return a value, whereas Callable&lt;V&gt;.call does.

Suppose that you have overloaded the method invoke as follows (see Defining Methods for more information about overloading methods):

void invoke(Runnable r) {
    r.run();
}

&lt;T&gt; T invoke(Callable&lt;T&gt; c) {
    return c.call();
}
Which method will be invoked in the following statement?

String s = invoke(() -&gt; "done");
The method invoke(Callable&lt;T&gt;) will be invoked because that method returns a value; the method invoke(Runnable) does not. In this case, the type of the lambda expression () -&gt; "done" is Callable&lt;T&gt;.
</pre></table></code></div></div><hr /><h2 id="serialization">Serialization</h2><p>You can serialize a lambda expression if its target type and its captured arguments are serializable. However, like inner classes, the serialization of lambda expressions is strongly discouraged.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/00codenote/'>00CodeNote</a>, <a href='/categories/javanote/'>JavaNote</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/java/" class="post-tag no-text-decoration" >Java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Java - Lambda Expressions - Grace&url=https://ocholuo.github.io//posts/Java-lambda/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Java - Lambda Expressions - Grace&u=https://ocholuo.github.io//posts/Java-lambda/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Java - Lambda Expressions - Grace&url=https://ocholuo.github.io//posts/Java-lambda/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Amazon-CloudFront/">AWS Lab - AWS CloudFront</a><li><a href="/posts/Alexa-1stSkill/">AWS Alex First Skill - RedVelvet Time</a><li><a href="/posts/NetworkProtocol-SSL-TLS-Handshake/">NetworkProtocol SSL/TLS Handshake</a><li><a href="/posts/pythonCrash/">Python Crash</a><li><a href="/posts/%E4%B8%80%E5%8F%A5%E8%AF%9D%E8%A7%A3%E9%87%8AAWS/">AWS - 一句话解释AWS</a><li><a href="/posts/GKE/">GCP - Google Cloud Computing - Kubernetes and Kubernetes Engine</a><li><a href="/posts/Go-Note/">Go Note</a><li><a href="/posts/SCPs/">AWS - IdenAccessManage - SCPs (Service Control Policies)</a><li><a href="/posts/CompanyBenefit/">Company Benefit</a><li><a href="/posts/Encryption-SSL&TLS/">Cryptography - SSL/TLS Encryption</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/cyberattack/">CyberAttack</a> <a class="post-tag" href="/tags/lab/">Lab</a> <a class="post-tag" href="/tags/cyberattacktools/">CyberAttackTools</a> <a class="post-tag" href="/tags/gcp/">GCP</a> <a class="post-tag" href="/tags/sysadmin/">Sysadmin</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/soc/">SOC</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/DukeJava-1-1-1-PE-Modifying-Images-Pixel/"><div class="card-body"> <span class="timeago small" >Sep 2, 2020<i class="unloaded">2020-09-02T11:11:11-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java - DukeJava - 1-1-1 Programming Exercise 1 Modifying Images Pixel</h3><div class="text-muted small"><p> DukeJava - 1-1-1 Programming Foundations with JS, HTML and CSS Java-Programming-and-Software-Engineering-Fundamentals-Specialization 1.Programming-Foundations-with-JavaScript-HTML-and-CSS ...</p></div></div></a></div><div class="card"> <a href="/posts/DukeJava-4-1-1-PE-1-Searching-Earthquake-Data/"><div class="card-body"> <span class="timeago small" >Sep 10, 2020<i class="unloaded">2020-09-10T11:11:11-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java - DukeJava - 4-1-1 - Programming Exercise - Searching Earthquake Data</h3><div class="text-muted small"><p> DukeJava - 4-1-1 - Programming Exercise - Searching Earthquake Data [toc] Java-Programming-and-Software-Engineering-Fundamentals-Specialization 4.Java-Programming-Principles-of-Software-Design...</p></div></div></a></div><div class="card"> <a href="/posts/DukeJava-4-1-2-PE-2-Filtering-Data/"><div class="card-body"> <span class="timeago small" >Sep 12, 2020<i class="unloaded">2020-09-12T11:11:11-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Java - DukeJava - 4-1-2 Programming Exercise 2 - Filtering Data</h3><div class="text-muted small"><p> DukeJava - 4-1-2 Programming Exercise 2 - Filtering Data [toc] Java-Programming-and-Software-Engineering-Fundamentals-Specialization 4.Java-Programming-Principles-of-Software-Design ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Java-OnePage/" class="btn btn-outline-primary" prompt="Older"><p>Java - Specific Classes / API</p></a> <a href="/posts/POJO-and-JavaBeans/" class="btn btn-outline-primary" prompt="Newer"><p>Java - POJO and JavaBeansrview Questiones</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/ocholuo">Grace JyL</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/cyberattack/">CyberAttack</a> <a class="post-tag" href="/tags/lab/">Lab</a> <a class="post-tag" href="/tags/cyberattacktools/">CyberAttackTools</a> <a class="post-tag" href="/tags/gcp/">GCP</a> <a class="post-tag" href="/tags/sysadmin/">Sysadmin</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/soc/">SOC</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://ocholuo.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script async src="https://cdn.jsdelivr.net/npm/countup.js@1.9.3/dist/countUp.min.js"></script> <script defer src="/assets/js/dist/pvreport.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-179830187-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-179830187-1'); }); </script>
