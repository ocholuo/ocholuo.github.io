<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="pv-proxy-endpoint" content="https://myochosite-291718.appspot.com/query?id=ahNwfm15b2Nob3NpdGUtMjkxNzE4chULEghBcGlRdWVyeRiAgIDo14eBCgw"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="AWS - CodeDevelop - CloudFormation - Template AWS::Config" /><meta property="og:locale" content="en" /><meta name="description" content="[toc]" /><meta property="og:description" content="[toc]" /><link rel="canonical" href="https://ocholuo.github.io//posts/CloudFormationTemplate-0-config/" /><meta property="og:url" content="https://ocholuo.github.io//posts/CloudFormationTemplate-0-config/" /><meta property="og:site_name" content="Grace" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-07-18T11:11:11-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="AWS - CodeDevelop - CloudFormation - Template AWS::Config" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-10-30T21:02:21-04:00","datePublished":"2020-07-18T11:11:11-04:00","description":"[toc]","headline":"AWS - CodeDevelop - CloudFormation - Template AWS::Config","mainEntityOfPage":{"@type":"WebPage","@id":"https://ocholuo.github.io//posts/CloudFormationTemplate-0-config/"},"url":"https://ocholuo.github.io//posts/CloudFormationTemplate-0-config/"}</script><title>AWS - CodeDevelop - CloudFormation - Template `AWS::Config` | Grace</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Grace"><meta name="application-name" content="Grace"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://myochosite-291718.appspot.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://myochosite-291718.appspot.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/huoye.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Grace</a></div><div class="site-subtitle font-italic">2023 Mar 14 updated</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/ocholuo" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['',''].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>AWS - CodeDevelop - CloudFormation - Template `AWS::Config`</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>AWS - CodeDevelop - CloudFormation - Template `AWS::Config`</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Grace JyL </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Jul 18, 2020, 11:11 AM -0400" >Jul 18, 2020<i class="unloaded">2020-07-18T11:11:11-04:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Oct 30, 2022, 6:02 PM -0700" >Oct 30, 2022<i class="unloaded">2022-10-30T21:02:21-04:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3028 words">16 min read</span> <span id="pv" class="pageviews"> <i class="fas fa-spinner fa-spin fa-fw"></i> </span> views</div></div><div class="post-content"><p>[toc]</p><ul><li>ref<ul><li><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-config-configrule.html">aws doc</a><li><a href="https://stelligent.com/2019/10/31/deploy-managed-config-rules-using-cloudformation-and-codepipeline/">Deploy Managed Config Rules using CloudFormation and CodePipeline</a></ul></ul><hr /><h1 id="config">config</h1><hr /><h2 id="step1">step1</h2><p>add a new custom AWS Config rule</p><ul><li>must first create the AWS Lambda function that the rule invokes to evaluate your resources.<li>When use the PutConfigRule action to add the rule to AWS Config, must specify the Amazon Resource Name (ARN) that AWS Lambda assigns to the function.<li>Specify the ARN for the SourceIdentifier key. This key is part of the Source object, which is part of the ConfigRule object.</ul><hr /><h2 id="awsconfigconfigrole">AWS::Config::ConfigRole</h2><div class="language-yaml highlighter-rouge"><div class="code-header" text-data="yaml"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::IAM::Role</span>
<span class="na">Properties</span><span class="pi">:</span>
  <span class="na">AssumeRolePolicyDocument</span><span class="pi">:</span>
    <span class="na">Version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">2012-10-17'</span>
    <span class="na">Statement</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">Sid</span><span class="pi">:</span> <span class="s">RoleforConfig</span>
      <span class="na">Effect</span><span class="pi">:</span> <span class="s">Allow</span>
      <span class="na">Action</span><span class="pi">:</span> <span class="s1">'</span><span class="s">sts:AssumeRole'</span>
      <span class="na">Principal</span><span class="pi">:</span>
        <span class="na">Service</span><span class="pi">:</span> <span class="s1">'</span><span class="s">config.amazonaws.com'</span>
  <span class="na">ManagedPolicyArns</span><span class="pi">:</span> <span class="s1">'</span><span class="s">arn:aws:iam::aws:policy/service-role/AWSConfigRole'</span>
</pre></table></code></div></div><hr /><h2 id="step2">step2</h2><p>To enable AWS Config, must create <font color="red"> a configuration recorder and a delivery channel </font>.</p><ul><li>If create the resources separately, must create a configuration recorder before create a delivery channel.<li>AWS Config uses the <strong>configuration recorder</strong> to capture configuration changes to your resources.<li>AWS Config uses the <strong>delivery channel</strong> to deliver the configuration changes to S3 bucket or Amazon SNS topic.</ul><hr /><h2 id="awsconfigconfigurationrecorder">AWS::Config::ConfigurationRecorder</h2><font color="red"> The configuration recorder </font><ul><li>describes the AWS resource types for which AWS Config records configuration changes.<li>stores the configurations of the supported resources in your account as configuration items.<li>AWS CloudFormation starts the recorder as soon as the delivery channel is available.<li>To stop the recorder, delete the configuration recorder from your stack.</ul><div class="language-yaml highlighter-rouge"><div class="code-header" text-data="yaml"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::Config::ConfigurationRecorder</span>
<span class="na">Properties</span><span class="pi">:</span>
  <span class="na">Name</span><span class="pi">:</span> <span class="s">String</span>
  <span class="c1"># Specifies the types of AWS resource for which AWS Config records configuration changes.</span>
  <span class="c1"># whether to record configurations for all supported resources or for a list of resource types.</span>
  <span class="c1"># The resource types that you list must be supported by AWS Config.</span>
  <span class="na">RecordingGroup</span><span class="pi">:</span>
      <span class="na">AllSupported</span><span class="pi">:</span> <span class="s">Boolean</span>
      <span class="c1"># whether AWS Config records configuration changes for every supported type of regional resource.</span>
      <span class="c1"># set to true: when AWS Config adds support for a new type of regional resource, it starts recording resources of that type automatically; you cannot enumerate a list of resourceTypes.</span>
      <span class="na">IncludeGlobalResourceTypes</span><span class="pi">:</span> <span class="s">Boolean</span>
      <span class="c1"># whether AWS Config includes all supported types of global resources (for example, IAM resources) with the resources that it records.</span>
      <span class="c1"># Before can set to true, must set the AllSupported option to true.</span>
      <span class="c1"># If set to true, when AWS Config adds support for a new type of global resource, it starts recording resources of that type automatically.</span>
      <span class="c1"># The configuration details for any global resource are the same in all regions. To prevent duplicate configuration items, you should consider customizing AWS Config in only one region to record global resources.</span>
      <span class="na">ResourceTypes</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">AWS::EC2::Volume"</span>
      <span class="c1"># A comma-separated list that specifies the types of AWS resources for which AWS Config records configuration changes</span>
  <span class="c1"># The Amazon Resource Name (ARN) of the IAM role that is used to make read or write requests to the delivery channel and to get configuration details for supported AWS resources.</span>
  <span class="na">RoleARN</span><span class="pi">:</span>
      <span class="na">Fn::GetAtt</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">ConfigRole</span>
        <span class="pi">-</span> <span class="s">Arn</span>
</pre></table></code></div></div><p><a href="https://docs.aws.amazon.com/config/latest/developerguide/resource-config-reference.html#supported-resources">AWS Config supports the following AWS resources types and resource relationships.</a></p><hr /><h2 id="awsconfigdeliverychannel">AWS::Config::DeliveryChannel</h2><p>Specifies a delivery channel object to <font color="blue"> deliver configuration information to an S3 bucket and SNS topic </font>.</p><ul><li>Before you can create a delivery channel, must create a configuration recorder.<li>use this action to change the Amazon S3 bucket or an Amazon SNS topic of the existing delivery channel.<li>To change the Amazon S3 bucket or an Amazon SNS topic, call this action and specify the changed values for the S3 bucket and the SNS topic.<li>If you specify a different value for either the S3 bucket or the SNS topic, this action will keep the existing value for the parameter that is not changed.<li>can have only one delivery channel per region in your account.<li>When create the delivery channel, you can specify;<ul><li>how often AWS Config delivers configuration snapshots to your Amazon S3 bucket (for example, 24 hours),<li>the S3 bucket to which AWS Config sends configuration snapshots and configuration history files,<li>and the Amazon SNS topic to which AWS Config sends notifications about configuration changes, such as updated resources, AWS Config rule evaluations,<li>and when AWS Config delivers the configuration snapshot to your S3 bucket.</ul></ul><div class="language-yaml highlighter-rouge"><div class="code-header" text-data="yaml"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="na">DeliveryChannel</span><span class="pi">:</span>
  <span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::Config::DeliveryChannel</span>
  <span class="na">Properties</span><span class="pi">:</span>
    <span class="c1"># how often AWS Config delivers configuration snapshots to the S3 bucket.</span>
    <span class="na">ConfigSnapshotDeliveryProperties</span><span class="pi">:</span>
      <span class="na">DeliveryFrequency</span><span class="pi">:</span> <span class="s2">"</span><span class="s">One_Hour</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">Six_Hours</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">Three_Hours</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">Twelve_Hours</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">TwentyFour_Hours"</span>
    <span class="na">Name</span><span class="pi">:</span> <span class="s">String</span>
    <span class="c1"># The name of the S3 bucket to which AWS Config delivers configuration snapshots and configuration history files.</span>
    <span class="c1"># If specify a bucket that belongs to another AWS account, that bucket must have policies that grant access permissions to AWS Config</span>
    <span class="na">S3BucketName</span><span class="pi">:</span>
      <span class="na">Ref</span><span class="pi">:</span> <span class="s">ConfigBucket</span>
    <span class="na">S3KeyPrefix</span><span class="pi">:</span> <span class="s">String</span>
    <span class="c1"># The Amazon Resource Name (ARN) of the Amazon SNS topic to which AWS Config sends notifications about configuration changes.</span>
    <span class="c1"># If choose a topic from another account, the topic must have policies that grant access permissions to AWS Config</span>
    <span class="na">SnsTopicARN</span><span class="pi">:</span>
      <span class="na">Ref</span><span class="pi">:</span> <span class="s">ConfigTopic</span>
</pre></table></code></div></div><hr /><h2 id="step3">step3</h2><p>create rule</p><hr /><h2 id="awsconfigconfigrule">AWS::Config::ConfigRule</h2><p>Specifies an AWS Config rule for evaluating whether your AWS resources comply with your desired configurations.</p><ul><li>use this action for <code class="language-plaintext highlighter-rouge">custom AWS Config rules</code> and <code class="language-plaintext highlighter-rouge">AWS managed Config rules</code>.<li>A custom AWS Config rule is a rule that you develop and maintain.<li>An AWS managed Config rule is a customizable, predefined rule that AWS Config provides.</ul><p>to add new custom AWS Config rule</p><ol><li>first create the AWS Lambda function that the rule invokes to evaluate your resources.<li>When you use the PutConfigRule action to add the rule to AWS Config, you must specify the Lambda function ARN.<li>Specify the ARN for the <code class="language-plaintext highlighter-rouge">SourceIdentifier</code> key. This key is part of the Source object, which is part of the ConfigRule object.</ol><p>to add new AWS managed Config rule</p><ol><li>pecify the rule’s identifier for the <code class="language-plaintext highlighter-rouge">SourceIdentifier</code> key.<li>To reference AWS managed Config rule identifiers, see About AWS Managed Config Rules.</ol><font color="red"> ConfigRuleName </font><ul><li>For new rule, specify the <code class="language-plaintext highlighter-rouge">ConfigRuleName</code> in the ConfigRule object.<ul><li>Do not specify the ConfigRuleArn or the ConfigRuleId. These values are generated by AWS Config for new rules.</ul><li>updating a rule, specify the rule by <code class="language-plaintext highlighter-rouge">ConfigRuleName, ConfigRuleId, or ConfigRuleArn</code> in the ConfigRule data type that you use in this request.</ul><div class="language-yaml highlighter-rouge"><div class="code-header" text-data="yaml"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
</pre><td class="rouge-code"><pre><span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::Config::ConfigRule</span>
<span class="na">Properties</span><span class="pi">:</span>
  <span class="c1"># If don't specify a name, AWS CloudFormation generates a unique physical ID</span>
  <span class="na">ConfigRuleName</span><span class="pi">:</span> <span class="s">String</span>
  <span class="na">Description</span><span class="pi">:</span> <span class="s">String</span>
  <span class="c1"># A string, in JSON format, that is passed to the AWS Config rule Lambda function.</span>
  <span class="na">InputParameters</span><span class="pi">:</span> <span class="s">Json</span>
    <span class="s">application</span><span class="err">:</span> <span class="s1">'</span><span class="s">oneNote'</span>
    <span class="na">platformType</span><span class="pi">:</span> <span class="s1">'</span><span class="s">Win'</span>
  <span class="c1"># The maximum frequency with which AWS Config runs evaluations for a rule.</span>
  <span class="c1"># You can specify a value for MaximumExecutionFrequency when:</span>
  <span class="c1"># use an AWS managed rule that is triggered at a periodic frequency.</span>
  <span class="c1"># the custom rule is triggered when AWS Config delivers the configuration snapshot.</span>
  <span class="c1"># By default, rules with a periodic trigger are evaluated every 24 hours.</span>
  <span class="c1"># Allowed values: One_Hour | Six_Hours | Three_Hours | Twelve_Hours | TwentyFour_Hours</span>
  <span class="na">MaximumExecutionFrequency</span><span class="pi">:</span> <span class="s">String</span>

  <span class="c1"># Defines which resources can trigger an evaluation for the rule.</span>
  <span class="c1"># - The scope can include one or more resource types</span>
  <span class="c1"># - a combination of one resource type and one resource ID,</span>
  <span class="c1"># - or a combination of a tag key and value.</span>
  <span class="c1"># Specify a scope to constrain the resources that can trigger an evaluation for the rule.</span>
  <span class="c1"># If do not specify a scope, evaluations are triggered when any resource in the recording group changes.</span>
  <span class="na">Scope</span><span class="pi">:</span>
    <span class="c1"># The ID of the only AWS resource that want to trigger an evaluation for the rule.</span>
    <span class="c1"># If specify a resource ID, must specify one resource type for ComplianceResourceTypes.</span>
    <span class="na">ComplianceResourceId</span><span class="pi">:</span> <span class="s">String</span>
    <span class="c1"># The resource types of only those AWS resources that you want to trigger an evaluation for the rule.</span>
    <span class="c1"># can only specify one type if you also specify a resource ID for ComplianceResourceId.</span>
    <span class="na">ComplianceResourceTypes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">String</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">AWS::EC2::Volume"</span>
    <span class="c1"># The tag key that is applied to only those AWS resources that you want to trigger an evaluation for the rule.</span>
    <span class="na">TagKey</span><span class="pi">:</span> <span class="s">String</span>
    <span class="c1"># The tag value applied to only those AWS resources that you want to trigger an evaluation for the rule. If you specify a value for TagValue, you must also specify a value for TagKey.</span>
    <span class="na">TagValue</span><span class="pi">:</span> <span class="s">String</span>

  <span class="c1"># Provides the rule owner (AWS or customer),</span>
  <span class="c1"># the rule identifier</span>
  <span class="c1"># and the notifications that cause the function to evaluate your AWS resources.</span>
  <span class="na">Source</span><span class="pi">:</span>
    <span class="na">Owner</span><span class="pi">:</span> <span class="s">String AWS/</span>
    <span class="c1"># Indicates whether AWS or the customer owns and manages the AWS Config rule.</span>
    <span class="na">SourceDetails</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">SourceDetail</span>
    <span class="c1"># Provides the source and type of the event</span>
    <span class="c1"># that causes AWS Config to evaluate your AWS resources.</span>
    <span class="na">SourceIdentifier</span><span class="pi">:</span> <span class="s">String</span>
    <span class="c1"># For AWS Config managed rules, a predefined identifier from a list.</span>
    <span class="c1"># - For example, IAM_PASSWORD_POLICY is a managed rule.</span>
    <span class="na">SourceIdentifier</span><span class="pi">:</span> <span class="s2">"</span><span class="s">REQUIRED_TAGS"</span>
    <span class="c1"># For custom rules, the identifier is the ARN of the rule's AWS Lambda function</span>
    <span class="c1"># - such as arn:aws:lambda:us-east-2:123456789012:function:custom_rule_name.</span>
    <span class="na">SourceIdentifier</span><span class="pi">:</span> <span class="s2">"</span><span class="s">arn:aws:lambda:us-east-2:123456789012:function:custom_rule_name"</span>
</pre></table></code></div></div><p>Return values</p><ul><li>Ref<ul><li>When you pass the logical ID of this resource to the intrinsic Ref function, Ref returns the rule name,<li>such as mystack-MyConfigRule-12ABCFPXHV4OV.</ul><li>Fn::GetAtt<ul><li>The Fn::GetAtt intrinsic function returns a value for a specified attribute of this type.<li>The following are the available attributes and sample return values.<li>For more information about using the Fn::GetAtt intrinsic function, see Fn::GetAtt.<ul><li>Arn<ul><li>The Amazon Resource Name (ARN) of the AWS Config rule<li>such as arn:aws:config:us-east-1:123456789012:config-rule/config-rule-a1bzhi.</ul><li>Compliance.Type<ul><li>The compliance status of an AWS Config rule<li>such as COMPLIANT or NON_COMPLIANT.</ul><li>ConfigRuleId<ul><li>The ID of the AWS Config rule<li>such as config-rule-a1bzhi.</ul></ul></ul></ul><hr /><h2 id="example">example</h2><h3 id="configruleforvolumetags">ConfigRuleForVolumeTags</h3><div class="language-yaml highlighter-rouge"><div class="code-header" text-data="yaml"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="na">ConfigRuleForVolumeTags</span><span class="pi">:</span>
  <span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::Config::ConfigRule</span>
  <span class="na">Properties</span><span class="pi">:</span>
    <span class="na">InputParameters</span><span class="pi">:</span>
      <span class="na">tag1Key</span><span class="pi">:</span> <span class="s">CostCenter</span>
    <span class="na">Scope</span><span class="pi">:</span>
      <span class="na">ComplianceResourceTypes</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">AWS::EC2::Volume"</span>
    <span class="na">Source</span><span class="pi">:</span>
      <span class="na">Owner</span><span class="pi">:</span> <span class="s">AWS</span>
      <span class="na">SourceIdentifier</span><span class="pi">:</span> <span class="s2">"</span><span class="s">REQUIRED_TAGS"</span>
</pre></table></code></div></div><h3 id="rule-using-lambda-function">Rule Using Lambda Function</h3><ul><li>creates a custom configuration rule that uses a Lambda function.<li>The function checks whether an EC2 volume has the <code class="language-plaintext highlighter-rouge">AutoEnableIO</code> property set to true.<li>Note that the configuration rule has a dependency on the Lambda policy so that the rule calls the function only after it’s permitted to do so.</ul><div class="language-yaml highlighter-rouge"><div class="code-header" text-data="yaml"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
</pre><td class="rouge-code"><pre>
<span class="na">ConfigPermissionToCallLambda</span><span class="pi">:</span>
  <span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::Lambda::Permission</span>
  <span class="na">Properties</span><span class="pi">:</span>
    <span class="na">FunctionName</span><span class="pi">:</span>
      <span class="na">Fn::GetAtt</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">VolumeAutoEnableIOComplianceCheck</span>
        <span class="pi">-</span> <span class="s">Arn</span>
    <span class="na">Action</span><span class="pi">:</span> <span class="s2">"</span><span class="s">lambda:InvokeFunction"</span>
    <span class="na">Principal</span><span class="pi">:</span> <span class="s2">"</span><span class="s">config.amazonaws.com"</span>

<span class="na">VolumeAutoEnableIOComplianceCheck</span><span class="pi">:</span>
  <span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::Lambda::Function</span>
  <span class="na">Properties</span><span class="pi">:</span>
    <span class="na">Code</span><span class="pi">:</span>
      <span class="na">ZipFile</span><span class="pi">:</span>
        <span class="kt">!Sub</span> <span class="pi">|</span>
          <span class="s">var aws  = require('aws-sdk');</span>
          <span class="s">var config = new aws.ConfigService();</span>
          <span class="s">var ec2 = new aws.EC2();</span>
          <span class="s">exports.handler = function(event, context) {</span>
              <span class="s">compliance = evaluateCompliance(event, function(compliance, event) {</span>
                    <span class="s">var configurationItem = JSON.parse(event.invokingEvent).configurationItem;</span>
                    <span class="s">var putEvaluationsRequest = {</span>
                        <span class="s">Evaluations: [{</span>
                            <span class="s">ComplianceResourceType: configurationItem.resourceType,</span>
                            <span class="s">ComplianceResourceId: configurationItem.resourceId,</span>
                            <span class="s">ComplianceType: compliance,</span>
                            <span class="s">OrderingTimestamp: configurationItem.configurationItemCaptureTime</span>
                        <span class="s">}],</span>
                        <span class="s">ResultToken: event.resultToken</span>
                    <span class="s">};</span>
                    <span class="s">config.putEvaluations(putEvaluationsRequest, function(err, data) {</span>
                        <span class="s">if (err) context.fail(err);</span>
                        <span class="s">else context.succeed(data);</span>
                    <span class="s">});</span>
                <span class="s">});</span>
            <span class="s">};</span>
            <span class="s">function evaluateCompliance(event, doReturn) {</span>
                <span class="s">var configurationItem = JSON.parse(event.invokingEvent).configurationItem;</span>
                <span class="s">var status = configurationItem.configurationItemStatus;</span>
                <span class="s">if (configurationItem.resourceType !== 'AWS::EC2::Volume' || event.eventLeftScope || (status !== 'OK' &amp;&amp; status !== 'ResourceDiscovered'))</span>
                    <span class="s">doReturn('NOT_APPLICABLE', event);</span>
                <span class="s">else ec2.describeVolumeAttribute({VolumeId: configurationItem.resourceId, Attribute: 'autoEnableIO'}, function(err, data) {</span>
                    <span class="s">if (err) context.fail(err);</span>
                    <span class="s">else if (data.AutoEnableIO.Value) doReturn('COMPLIANT', event);</span>
                    <span class="s">else doReturn('NON_COMPLIANT', event);</span>
                <span class="s">});</span>
            <span class="s">}</span>
    <span class="na">Handler</span><span class="pi">:</span> <span class="s2">"</span><span class="s">index.handler"</span>
    <span class="na">Runtime</span><span class="pi">:</span> <span class="s">nodejs12.x</span>
    <span class="na">Timeout</span><span class="pi">:</span> <span class="m">30</span>
    <span class="na">Role</span><span class="pi">:</span>
      <span class="na">Fn::GetAtt</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">LambdaExecutionRole</span>
        <span class="pi">-</span> <span class="s">Arn</span>


<span class="na">ConfigRuleForVolumeAutoEnableIO</span><span class="pi">:</span>
  <span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::Config::ConfigRule</span>
  <span class="na">Properties</span><span class="pi">:</span>
    <span class="na">ConfigRuleName</span><span class="pi">:</span> <span class="s">ConfigRuleForVolumeAutoEnableIO</span>
    <span class="na">Scope</span><span class="pi">:</span>
      <span class="na">ComplianceResourceId: Ref</span><span class="pi">:</span> <span class="s">Ec2Volume</span>
      <span class="na">ComplianceResourceTypes</span><span class="pi">:</span> <span class="s2">"</span><span class="s">AWS::EC2::Volume"</span>
    <span class="na">Source</span><span class="pi">:</span>
      <span class="na">Owner</span><span class="pi">:</span> <span class="s2">"</span><span class="s">CUSTOM_LAMBDA"</span>
      <span class="na">SourceDetails</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">EventSource</span><span class="pi">:</span> <span class="s2">"</span><span class="s">aws.config"</span>
          <span class="na">MessageType</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ConfigurationItemChangeNotification"</span>
      <span class="na">SourceIdentifier</span><span class="pi">:</span>
        <span class="na">Fn::GetAtt</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">VolumeAutoEnableIOComplianceCheck</span>
          <span class="pi">-</span> <span class="s">Arn</span>
  <span class="na">DependsOn</span><span class="pi">:</span> <span class="s">ConfigPermissionToCallLambda</span>

</pre></table></code></div></div><h2 id="deploy-managed-config-rules-using-cloudformation-and-codepipeline">Deploy Managed Config Rules using CloudFormation and CodePipeline</h2><h3 id="manually">manually</h3><div class="language-bash highlighter-rouge"><div class="code-header" text-data="bash"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>aws cloudformation create-stack <span class="se">\</span>
  <span class="nt">--stack-name</span> cloud-trail-encryption-enabled <span class="se">\</span>
  <span class="nt">--template-url</span> https://s3.amazonaws.com/aws-configservice-us-east-1/cloudformation-templates-for-managed-rules/CLOUD_TRAIL_ENCRYPTION_ENABLED.template <span class="se">\</span>
  <span class="nt">--capabilities</span> CAPABILITY_NAMED_IAM <span class="se">\</span>
  <span class="nt">--disable-rollback</span>
</pre></table></code></div></div><h3 id="configuring-a-deployment-pipeline-in-aws-codepipeline">configuring a deployment pipeline in AWS CodePipeline</h3><p>zip and upload all of the source files to S3 so that they can be committed to the CodeCommit repository that is automatically provisioned by the stack generated by the managed-config-rules-pipeline.yml template.</p><div class="language-yaml highlighter-rouge"><div class="code-header" text-data="yaml"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
</pre><td class="rouge-code"><pre><span class="s">buildspec.yml</span>
<span class="c1"># AWS CodeBuild will use this buildspec to download the latest CloudFormation template for the Managed Config Rules that AWS manages.</span>
<span class="na">version</span><span class="pi">:</span> <span class="m">0.2</span>
<span class="na">phases</span><span class="pi">:</span>
  <span class="na">build</span><span class="pi">:</span>
    <span class="na">commands</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">wget https://s3.amazonaws.com/aws-configservice-us-east-1/cloudformation-templates-for-managed-rules/CLOUD_TRAIL_ENCRYPTION_ENABLED.template</span>
  <span class="na">post_build</span><span class="pi">:</span>
    <span class="na">commands</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">echo Build completed on `date`</span>
<span class="na">artifacts</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">zip</span>
  <span class="na">files</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">CLOUD_TRAIL_ENCRYPTION_ENABLED.template</span>


<span class="s">managed-config-rules-pipeline.yml</span>
<span class="na">AWSTemplateFormatVersion</span><span class="pi">:</span> <span class="s1">'</span><span class="s">2010-09-09'</span>
<span class="na">Description</span><span class="pi">:</span> <span class="s">CodePipeline for Deploying Multiple Managed Config Rules</span>
<span class="na">Parameters</span><span class="pi">:</span>
  <span class="na">RepositoryBranch</span><span class="pi">:</span>
    <span class="na">Description</span><span class="pi">:</span> <span class="s">The name of the branch for the CodeCommit repo</span>
    <span class="na">Type</span><span class="pi">:</span> <span class="s">String</span>
    <span class="na">Default</span><span class="pi">:</span> <span class="s">master</span>
    <span class="na">AllowedPattern</span><span class="pi">:</span> <span class="s2">"</span><span class="s">[</span><span class="se">\\</span><span class="s">x20-</span><span class="se">\\</span><span class="s">x7E]*"</span>
    <span class="na">ConstraintDescription</span><span class="pi">:</span> <span class="s">Can contain only ASCII characters.</span>
  <span class="na">CodeCommitS3Bucket</span><span class="pi">:</span>
    <span class="na">Description</span><span class="pi">:</span> <span class="s">S3 bucket that holds zip of source code for CodeCommit Repo</span>
    <span class="na">Type</span><span class="pi">:</span> <span class="s">String</span>
  <span class="na">CodeCommitS3Key</span><span class="pi">:</span>
    <span class="na">Description</span><span class="pi">:</span> <span class="s">zipfile key located in CodeCommitS3Bucket</span>
    <span class="na">Type</span><span class="pi">:</span> <span class="s">String</span>
<span class="na">Resources</span><span class="pi">:</span>
  <span class="na">ArtifactBucket</span><span class="pi">:</span>
    <span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::S3::Bucket</span>
    <span class="na">DeletionPolicy</span><span class="pi">:</span> <span class="s">Delete</span>
  <span class="na">CodeBuildRole</span><span class="pi">:</span>
    <span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::IAM::Role</span>
    <span class="na">Properties</span><span class="pi">:</span>
      <span class="na">Path</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/"</span>
      <span class="na">AssumeRolePolicyDocument</span><span class="pi">:</span>
        <span class="na">Statement</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">Effect</span><span class="pi">:</span> <span class="s">Allow</span>
          <span class="na">Action</span><span class="pi">:</span> <span class="s">sts:AssumeRole</span>
          <span class="na">Principal</span><span class="pi">:</span>
            <span class="na">Service</span><span class="pi">:</span> <span class="s">codebuild.amazonaws.com</span>
      <span class="na">Policies</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">PolicyName</span><span class="pi">:</span> <span class="s">codebuild-service</span>
        <span class="na">PolicyDocument</span><span class="pi">:</span>
          <span class="na">Statement</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">Action</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">logs:*</span>
            <span class="pi">-</span> <span class="s">cloudwatch:*</span>
            <span class="pi">-</span> <span class="s">codebuild:*</span>
            <span class="pi">-</span> <span class="s">s3:*</span>
            <span class="na">Effect</span><span class="pi">:</span> <span class="s">Allow</span>
            <span class="na">Resource</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*"</span>
          <span class="na">Version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">2012-10-17'</span>
  <span class="na">CodeBuildConfigRules</span><span class="pi">:</span>
    <span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::CodeBuild::Project</span>
    <span class="na">DependsOn</span><span class="pi">:</span> <span class="s">CodeBuildRole</span>
    <span class="na">Properties</span><span class="pi">:</span>
      <span class="na">Name</span><span class="pi">:</span>
        <span class="na">Fn::Join</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s1">'</span><span class="s">'</span>
        <span class="pi">-</span> <span class="pi">-</span> <span class="s">Run</span>
          <span class="pi">-</span> <span class="s2">"</span><span class="s">CodePipeline"</span>
          <span class="pi">-</span> <span class="na">Ref</span><span class="pi">:</span> <span class="s">AWS::StackName</span>
      <span class="na">Description</span><span class="pi">:</span> <span class="s">Build application</span>
      <span class="na">ServiceRole</span><span class="pi">:</span>
        <span class="na">Fn::GetAtt</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">CodeBuildRole</span>
        <span class="pi">-</span> <span class="s">Arn</span>
      <span class="na">Artifacts</span><span class="pi">:</span>
        <span class="na">Type</span><span class="pi">:</span> <span class="s">no_artifacts</span>
      <span class="na">Environment</span><span class="pi">:</span>
        <span class="na">EnvironmentVariables</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">Name</span><span class="pi">:</span> <span class="s">S3_BUCKET</span>
          <span class="na">Value</span><span class="pi">:</span>
            <span class="na">Ref</span><span class="pi">:</span> <span class="s">ArtifactBucket</span>
        <span class="na">Type</span><span class="pi">:</span> <span class="s">LINUX_CONTAINER</span>
        <span class="na">ComputeType</span><span class="pi">:</span> <span class="s">BUILD_GENERAL1_SMALL</span>
        <span class="na">Image</span><span class="pi">:</span> <span class="s">aws/codebuild/eb-nodejs-4.4.6-amazonlinux-64:2.1.3</span>
      <span class="na">Source</span><span class="pi">:</span>
        <span class="na">BuildSpec</span><span class="pi">:</span> <span class="s">buildspec.yml</span>
        <span class="na">Location</span><span class="pi">:</span>
          <span class="na">Fn::Join</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s1">'</span><span class="s">'</span>
          <span class="pi">-</span> <span class="pi">-</span> <span class="s">https://git-codecommit.</span>
            <span class="pi">-</span> <span class="na">Ref</span><span class="pi">:</span> <span class="s">AWS::Region</span>
            <span class="pi">-</span> <span class="s2">"</span><span class="s">.amazonaws.com/v1/repos/"</span>
            <span class="pi">-</span> <span class="na">Ref</span><span class="pi">:</span> <span class="s">AWS::StackName</span>
        <span class="na">Type</span><span class="pi">:</span> <span class="s">CODECOMMIT</span>
      <span class="na">TimeoutInMinutes</span><span class="pi">:</span> <span class="m">10</span>
      <span class="na">Tags</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">Key</span><span class="pi">:</span> <span class="s">Owner</span>
        <span class="na">Value</span><span class="pi">:</span> <span class="s">MyCodeBuildProject</span>
  <span class="na">MySNSTopic</span><span class="pi">:</span>
    <span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::SNS::Topic</span>
  <span class="na">CodeCommitRepo</span><span class="pi">:</span>
    <span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::CodeCommit::Repository</span>
    <span class="na">Properties</span><span class="pi">:</span>
      <span class="na">RepositoryName</span><span class="pi">:</span>
        <span class="na">Ref</span><span class="pi">:</span> <span class="s">AWS::StackName</span>
      <span class="na">RepositoryDescription</span><span class="pi">:</span> <span class="s">CodeCommit Repository for Config Rule solution</span>
      <span class="na">Code</span><span class="pi">:</span>
        <span class="na">S3</span><span class="pi">:</span>
          <span class="na">Bucket</span><span class="pi">:</span> <span class="kt">!Ref</span> <span class="s">CodeCommitS3Bucket</span>
          <span class="na">Key</span><span class="pi">:</span> <span class="kt">!Ref</span> <span class="s">CodeCommitS3Key</span>
      <span class="na">Triggers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">Name</span><span class="pi">:</span> <span class="s">MasterTrigger</span>
        <span class="na">CustomData</span><span class="pi">:</span>
          <span class="na">Ref</span><span class="pi">:</span> <span class="s">AWS::StackName</span>
        <span class="na">DestinationArn</span><span class="pi">:</span>
          <span class="na">Ref</span><span class="pi">:</span> <span class="s">MySNSTopic</span>
        <span class="na">Events</span><span class="pi">:</span> <span class="s">all</span>
  <span class="na">CloudFormationTrustRole</span><span class="pi">:</span>
    <span class="na">DependsOn</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">ArtifactBucket</span>
    <span class="na">Description</span><span class="pi">:</span> <span class="s">Creating service role in IAM for AWS CloudFormation</span>
    <span class="na">Properties</span><span class="pi">:</span>
      <span class="na">AssumeRolePolicyDocument</span><span class="pi">:</span>
        <span class="na">Statement</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">Action</span><span class="pi">:</span> <span class="s">sts:AssumeRole</span>
          <span class="na">Effect</span><span class="pi">:</span> <span class="s">Allow</span>
          <span class="na">Principal</span><span class="pi">:</span>
            <span class="na">Service</span><span class="pi">:</span> <span class="s">cloudformation.amazonaws.com</span>
      <span class="na">Path</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/"</span>
      <span class="na">Policies</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">PolicyDocument</span><span class="pi">:</span>
          <span class="na">Statement</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">Action</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">s3:PutObject</span>
            <span class="pi">-</span> <span class="s">s3:GetObject</span>
            <span class="pi">-</span> <span class="s">s3:GetObjectVersion</span>
            <span class="na">Effect</span><span class="pi">:</span> <span class="s">Allow</span>
            <span class="na">Resource</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">Fn::Join</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="s1">'</span><span class="s">'</span>
              <span class="pi">-</span> <span class="pi">-</span> <span class="s1">'</span><span class="s">arn:aws:s3:::'</span>
                <span class="pi">-</span> <span class="na">Ref</span><span class="pi">:</span> <span class="s">ArtifactBucket</span>
            <span class="pi">-</span> <span class="na">Fn::Join</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="s1">'</span><span class="s">'</span>
              <span class="pi">-</span> <span class="pi">-</span> <span class="s1">'</span><span class="s">arn:aws:s3:::'</span>
                <span class="pi">-</span> <span class="na">Ref</span><span class="pi">:</span> <span class="s">ArtifactBucket</span>
                <span class="pi">-</span> <span class="s2">"</span><span class="s">/*"</span>
          <span class="pi">-</span> <span class="na">Action</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">sns:CreateTopic</span>
            <span class="pi">-</span> <span class="s">sns:DeleteTopic</span>
            <span class="pi">-</span> <span class="s">sns:ListTopics</span>
            <span class="pi">-</span> <span class="s">sns:GetTopicAttributes</span>
            <span class="pi">-</span> <span class="s">sns:SetTopicAttributes</span>
            <span class="pi">-</span> <span class="s">s3:CreateBucket</span>
            <span class="pi">-</span> <span class="s">s3:DeleteBucket</span>
            <span class="pi">-</span> <span class="s">events:*</span>
            <span class="pi">-</span> <span class="s">config:*</span>
            <span class="na">Effect</span><span class="pi">:</span> <span class="s">Allow</span>
            <span class="na">Resource</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*"</span>
          <span class="pi">-</span> <span class="na">Action</span><span class="pi">:</span> <span class="s">iam:PassRole</span>
            <span class="na">Effect</span><span class="pi">:</span> <span class="s">Allow</span>
            <span class="na">Resource</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*"</span>
          <span class="pi">-</span> <span class="na">Action</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">cloudformation:CreateChangeSet</span>
            <span class="pi">-</span> <span class="s">config:*</span>
            <span class="na">Effect</span><span class="pi">:</span> <span class="s">Allow</span>
            <span class="na">Resource</span><span class="pi">:</span> <span class="s">arn:aws:cloudformation:us-east-1:aws:transform/Serverless-2016-10-31</span>
        <span class="na">PolicyName</span><span class="pi">:</span> <span class="s">CloudFormationRolePolicy</span>
      <span class="na">RoleName</span><span class="pi">:</span>
        <span class="na">Fn::Join</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">-"</span>
        <span class="pi">-</span> <span class="pi">-</span> <span class="s">stelligent</span>
          <span class="pi">-</span> <span class="na">Ref</span><span class="pi">:</span> <span class="s">AWS::StackName</span>
          <span class="pi">-</span> <span class="s">CloudFormation</span>
    <span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::IAM::Role</span>
  <span class="na">CodePipelineRole</span><span class="pi">:</span>
    <span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::IAM::Role</span>
    <span class="na">Properties</span><span class="pi">:</span>
      <span class="na">Path</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/"</span>
      <span class="na">AssumeRolePolicyDocument</span><span class="pi">:</span>
        <span class="na">Statement</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">Effect</span><span class="pi">:</span> <span class="s">Allow</span>
          <span class="na">Action</span><span class="pi">:</span> <span class="s">sts:AssumeRole</span>
          <span class="na">Principal</span><span class="pi">:</span>
            <span class="na">Service</span><span class="pi">:</span> <span class="s">codepipeline.amazonaws.com</span>
      <span class="na">Policies</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">PolicyName</span><span class="pi">:</span> <span class="s">codepipeline-service</span>
        <span class="na">PolicyDocument</span><span class="pi">:</span>
          <span class="na">Statement</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">Action</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">s3:GetObject</span>
            <span class="pi">-</span> <span class="s">s3:GetObjectVersion</span>
            <span class="pi">-</span> <span class="s">s3:GetBucketVersioning</span>
            <span class="na">Resource</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*"</span>
            <span class="na">Effect</span><span class="pi">:</span> <span class="s">Allow</span>
          <span class="pi">-</span> <span class="na">Action</span><span class="pi">:</span> <span class="s">s3:PutObject</span>
            <span class="na">Resource</span><span class="pi">:</span> <span class="s">arn:aws:s3:::codepipeline*</span>
            <span class="na">Effect</span><span class="pi">:</span> <span class="s">Allow</span>
          <span class="pi">-</span> <span class="na">Action</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">s3:GetObject</span>
            <span class="pi">-</span> <span class="s">s3:GetObjectVersion</span>
            <span class="pi">-</span> <span class="s">s3:GetBucketVersioning</span>
            <span class="pi">-</span> <span class="s">s3:PutObject</span>
            <span class="pi">-</span> <span class="s">iam:PassRole</span>
            <span class="na">Resource</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*"</span>
            <span class="na">Effect</span><span class="pi">:</span> <span class="s">Allow</span>
          <span class="pi">-</span> <span class="na">Action</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">codecommit:*</span>
            <span class="pi">-</span> <span class="s">codebuild:*</span>
            <span class="pi">-</span> <span class="s">cloudformation:*</span>
            <span class="na">Resource</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*"</span>
            <span class="na">Effect</span><span class="pi">:</span> <span class="s">Allow</span>
          <span class="na">Version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">2012-10-17'</span>
  <span class="na">PipelineBucket</span><span class="pi">:</span>
    <span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::S3::Bucket</span>
    <span class="na">DeletionPolicy</span><span class="pi">:</span> <span class="s">Delete</span>
  <span class="na">Pipeline</span><span class="pi">:</span>
    <span class="na">Type</span><span class="pi">:</span> <span class="s">AWS::CodePipeline::Pipeline</span>
    <span class="na">Properties</span><span class="pi">:</span>
      <span class="na">RoleArn</span><span class="pi">:</span> <span class="kt">!GetAtt</span> <span class="s">CodePipelineRole.Arn</span>
    <span class="na">Properties</span><span class="pi">:</span>
      <span class="na">RoleArn</span><span class="pi">:</span>
        <span class="na">Fn::Join</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s1">'</span><span class="s">'</span>
        <span class="pi">-</span> <span class="pi">-</span> <span class="s1">'</span><span class="s">arn:aws:iam::'</span>
          <span class="pi">-</span> <span class="na">Ref</span><span class="pi">:</span> <span class="s">AWS::AccountId</span>
          <span class="pi">-</span> <span class="s2">"</span><span class="s">:role/"</span>
          <span class="pi">-</span> <span class="na">Ref</span><span class="pi">:</span> <span class="s">CodePipelineRole</span>
      <span class="na">Stages</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">Name</span><span class="pi">:</span> <span class="s">Source</span>
        <span class="na">Actions</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">InputArtifacts</span><span class="pi">:</span> <span class="pi">[]</span>
          <span class="na">Name</span><span class="pi">:</span> <span class="s">Source</span>
          <span class="na">ActionTypeId</span><span class="pi">:</span>
            <span class="na">Category</span><span class="pi">:</span> <span class="s">Source</span>
            <span class="na">Owner</span><span class="pi">:</span> <span class="s">AWS</span>
            <span class="na">Version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">1'</span>
            <span class="na">Provider</span><span class="pi">:</span> <span class="s">CodeCommit</span>
          <span class="na">OutputArtifacts</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">Name</span><span class="pi">:</span> <span class="s">MyApp</span>
          <span class="na">Configuration</span><span class="pi">:</span>
            <span class="na">BranchName</span><span class="pi">:</span>
              <span class="na">Ref</span><span class="pi">:</span> <span class="s">RepositoryBranch</span>
            <span class="na">RepositoryName</span><span class="pi">:</span>
              <span class="na">Ref</span><span class="pi">:</span> <span class="s">AWS::StackName</span>
          <span class="na">RunOrder</span><span class="pi">:</span> <span class="m">1</span>
      <span class="pi">-</span> <span class="na">Name</span><span class="pi">:</span> <span class="s">Build</span>
        <span class="na">Actions</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">InputArtifacts</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">Name</span><span class="pi">:</span> <span class="s">MyApp</span>
          <span class="na">Name</span><span class="pi">:</span> <span class="s">StoreConfigRules</span>
          <span class="na">ActionTypeId</span><span class="pi">:</span>
            <span class="na">Category</span><span class="pi">:</span> <span class="s">Build</span>
            <span class="na">Owner</span><span class="pi">:</span> <span class="s">AWS</span>
            <span class="na">Version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">1'</span>
            <span class="na">Provider</span><span class="pi">:</span> <span class="s">CodeBuild</span>
          <span class="na">OutputArtifacts</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">Name</span><span class="pi">:</span> <span class="s">ConfigRuleTemplateArtifacts</span>
          <span class="na">Configuration</span><span class="pi">:</span>
            <span class="na">ProjectName</span><span class="pi">:</span>
              <span class="na">Ref</span><span class="pi">:</span> <span class="s">CodeBuildConfigRules</span>
          <span class="na">RunOrder</span><span class="pi">:</span> <span class="m">1</span>
      <span class="pi">-</span> <span class="na">Name</span><span class="pi">:</span> <span class="s">Deploy</span>
        <span class="na">Actions</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">InputArtifacts</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">Name</span><span class="pi">:</span> <span class="s">ConfigRuleTemplateArtifacts</span>
          <span class="na">Name</span><span class="pi">:</span> <span class="s">DeployCloudTrailEncryptionTemplate</span>
          <span class="na">ActionTypeId</span><span class="pi">:</span>
            <span class="na">Category</span><span class="pi">:</span> <span class="s">Deploy</span>
            <span class="na">Owner</span><span class="pi">:</span> <span class="s">AWS</span>
            <span class="na">Version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">1'</span>
            <span class="na">Provider</span><span class="pi">:</span> <span class="s">CloudFormation</span>
          <span class="na">OutputArtifacts</span><span class="pi">:</span> <span class="pi">[]</span>
          <span class="na">Configuration</span><span class="pi">:</span>
            <span class="na">ActionMode</span><span class="pi">:</span> <span class="s">CHANGE_SET_REPLACE</span>
            <span class="na">ChangeSetName</span><span class="pi">:</span> <span class="s">pipeline-changeset</span>
            <span class="na">RoleArn</span><span class="pi">:</span>
              <span class="na">Fn::GetAtt</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="s">CloudFormationTrustRole</span>
              <span class="pi">-</span> <span class="s">Arn</span>
            <span class="na">Capabilities</span><span class="pi">:</span> <span class="s">CAPABILITY_IAM</span>
            <span class="na">StackName</span><span class="pi">:</span>
              <span class="na">Fn::Join</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="s1">'</span><span class="s">'</span>
              <span class="pi">-</span> <span class="pi">-</span> <span class="s2">"</span><span class="s">"</span>
                <span class="pi">-</span> <span class="na">Ref</span><span class="pi">:</span> <span class="s">AWS::StackName</span>
                <span class="pi">-</span> <span class="s2">"</span><span class="s">-"</span>
                <span class="pi">-</span> <span class="na">Ref</span><span class="pi">:</span> <span class="s">AWS::Region</span>
                <span class="pi">-</span> <span class="s2">"</span><span class="s">"</span>
            <span class="na">TemplatePath</span><span class="pi">:</span> <span class="s">ConfigRuleTemplateArtifacts::CLOUD_TRAIL_ENCRYPTION_ENABLED.template</span>
          <span class="na">RunOrder</span><span class="pi">:</span> <span class="m">1</span>
        <span class="pi">-</span> <span class="na">ActionTypeId</span><span class="pi">:</span>
            <span class="na">Category</span><span class="pi">:</span> <span class="s">Deploy</span>
            <span class="na">Owner</span><span class="pi">:</span> <span class="s">AWS</span>
            <span class="na">Provider</span><span class="pi">:</span> <span class="s">CloudFormation</span>
            <span class="na">Version</span><span class="pi">:</span> <span class="m">1</span>
          <span class="na">Configuration</span><span class="pi">:</span>
            <span class="na">ActionMode</span><span class="pi">:</span> <span class="s">CHANGE_SET_EXECUTE</span>
            <span class="na">ChangeSetName</span><span class="pi">:</span> <span class="s">pipeline-changeset</span>
            <span class="na">StackName</span><span class="pi">:</span>
              <span class="na">Fn::Join</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="s1">'</span><span class="s">'</span>
              <span class="pi">-</span> <span class="pi">-</span> <span class="s2">"</span><span class="s">"</span>
                <span class="pi">-</span> <span class="na">Ref</span><span class="pi">:</span> <span class="s">AWS::StackName</span>
                <span class="pi">-</span> <span class="s2">"</span><span class="s">-"</span>
                <span class="pi">-</span> <span class="na">Ref</span><span class="pi">:</span> <span class="s">AWS::Region</span>
                <span class="pi">-</span> <span class="s2">"</span><span class="s">"</span>
          <span class="na">InputArtifacts</span><span class="pi">:</span> <span class="pi">[]</span>
          <span class="na">Name</span><span class="pi">:</span> <span class="s">ExecuteChangeSetCloudTrailEncryption</span>
          <span class="na">OutputArtifacts</span><span class="pi">:</span> <span class="pi">[]</span>
          <span class="na">RunOrder</span><span class="pi">:</span> <span class="m">2</span>
      <span class="na">ArtifactStore</span><span class="pi">:</span>
        <span class="na">Type</span><span class="pi">:</span> <span class="s">S3</span>
        <span class="na">Location</span><span class="pi">:</span> <span class="kt">!Ref</span> <span class="s">PipelineBucket</span>
<span class="na">Outputs</span><span class="pi">:</span>
  <span class="na">PipelineUrl</span><span class="pi">:</span>
    <span class="na">Value</span><span class="pi">:</span> <span class="kt">!Sub</span> <span class="s">https://console.aws.amazon.com/codepipeline/home?region=${AWS::Region}#/view/${Pipeline}</span>
    <span class="na">Description</span><span class="pi">:</span> <span class="s">CodePipeline URL</span>

</pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="code-header" text-data="bash"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>
aws cloudformation create-stack <span class="se">\</span>
  <span class="nt">--stack-name</span> managed-config-rules-pipeline <span class="se">\</span>
  <span class="nt">--template-body</span> file:///home/ec2-user/environment/aws-compliance-workshop/lesson0-setup/managed-config-rules/managed-config-rules-pipeline.yml <span class="se">\</span>
  <span class="nt">--parameters</span> <span class="nv">ParameterKey</span><span class="o">=</span>CodeCommitS3Bucket, <span class="nv">ParameterValue</span><span class="o">=</span>ccoa-mcr-<span class="si">$(</span>aws sts get-caller-identity <span class="nt">--output</span> text <span class="nt">--query</span> <span class="s1">'Account'</span><span class="si">)</span> <span class="nv">ParameterKey</span><span class="o">=</span>CodeCommitS3Key, <span class="nv">ParameterValue</span><span class="o">=</span>ccoa-mcr-examples.zip <span class="se">\</span>
  <span class="nt">--capabilities</span> CAPABILITY_NAMED_IAM <span class="se">\</span>
  <span class="nt">--disable-rollback</span>

</pre></table></code></div></div><p>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/01aws/'>01AWS</a>, <a href='/categories/codedevelop/'>CodeDevelop</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/aws/" class="post-tag no-text-decoration" >AWS</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=AWS - CodeDevelop - CloudFormation - Template `AWS::Config` - Grace&url=https://ocholuo.github.io//posts/CloudFormationTemplate-0-config/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=AWS - CodeDevelop - CloudFormation - Template `AWS::Config` - Grace&u=https://ocholuo.github.io//posts/CloudFormationTemplate-0-config/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=AWS - CodeDevelop - CloudFormation - Template `AWS::Config` - Grace&url=https://ocholuo.github.io//posts/CloudFormationTemplate-0-config/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Amazon-CloudFront/">AWS Lab - AWS CloudFront</a><li><a href="/posts/Alexa-1stSkill/">AWS Alex First Skill - RedVelvet Time</a><li><a href="/posts/NetworkProtocol-SSL-TLS-Handshake/">NetworkProtocol SSL/TLS Handshake</a><li><a href="/posts/pythonCrash/">Python Crash</a><li><a href="/posts/%E4%B8%80%E5%8F%A5%E8%AF%9D%E8%A7%A3%E9%87%8AAWS/">AWS - 一句话解释AWS</a><li><a href="/posts/GKE/">GCP - Google Cloud Computing - Kubernetes and Kubernetes Engine</a><li><a href="/posts/Go-Note/">Go Note</a><li><a href="/posts/SCPs/">AWS - IdenAccessManage - SCPs (Service Control Policies)</a><li><a href="/posts/CompanyBenefit/">Company Benefit</a><li><a href="/posts/Encryption-SSL&TLS/">Cryptography - SSL/TLS Encryption</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/cyberattack/">CyberAttack</a> <a class="post-tag" href="/tags/lab/">Lab</a> <a class="post-tag" href="/tags/cyberattacktools/">CyberAttackTools</a> <a class="post-tag" href="/tags/gcp/">GCP</a> <a class="post-tag" href="/tags/sysadmin/">Sysadmin</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/soc/">SOC</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/0CodePipeline/"><div class="card-body"> <span class="timeago small" >Jul 18, 2020<i class="unloaded">2020-07-18T11:11:11-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS - CodeDevelop - CodePipeline</h3><div class="text-muted small"><p> CodePipeline basic Components of AWS Data Pipeline Accessing AWS Data Pipeline Related Services Pipeline Components, Instances, and Attempts Pipeline Def...</p></div></div></a></div><div class="card"> <a href="/posts/1CodeCommit/"><div class="card-body"> <span class="timeago small" >Jul 18, 2020<i class="unloaded">2020-07-18T11:11:11-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS - CodeDevelop - CodeCommit</h3><div class="text-muted small"><p> CodeCommit basic work flow setup CodeCommit a version control service hosted by Amazon Web Services tracks and manages code changes Ma...</p></div></div></a></div><div class="card"> <a href="/posts/2CodeBuild/"><div class="card-body"> <span class="timeago small" >Jul 18, 2020<i class="unloaded">2020-07-18T11:11:11-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS - CodeDevelop - CodeBuild</h3><div class="text-muted small"><p> CodeBuild How to run CodeBuild manually docker build process codebuild auto build docker CodeBuild # docker command to build, tag and push you docker image to...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/CloudFormation/" class="btn btn-outline-primary" prompt="Older"><p>AWS - CodeDevelop - CloudFormation</p></a> <a href="/posts/CloudFormationTemplate-0-iam/" class="btn btn-outline-primary" prompt="Newer"><p>AWS - CodeDevelop - CloudFormation - Template `AWS::IAM`</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/ocholuo">Grace JyL</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/cyberattack/">CyberAttack</a> <a class="post-tag" href="/tags/lab/">Lab</a> <a class="post-tag" href="/tags/cyberattacktools/">CyberAttackTools</a> <a class="post-tag" href="/tags/gcp/">GCP</a> <a class="post-tag" href="/tags/sysadmin/">Sysadmin</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/soc/">SOC</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://ocholuo.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script async src="https://cdn.jsdelivr.net/npm/countup.js@1.9.3/dist/countUp.min.js"></script> <script defer src="/assets/js/dist/pvreport.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-179830187-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-179830187-1'); }); </script>
