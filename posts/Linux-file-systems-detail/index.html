<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="pv-proxy-endpoint" content="https://myochosite-291718.appspot.com/query?id=ahNwfm15b2Nob3NpdGUtMjkxNzE4chULEghBcGlRdWVyeRiAgIDo14eBCgw"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Linux - File Systems - Detail" /><meta property="og:locale" content="en" /><meta name="description" content="file systems" /><meta property="og:description" content="file systems" /><link rel="canonical" href="https://ocholuo.github.io//posts/Linux-file-systems-detail/" /><meta property="og:url" content="https://ocholuo.github.io//posts/Linux-file-systems-detail/" /><meta property="og:site_name" content="Grace" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-07-16T11:11:11-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Linux - File Systems - Detail" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-07-16T11:11:11-04:00","datePublished":"2020-07-16T11:11:11-04:00","description":"file systems","headline":"Linux - File Systems - Detail","mainEntityOfPage":{"@type":"WebPage","@id":"https://ocholuo.github.io//posts/Linux-file-systems-detail/"},"url":"https://ocholuo.github.io//posts/Linux-file-systems-detail/"}</script><title>Linux - File Systems - Detail | Grace</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Grace"><meta name="application-name" content="Grace"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://myochosite-291718.appspot.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://myochosite-291718.appspot.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/huoye.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Grace</a></div><div class="site-subtitle font-italic">2023 Mar 14 updated</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/ocholuo" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['',''].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Linux - File Systems - Detail</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Linux - File Systems - Detail</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Grace JyL </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Jul 16, 2020, 11:11 AM -0400" >Jul 16, 2020<i class="unloaded">2020-07-16T11:11:11-04:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="10339 words">57 min read</span> <span id="pv" class="pageviews"> <i class="fas fa-spinner fa-spin fa-fw"></i> </span> views</div></div><div class="post-content"><h1 id="file-systems">file systems</h1><p>[toc]</p><h2 id="basics">Basics</h2><p>file system?</p><ul><li>Responsible for managing the files on a device.</ul><p>What does a file system need to do?</p><ul><li>Keep track of where the file is<li>File Length<li>Ownership<li>File name<li>File path<li>File type (block, character, directory, etc.)</ul><hr /><p><strong>File System Types</strong></p><p>use df -T to determine mounted file systems and their types.</p><p><img data-proofer-ignore data-src="https://i.imgur.com/H8UlBAu.png" alt="filesystem-distribution" /></p><p><strong>ext2</strong> <strong>ext3 – ext2 w/ Journaling</strong> <strong>ext4</strong> different generations of the standard Linux filesystem.</p><p><strong>reiserfs</strong> a filesystem developed by Microsoft for their Windows 8 Server.</p><p><strong>FAT/FAT32/NTFS</strong> Windows supports</p><p><em>NTFS, NT File System</em>, the most modern file system. Windows uses NTFS for its system drive and, by default, for most non-removable drives.</p><ul><li>NTFS is packed with modern features which are not available on FAT32 and exFAT: file permissions for security, a change journal that can help quickly recover errors if your computer crashes, shadow copies for backups, encryption, disk quota limits, hard links, and various other features.<li>Compatibility : Works with all versions of Windows, but read-only with Mac by default, and may be read-only by default with some Linux distributions.<li>Limitations : No realistic file-size or partition size limits.<li>Ideal Usage : Windows system drive and other internal drives that will just be used with Windows.</ul><p><em>FAT32, File Allocation Table</em>, is an older file system that’s not as efficient as NTFS and doesn’t support as big a feature set, but does offer greater compatibility with other operating systems.</p><ul><li>Compatibility : Works with all versions of Windows, Mac, Linux, game consoles, and practically anything with a USB port.<li>Limitations : 4 GB maximum file size, 8 TB maximum partition size.<li>Ideal Usage : Use it on removable drives where you need maximum compatibility with the widest range of devices,assuming you don’t have any files 4 GB or larger in size.</ul><p><em>exFAT,Extended File Allocation Table</em>, modern replacement for FAT32 and more devices and operating systems support it than NTFS but it’s not nearly as widespread as FAT32.</p><ul><li>Compatibility : Works with all versions of Windows and modern versions of Mac OS X, but requires additional software on Linux. More devices support exFAT than support NTFS.<li>Limitations : No realistic file-size or partition-size limits.<li>Ideal Usage : Use it when you need bigger file size and partition limits than FAT32 offers and when you need more compatibility than NTFS offers.</ul><p><strong>ISO 9660</strong></p><p><strong>HFS</strong></p><ul><li>Mac OS Standard filesystem, used on Apple computers. HFS is obsolete and it is being phased out by Apple. Starting with Mac OS X 10.6 (Snow Leopard), Mac OS does not format disks to HFS, and existing HFS disks are read only. <strong>HFSPlus</strong><li>Mac OS Extended filesystem, the default filesystem on Apple computers and other complex devices like iPod.</ul><hr /><h2 id="fdisk-必要参数选择参数"><code class="language-plaintext highlighter-rouge">fdisk [必要参数][选择参数]</code></h2><div class="language-py highlighter-rouge"><div class="code-header" text-data="py"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre>
<span class="n">必要参数</span><span class="err">：</span>
<span class="o">-</span><span class="n">l</span> <span class="n">列出素所有分区表</span>
<span class="o">-</span><span class="n">u</span> <span class="n">与</span><span class="s">"-l"</span><span class="n">搭配使用</span><span class="err">，</span><span class="n">显示分区数目</span>


<span class="n">选择参数</span><span class="err">：</span>
<span class="o">-</span><span class="n">s</span><span class="o">&lt;</span><span class="n">分区编号</span><span class="o">&gt;</span> <span class="n">指定分区</span>
<span class="o">-</span><span class="n">v</span> <span class="n">版本信息</span>


<span class="n">菜单操作说明</span>
<span class="n">m</span> <span class="err">：</span><span class="n">显示菜单和帮助信息</span>
<span class="n">a</span> <span class="err">：</span><span class="n">活动分区标记</span><span class="o">/</span><span class="n">引导分区</span>
<span class="n">d</span> <span class="err">：</span><span class="n">删除分区</span>
<span class="n">l</span> <span class="err">：</span><span class="n">显示分区类型</span>
<span class="n">n</span> <span class="err">：</span><span class="n">新建分区</span>
<span class="n">p</span> <span class="err">：</span><span class="n">显示分区信息</span>
<span class="n">q</span> <span class="err">：</span><span class="n">退出不保存</span>
<span class="n">t</span> <span class="err">：</span><span class="n">设置分区号</span>
<span class="n">v</span> <span class="err">：</span><span class="n">进行分区检查</span>
<span class="n">w</span> <span class="err">：</span><span class="n">保存修改</span>
<span class="n">x</span> <span class="err">：</span><span class="n">扩展应用</span><span class="err">，</span><span class="n">高级功能</span>
</pre></table></code></div></div><div class="language-c highlighter-rouge"><div class="code-header" text-data="c"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="cp"># fdisk -l
</span>
<span class="n">Disk</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda</span><span class="o">:</span> <span class="mi">10</span><span class="p">.</span><span class="mi">7</span> <span class="n">GB</span><span class="p">,</span> <span class="mi">10737418240</span> <span class="n">bytes</span>
<span class="mi">255</span> <span class="n">heads</span><span class="p">,</span> <span class="mi">63</span> <span class="n">sectors</span><span class="o">/</span><span class="n">track</span><span class="p">,</span> <span class="mi">1305</span> <span class="n">cylinders</span>
<span class="n">Units</span> <span class="o">=</span> <span class="n">cylinders</span> <span class="n">of</span> <span class="mi">16065</span> <span class="o">*</span> <span class="mi">512</span> <span class="o">=</span> <span class="mi">8225280</span> <span class="n">bytes</span>

<span class="n">Device</span> <span class="n">Boot</span>   <span class="n">Start</span>     <span class="n">End</span>   <span class="n">Blocks</span>  <span class="n">Id</span> <span class="n">System</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda1</span>  <span class="o">*</span>      <span class="mi">1</span>     <span class="mi">13</span>   <span class="mi">104391</span>   <span class="mi">83</span> <span class="n">Linux</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda2</span>       <span class="mi">14</span>    <span class="mi">1305</span>  <span class="mi">10377990</span>  <span class="mi">8</span><span class="n">e</span> <span class="n">Linux</span> <span class="n">LVM</span>

<span class="n">Disk</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sdb</span><span class="o">:</span> <span class="mi">5368</span> <span class="n">MB</span><span class="p">,</span> <span class="mi">5368709120</span> <span class="n">bytes</span>
<span class="mi">255</span> <span class="n">heads</span><span class="p">,</span> <span class="mi">63</span> <span class="n">sectors</span><span class="o">/</span><span class="n">track</span><span class="p">,</span> <span class="mi">652</span> <span class="n">cylinders</span>
<span class="n">Units</span> <span class="o">=</span> <span class="n">cylinders</span> <span class="n">of</span> <span class="mi">16065</span> <span class="o">*</span> <span class="mi">512</span> <span class="o">=</span> <span class="mi">8225280</span> <span class="n">bytes</span>

<span class="n">Disk</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sdb</span> <span class="n">doesnt</span> <span class="n">contain</span> <span class="n">a</span> <span class="n">valid</span> <span class="n">partition</span> <span class="n">table</span>
</pre></table></code></div></div><hr /><h2 id="mkfs--v--t-fstype-fs-options-filesys-blocks"><code class="language-plaintext highlighter-rouge">mkfs [-V] [-t fstype] [fs-options] filesys [blocks]</code></h2><p>在特定的分区上建立 linux 文件系统</p><div class="language-c highlighter-rouge"><div class="code-header" text-data="c"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
</pre><td class="rouge-code"><pre><span class="err">参数</span> <span class="err">：</span>

<span class="n">device</span> <span class="err">：</span> <span class="err">预备检查的硬盘分区，例如：</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda1</span>
<span class="o">-</span><span class="n">V</span> <span class="o">:</span> <span class="err">详细显示模式</span>
<span class="o">-</span><span class="n">t</span> <span class="n">fstype</span> <span class="o">:</span> <span class="err">给定</span> <span class="err">档案系统的型式</span><span class="p">(</span><span class="n">ext3</span><span class="p">,</span> <span class="n">reiserfs</span><span class="p">,</span> <span class="n">ext2</span><span class="p">,</span> <span class="n">fat32</span><span class="p">,</span> <span class="n">msdos</span><span class="p">)</span><span class="err">，预设值为</span> <span class="n">ext2</span>
<span class="o">-</span><span class="n">c</span> <span class="n">partition</span><span class="o">:</span> <span class="err">在制做档案系统前，检查该</span><span class="n">partition</span> <span class="err">是否有坏轨</span>
<span class="o">-</span><span class="n">l</span> <span class="n">bad_blocks_file</span> <span class="o">:</span> <span class="err">将有坏轨的</span><span class="n">block</span><span class="err">资料加到</span> <span class="n">bad_blocks_file</span> <span class="err">里面</span>
<span class="n">block</span> <span class="o">:</span> <span class="err">给定</span> <span class="n">block</span> <span class="err">的大小</span>


<span class="err">在</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">hda5</span> <span class="err">上建一个</span> <span class="n">msdos</span> <span class="err">的档案系统，同时检查是否有坏轨存在，并且将过程详细列出来</span> <span class="o">:</span>

    <span class="n">mkfs</span> <span class="o">-</span><span class="n">V</span> <span class="o">-</span><span class="n">t</span> <span class="n">msdos</span> <span class="o">-</span><span class="n">c</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">hda5</span>


<span class="err">将</span><span class="n">sda6</span><span class="err">分区格式化为</span><span class="n">ext3</span><span class="err">格式</span>

    <span class="n">mfks</span> <span class="o">-</span><span class="n">t</span> <span class="n">ext3</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda6</span>



<span class="p">(</span><span class="n">first</span> <span class="n">login</span> <span class="n">in</span> <span class="n">as</span> <span class="n">a</span> <span class="n">root</span> <span class="n">user</span><span class="p">)</span>
<span class="n">create</span> <span class="n">new</span> <span class="n">filesystem</span> <span class="n">with</span> <span class="n">following</span> <span class="n">command</span>
    <span class="n">mkfs</span><span class="p">.</span><span class="n">ext3</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda5</span>

<span class="n">Create</span> <span class="n">mount</span> <span class="n">point</span> <span class="n">directory</span> <span class="k">for</span> <span class="n">the</span> <span class="n">file</span> <span class="n">system</span>
    <span class="n">mkdir</span> <span class="o">/</span><span class="n">datadisk1</span>

<span class="n">Mount</span> <span class="n">the</span> <span class="n">new</span> <span class="n">file</span> <span class="n">system</span>
    <span class="n">mount</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda5</span> <span class="o">/</span><span class="n">datadisk1</span>


<span class="n">make</span> <span class="n">sure</span> <span class="n">file</span> <span class="n">system</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">hda5</span> <span class="n">automatically</span> <span class="n">mounted</span> <span class="n">at</span> <span class="o">/</span><span class="n">datadisk1</span> <span class="n">mount</span> <span class="n">point</span> <span class="n">after</span> <span class="n">system</span> <span class="n">reboots</span><span class="p">.</span>

<span class="n">add</span> <span class="n">partition</span> <span class="n">to</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">fstab</span> <span class="n">file</span>
<span class="n">vi</span> <span class="n">to</span> <span class="n">add</span> <span class="n">following</span> <span class="n">entry</span>

<span class="n">vi</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">fstab</span>
<span class="n">Add</span><span class="o">/</span><span class="n">append</span> <span class="n">following</span> <span class="n">entry</span> <span class="n">to</span> <span class="n">file</span><span class="o">:</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda5</span> <span class="o">/</span><span class="n">datadisk1</span> <span class="n">ext3</span> <span class="n">defaults</span> <span class="mi">0</span> <span class="mi">2</span>

<span class="o">-</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda5</span> <span class="o">:</span> <span class="n">File</span> <span class="n">system</span> <span class="n">or</span> <span class="n">partition</span> <span class="n">name</span>
<span class="o">-</span> <span class="o">/</span><span class="n">datadisk1</span> <span class="o">:</span> <span class="n">Mount</span> <span class="n">point</span>
<span class="o">-</span> <span class="n">ext3</span> <span class="o">:</span> <span class="n">File</span> <span class="n">system</span> <span class="n">type</span>
<span class="o">-</span> <span class="n">defaults</span> <span class="o">:</span> <span class="n">Mount</span> <span class="n">options</span> <span class="p">(</span><span class="n">Read</span> <span class="n">man</span> <span class="n">page</span> <span class="n">of</span> <span class="n">mount</span> <span class="n">command</span> <span class="k">for</span> <span class="n">all</span> <span class="n">options</span><span class="p">)</span>
<span class="o">-</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">Indicates</span> <span class="n">whether</span> <span class="n">you</span> <span class="n">need</span> <span class="n">to</span> <span class="n">include</span> <span class="n">or</span> <span class="n">exclude</span> <span class="n">this</span> <span class="n">filesystem</span> <span class="n">from</span> <span class="n">dump</span> <span class="n">command</span> <span class="n">backup</span><span class="p">.</span> <span class="n">Zero</span> <span class="n">means</span> <span class="n">this</span> <span class="n">filesystem</span> <span class="n">does</span> <span class="n">not</span> <span class="n">required</span> <span class="n">dump</span><span class="p">.</span>
<span class="o">-</span> <span class="mi">2</span> <span class="o">:</span> <span class="n">It</span> <span class="n">is</span> <span class="n">used</span> <span class="n">by</span> <span class="n">the</span> <span class="n">fsck</span> <span class="n">program</span> <span class="n">to</span> <span class="n">determine</span> <span class="n">the</span> <span class="n">order</span> <span class="n">in</span> <span class="n">which</span> <span class="n">filesystem</span> <span class="n">checks</span> <span class="n">are</span> <span class="n">done</span> <span class="n">at</span> <span class="n">reboot</span> <span class="n">time</span><span class="p">.</span> <span class="n">The</span> <span class="n">root</span> <span class="p">(</span><span class="o">/</span><span class="p">)</span> <span class="n">filesystem</span> <span class="n">should</span> <span class="n">be</span> <span class="n">specified</span> <span class="n">with</span> <span class="n">a</span> <span class="err">#</span><span class="mi">1</span><span class="p">,</span> <span class="n">and</span> <span class="n">otherfilesystems</span> <span class="n">should</span> <span class="n">have</span> <span class="n">a</span> <span class="err">#</span> <span class="mi">2</span> <span class="n">value</span><span class="p">.</span>


</pre></table></code></div></div><hr /><h2 id="file-system">File System</h2><p><strong>Linux 系统目录结构</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>root@kali:~# ls /
bin         initrd.img.old  media  sbin  vmlinuz
boot        lib             mnt    srv   vmlinuz.old
dev         lib32           opt    sys
etc         lib64           proc   tmp
home        libx32          root   usr
initrd.img  lost+found      run    var
</pre></table></code></div></div><ul><li>When you first log on to a Linux system, the working directory is set to your home directory. On most systems: <code class="language-plaintext highlighter-rouge">/home/your_user_name</code>.</ul><p>directories</p><ol><li><code class="language-plaintext highlighter-rouge">/</code> : root<ul><li>In most cases the root directory only contains subdirectories.</ul><li><code class="language-plaintext highlighter-rouge">/boot</code> :<ul><li>where the <code class="language-plaintext highlighter-rouge">Linux kernel</code> and <code class="language-plaintext highlighter-rouge">boot loader</code> files are kept.<li>contains the files necessary to get the computer booted up<li>The kernel is a file called <code class="language-plaintext highlighter-rouge">vmlinuz</code>.<li>存放的是 <em>启动Linux</em> 时使用的一些核心文件，包括一些连接文件以及镜像文件。</ul></ol><ul><li><code class="language-plaintext highlighter-rouge">/bin, /usr/bin</code> : contain programs that regular users on the system can run.<ul><li><code class="language-plaintext highlighter-rouge">/bin</code> Binary: the <em>essential programs that the system requires</em> to operate, 存放着最常用的命令。This is where your ls, cd, pwd, echo, and other commands would reside.<li><code class="language-plaintext highlighter-rouge">/usr/bin</code> : <em>applications</em> for the system’s users. in which most programs are installed. 系统用户使用的应用程序。</ul><li><code class="language-plaintext highlighter-rouge">/sbin, /usr/sbin</code>:<ul><li><code class="language-plaintext highlighter-rouge">/sbin</code>: Super User，存放系统管理员使用的系统管理程序。contain <em>programs for system administration</em>, mostly for use by the <em>superuser</em>.<li><code class="language-plaintext highlighter-rouge">/usr/sbin</code>: 超级用户使用的比较高级的管理程序和系统守护程序。</ul><li><code class="language-plaintext highlighter-rouge">/usr</code> : contains a variety of things that support user applications. Some highlights:<ul><li><code class="language-plaintext highlighter-rouge">/usr/share/X11</code> : Support files for the X Window system<li><code class="language-plaintext highlighter-rouge">/usr/share/dict</code> : Dictionaries for the spelling checker.<li><code class="language-plaintext highlighter-rouge">/usr/share/doc</code> : Various documentation files in a variety of formats.<li><code class="language-plaintext highlighter-rouge">/usr/share/man</code> : The man pages are kept here.<li><code class="language-plaintext highlighter-rouge">/usr/src</code> : 内核源代码默认的放置目录。 <em>Source code files</em>. If you installed the kernel source code package, you will find the entire Linux kernel source code here.<li><code class="language-plaintext highlighter-rouge">/usr/local</code><ul><li>/usr/local and its subdirectories are used for the <em>installation of software and other files</em> for use on the local machine.<li>software that is not part of the official distribution (which usually goes in /usr/bin) goes here.<li>When you find interesting programs to install on your system, they should be installed in one of the /usr/local directories. Most often, the directory of choice is /usr/local/bin.</ul></ul><li><code class="language-plaintext highlighter-rouge">/root</code> : the root user’s home directory.</ul><ol><li><code class="language-plaintext highlighter-rouge">/dev</code> : 存放的是Linux的外部设备，在Linux中访问设备的方式和访问文件的方式是相同的。<ul><li>In Linux devices are treated like files. read and write devices as were files.<li>location where all devices are reference outlined_flag from.<ul><li>This includes hard drives, keyboards, USB devices, sound cards and anything else that connects to the computer</ul><li>For example<li><code class="language-plaintext highlighter-rouge">/dev/fd0</code> is the first floppy disk drive,<li><code class="language-plaintext highlighter-rouge">/dev/sda</code> (/dev/hda on older systems) is the first hard drive.<li>All the devices that the kernel understands are represented here.</ul><li><code class="language-plaintext highlighter-rouge">/etc</code> : the <em>configuration files</em> for the system. 所有的系统管理所需要的配置文件和子目录。<ul><li>All of the files in /etc should be text files. Points of interest:<li><code class="language-plaintext highlighter-rouge">/etc/passwd</code> : contains the essential information for each user. It is here that users are defined.<li><code class="language-plaintext highlighter-rouge">/etc/fstab</code> : contains a table of devices that get mounted when your system boots. This file defines your disk drives.<li><code class="language-plaintext highlighter-rouge">/etc/hosts</code> : lists the network host names and IP addresses that are intrinsically known to the system.<li><code class="language-plaintext highlighter-rouge">/etc/init.d</code> : contains the scripts that start various system services typically at boot time.</ul><li><code class="language-plaintext highlighter-rouge">/home</code> : where users keep their personal work.<ul><li>In general the only place users are allowed to write files. This keeps things nice and clean<li>用户的主目录，在Linux中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的。</ul><li><code class="language-plaintext highlighter-rouge">/lib</code> : 存放着系统最基本的 <em>动态连接共享库</em> ，类似于Win的DLL文件。<ul><li>几乎所有的应用程序都需要用到这些共享库。<li>The shared libraries (similar to DLLs in that other operating system) are kept here.<li>contain code that is shared out to many of the applications on our system.<ul><li>broken down into two directories.<li>The live directory for 32 bit library files<li>and the live 64 directory for 64 bit library files.</ul></ul><li><p><code class="language-plaintext highlighter-rouge">/media,/mnt</code> : used in a special way. for mount points.</p><ul><li><code class="language-plaintext highlighter-rouge">/mnt</code>: 系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以查看光驱里的内容了。<ul><li>where you would access other hard drives that you would connect to your system.<li>the different physical storage devices (like hard disk drives) are attached to the file system tree in various places. This process of attaching a device to the tree is called mounting. For a device to be available, it must first be mounted.<li>When your system boots, it reads a list of mounting instructions in the file <code class="language-plaintext highlighter-rouge">/etc/fstab</code>, describes which device is mounted at which mount point in the directory tree.<li>This takes care of the hard drives, but you may also have devices that are considered temporary, such as CD-ROMs, thumb drives, and floppy disks. Since these are removable, they do not stay mounted all the time.</ul><li>The <code class="language-plaintext highlighter-rouge">/media</code>:<ul><li>linux系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。<li>devices uch a CD drives can be mounted to, along with USB drives and others<li>used by the automatic device mounting mechanisms found in modern desktop oriented Linux distributions.<li>On systems that require manual mounting of removable devices, the <code class="language-plaintext highlighter-rouge">/mnt</code> directory provides a convenient place for mounting these temporary devices.<li>You will often see the directories /<code class="language-plaintext highlighter-rouge">mnt/floppy</code> and <code class="language-plaintext highlighter-rouge">/mnt/cdrom</code>.</ul></ul><li><code class="language-plaintext highlighter-rouge">/opt</code>：: 给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。<ul><li>an optional location for applications to be stored if they’re not located in the bin directory.</ul><li><code class="language-plaintext highlighter-rouge">/proc</code> :<ul><li>entirely virtual. 虚拟目录，<em>系统内存的映射</em> ，可以通过直接访问这个目录来获取系统信息。<li>provides information about a running Linux system. The Linux kernel outputs information that many applications use to this directory.<li>contains little peep holes into the kernel itself. There are a group of numbered entries in this directory that correspond to all the processes running on the system.<li>In addition, there are a number of named entries that permit access to the current configuration of the system. Many of these entries can be viewed.<li>Try viewing <code class="language-plaintext highlighter-rouge">/proc/cpuinfo</code>. This entry will tell you what the kernel thinks of your CPU.<li>这个目录的内容不在硬盘上而是在内存里，可以直接修改里面的某些文件<ul><li>比如<li>屏蔽主机的ping命令，使别人无法ping你的机器：<li><code class="language-plaintext highlighter-rouge">echo 1 &gt; /proc/sys/net/ipv4/icmp_echo_ignore_all</code></ul></ul><li><code class="language-plaintext highlighter-rouge">/srv</code>: 该目录存放一些服务启动之后需要提取的数据。<ul><li>typically used for server applications, such as web servers.</ul><li><code class="language-plaintext highlighter-rouge">/sys</code>:<ul><li>contains information about hardware that is on the system.<li>这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。<li>sysfs文件系统集成了下面3种文件系统的信息：<ul><li>针对进程信息的proc文件系统、<li>针对设备的devfs文件系统<li>针对伪终端的devpts文件系统。<li>该文件系统是内核设备树的一个直观反映。<li>当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中被创建。</ul></ul><li><code class="language-plaintext highlighter-rouge">/tmp</code> :<ul><li>used by applications to store temporary data.<li>存放一些临时文件。</ul><li><code class="language-plaintext highlighter-rouge">/var</code> : 这个目录中存放不断扩充着的东西，习惯将那些经常被修改的目录放在这个目录下。<ul><li>files that change as the system is running.<li>contains files that tend to vary in size<ul><li>such as log files, printer files, and local system email files.</ul><li>So that is the high level overview of the Linux file system.<li><code class="language-plaintext highlighter-rouge">/var/log</code> : contains log files. These are updated as the system runs.<ul><li><em>view the files in this directory from time to time, to monitor the health of system</em>.<li><code class="language-plaintext highlighter-rouge">/var/spool</code> : used to hold files that are queued for some process, such as mail messages and print jobs. When a user’s mail first arrives on the local system (assuming you have local mail), the messages are first stored in /var/spool/mail</ul></ul></ol><ul><li><p><code class="language-plaintext highlighter-rouge">/lost+found</code>: 这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。</p><li><p><code class="language-plaintext highlighter-rouge">/selinux</code>: 这个目录是Redhat/CentOS所特有的目录，Selinux是一个安全机制，类似于windows的防火墙，但是这套机制比较复杂，这个目录就是存放selinux相关的文件的。</p></ul><hr /><p>在linux系统中，有几个目录是比较重要的，平时需要注意不要误删除或者随意更改内部文件。</p><ul><li><code class="language-plaintext highlighter-rouge">/etc</code>：系统配置文件，如果你更改了该目录下的某个文件可能会导致系统不能启动。<li><code class="language-plaintext highlighter-rouge">/bin, /sbin, /usr/bin, /usr/sbin</code>: 这是系统预设的执行文件的放置目录: ls 就是在/bin/ls 目录下的。<ul><li>/bin, /usr/bin 是给系统用户使用的指令（除root外的通用户），<li>/sbin, /usr/sbin 则是给root使用的指令。</ul><li><code class="language-plaintext highlighter-rouge">/var</code>: 非常重要的目录，系统跑程序，每个程序都会有相应日志产生，而这些日志就被记录到这个目录下，具体在/var/log 目录下，另外mail的预设放置也是在这里。</ul><p>remainds:</p><ul><li>File names in Linux are case sensitive. “File1” and “file1” refer to different files.<li>Linux has no concept of a “file extension” like legacy operating systems. You may name files any way you like. However, while Linux itself does not care about file extensions, many application programs do.<li>Though Linux supports long file names which may contain embedded spaces and punctuation characters, limit the punctuation characters to period, dash, and underscore. Most importantly, do not embed spaces in file names. If you want to represent spaces between words in a file name, use underscore characters. You will thank yourself later.</ul><p>–</p><h2 id="file-system-organization">File System Organization</h2><ul><li>Linux的目录结构为 树状结构 <code class="language-plaintext highlighter-rouge">hierarchical directory structure</code> ，最顶级的目录为根目录 /。<li><p>they are organized in a tree-like pattern of directories (called folders in other systems), which may contain files and other directories. The first directory in the file system is called the root directory. The root directory contains files and subdirectories, which contain more files and subdirectories and so on and so on.</p><li><p>其他目录通过挂载可以将它们添加到树中，通过解除挂载可以移除它们。</p><li>绝对路径：由根目录 / 写起，例如： /usr/share/doc 这个目录。<li><p>相对路径：不是由 / 写起，例如由 /usr/share/doc 要到 /usr/share/man 底下时，可以写成: <code class="language-plaintext highlighter-rouge">cd ../man</code></p><li>处理目录的常用命令<ul><li><code class="language-plaintext highlighter-rouge">ls</code>: 列出目录<li><code class="language-plaintext highlighter-rouge">cd</code>：切换目录<li><code class="language-plaintext highlighter-rouge">pwd</code>：显示目前的目录<li><code class="language-plaintext highlighter-rouge">mkdir</code>：创建一个新的目录<li><code class="language-plaintext highlighter-rouge">rmdir</code>：删除一个空的目录<li><code class="language-plaintext highlighter-rouge">cp</code>: 复制文件或目录<li><code class="language-plaintext highlighter-rouge">rm</code>: 移除文件或目录<li><code class="language-plaintext highlighter-rouge">mv</code>: 移动文件与目录、文件重命名<li><code class="language-plaintext highlighter-rouge">man [命令]</code>: 来查看各个命令的使用文档，如 ：man cp。</ul></ul><hr /><h3 id="cd-切换目录-change-directory"><code class="language-plaintext highlighter-rouge">cd</code> (切换目录) Change Directory</h3><ul><li>The “.” notation refers to the working directory itself<li>the “..” notation refers to the working directory’s parent directory.</ul><p>type <code class="language-plaintext highlighter-rouge">cd nothing</code>, cd will change the working directory to your home directory. type <code class="language-plaintext highlighter-rouge">cd ~user_name</code>, cd will change the working directory to the home directory of the specified user.</p><div class="language-c highlighter-rouge"><div class="code-header" text-data="c"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="n">cd</span> <span class="p">[</span><span class="err">相对路径或绝对路径</span><span class="p">]</span>
<span class="c1">//使用 mkdir 命令创建w3cschool.cn目录</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="err">#</span> <span class="n">mkdir</span> <span class="n">w3cschool</span><span class="p">.</span><span class="n">cn</span>

<span class="c1">//使用绝对路径切换到w3cschool.cn目录</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="err">#</span> <span class="n">cd</span> <span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">w3cschool</span><span class="p">.</span><span class="n">cn</span><span class="o">/</span>

<span class="c1">//使用相对路径切换到w3cschool.cn目录</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="err">#</span> <span class="n">cd</span> <span class="p">.</span><span class="o">/</span><span class="n">w3cschool</span><span class="p">.</span><span class="n">cn</span><span class="o">/</span>

<span class="c1">//回到自己的家目录, /root 这个目录</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="n">w3cschool</span><span class="p">.</span><span class="n">cn</span><span class="p">]</span><span class="err">#</span> <span class="n">cd</span> <span class="o">~</span>

<span class="c1">//表示去到目前的上一级目录，亦即是 /root 的上一级目录的意思；</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="err">#</span> <span class="n">cd</span> <span class="p">..</span>
</pre></table></code></div></div><hr /><h3 id="cp-复制文件或目录"><code class="language-plaintext highlighter-rouge">cp</code> 复制文件或目录</h3><div class="language-py highlighter-rouge"><div class="code-header" text-data="py"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="err">$</span> <span class="n">cp</span> <span class="p">[</span><span class="o">-</span><span class="n">adfilprsu</span><span class="p">]</span> <span class="n">source</span> <span class="n">destination</span>
<span class="err">$</span> <span class="n">cp</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="n">source1</span> <span class="n">source2</span> <span class="n">source3</span> <span class="p">....</span> <span class="n">directory</span>

<span class="err">$</span> <span class="n">cp</span> <span class="n">file1</span> <span class="n">file2</span>
<span class="c1"># Copies the contents of file1 into file2.
# If file2 does not exist, it is created;
# otherwise, file2 is silently overwritten with the contents of file1.
</span>
<span class="err">$</span> <span class="n">cp</span> <span class="n">file1</span> <span class="n">dir1</span>
<span class="c1"># Copy the contents of file1 (into a file named file1) inside of directory dir1.
</span>
<span class="o">-</span><span class="n">a</span> <span class="err">：</span><span class="n">相当於</span> <span class="o">-</span><span class="n">pdr</span> <span class="n">的意思</span> <span class="p">(</span><span class="n">常用</span><span class="p">)</span>
<span class="o">-</span><span class="n">d</span> <span class="err">：</span><span class="n">若来源档为连结档的属性</span><span class="p">(</span><span class="n">link</span> <span class="nb">file</span><span class="p">)</span><span class="err">，</span><span class="n">则复制连结档属性而非文件本身</span><span class="err">；</span>
<span class="o">-</span><span class="n">f</span> <span class="err">：</span><span class="n">为强制</span><span class="p">(</span><span class="n">force</span><span class="p">)</span><span class="n">的意思</span><span class="err">，</span><span class="n">若目标文件已经存在且无法开启</span><span class="err">，</span><span class="n">则移除后再尝试一次</span><span class="err">；</span>

<span class="o">-</span><span class="nf">i </span><span class="p">(</span><span class="n">interactive</span><span class="p">)</span><span class="err">：</span><span class="n">若目标档</span><span class="p">(</span><span class="n">destination</span><span class="p">)</span><span class="n">已经存在时</span><span class="err">，</span><span class="n">在覆盖时会先询问动作的进行</span>
<span class="err">$</span> <span class="n">cp</span> <span class="o">-</span><span class="n">i</span> <span class="o">~/</span><span class="p">.</span><span class="n">bashrc</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">bashrc</span>
<span class="n">cp</span><span class="p">:</span> <span class="n">overwrite</span> <span class="sb">`/tmp/bashrc`</span><span class="err">?</span> <span class="n">n</span>
<span class="c1"># n不覆盖，y为覆盖
</span>
<span class="o">-</span><span class="n">l</span> <span class="err">：</span><span class="n">进行硬式连结</span><span class="p">(</span><span class="n">hard</span> <span class="n">link</span><span class="p">)</span><span class="n">的连结档创建</span><span class="err">，</span><span class="n">而非复制文件本身</span><span class="err">；</span>
<span class="o">-</span><span class="n">p</span> <span class="err">：</span><span class="n">连同文件的属性一起复制过去</span><span class="err">，</span><span class="n">而非使用默认属性</span><span class="p">(</span><span class="n">备份常用</span><span class="p">)</span><span class="err">；</span>
<span class="o">-</span><span class="n">s</span> <span class="err">：</span><span class="n">复制成为符号连结档</span> <span class="p">(</span><span class="n">symbolic</span> <span class="n">link</span><span class="p">)</span><span class="err">，</span><span class="n">亦即</span><span class="err">『</span><span class="n">捷径</span><span class="err">』</span><span class="n">文件</span><span class="err">；</span>
<span class="o">-</span><span class="n">u</span> <span class="err">：</span><span class="n">若</span> <span class="n">destination</span> <span class="n">比</span> <span class="n">source</span> <span class="n">旧才升级</span> <span class="n">destination</span> <span class="err">！</span>

<span class="o">-</span><span class="n">r</span> <span class="err">：</span><span class="n">递回持续复制</span><span class="err">，</span><span class="n">用於目录的复制行为</span><span class="err">；</span><span class="p">(</span><span class="n">常用</span><span class="p">)</span>
<span class="o">-</span><span class="n">R</span> <span class="n">dir1</span> <span class="n">dir2</span> <span class="p">:</span> <span class="n">Copy</span> <span class="n">the</span> <span class="n">contents</span> <span class="n">of</span> <span class="n">the</span> <span class="n">directory</span> <span class="n">dir1</span><span class="p">.</span> <span class="n">If</span> <span class="n">directory</span> <span class="n">dir2</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">exist</span><span class="p">,</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">created</span><span class="p">.</span> <span class="n">Otherwise</span><span class="p">,</span> <span class="n">it</span> <span class="n">creates</span> <span class="n">a</span> <span class="n">directory</span> <span class="n">named</span> <span class="n">dir1</span> <span class="n">within</span> <span class="n">directory</span> <span class="n">dir2</span><span class="p">.</span>
</pre></table></code></div></div><hr /><h3 id="file-to-determine-data-a-file-contains-before-view-it"><code class="language-plaintext highlighter-rouge">file</code> to determine data a file contains before view it.</h3><p><code class="language-plaintext highlighter-rouge">file</code> file.txt : examine a file and tell you what kind of file it is.</p><p>The file program can recognize most types of files</p><div class="table-wrapper"><table><thead><tr><th>File Type<th>Description<th>Viewable as text?<tbody><tr><td>ASCII text<td>The name says it all<td>yes<tr><td>Bourne-Again shell script text<td>A bash script<td>yes<tr><td>ELF 32-bit LSB core file<td>A core dump file (a program will create this when it crashes)<td>no<tr><td>ELF 32-bit LSB executable<td>An executable binary program<td>no<tr><td>ELF 32-bit LSB shared object<td>A shared library<td>no<tr><td>GNU tar archive<td>A tape archive file. A common way of storing groups of files.<td>no, use tar tvf to view listing.<tr><td>gzip compressed data<td>An archive compressed with gzip<td>no<tr><td>HTML document text<td>A web page<td>yes<tr><td>JPEG image data<td>A compressed JPEG image<td>no<tr><td>PostScript document text<td>A PostScript file<td>yes<tr><td>RPM<td>A Red Hat Package Manager archive<td>no, use rpm -q to examine contents.<tr><td>Zip archive data<td>An archive compressed with zip<td>no</table></div><hr /><h3 id="less-view-text-files"><code class="language-plaintext highlighter-rouge">less</code> view text files.</h3><p>This is very handy since many of the files used to control and configure Linux are human readable.</p><p><code class="language-plaintext highlighter-rouge">$ less text_file</code> : will display the file.</p><p>The gzip package includes a special version of less called <code class="language-plaintext highlighter-rouge">zless</code> that will display the contents of gzip-compressed text files.</p><div class="table-wrapper"><table><thead><tr><th>Command<th>Action<tbody><tr><td>Page Up or b<td>Scroll back one page<tr><td>Page Down or space<td>Scroll forward one page<tr><td>G<td>Go to the end of the text file<tr><td>1G<td>Go to the beginning of the text file<tr><td>/characters<td>Search forward in the text file for an occurrence of the specified characters<tr><td>n<td>Repeat the previous search<tr><td>h<td>Display a complete list less commands and options<tr><td>q<td>Quit</table></div><hr /><h3 id="ls-列出目录-list"><code class="language-plaintext highlighter-rouge">ls</code> 列出目录 list</h3><p>list files and directories</p><div class="language-py highlighter-rouge"><div class="code-header" text-data="py"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
</pre><td class="rouge-code"><pre><span class="err">$</span> <span class="n">ls</span> <span class="p">[</span><span class="o">-</span><span class="n">aAdfFhilnrRSt</span><span class="p">]</span> <span class="n">目录名称</span>
<span class="err">$</span> <span class="n">ls</span> <span class="p">[</span><span class="o">--</span><span class="n">color</span><span class="o">=</span><span class="p">{</span><span class="n">never</span><span class="p">,</span><span class="n">auto</span><span class="p">,</span><span class="n">always</span><span class="p">}]</span> <span class="n">目录名称</span>
<span class="err">$</span> <span class="n">ls</span> <span class="p">[</span><span class="o">--</span><span class="n">full</span><span class="o">-</span><span class="n">time</span><span class="p">]</span> <span class="n">目录名称</span>
<span class="err">$</span> <span class="n">ls</span> <span class="o">-</span><span class="n">la</span> <span class="p">..</span>
<span class="c1"># List all files (even hidden) in the parent of the working directory in long format
</span>
<span class="o">-</span><span class="n">a</span> <span class="err">：</span><span class="n">全部的文件</span><span class="err">，</span><span class="n">连同隐藏档</span><span class="p">(</span> <span class="n">开头为</span> <span class="p">.</span> <span class="n">的文件</span><span class="p">)</span> <span class="n">一起列出来</span><span class="p">(</span><span class="n">常用</span><span class="p">)</span>
<span class="o">-</span><span class="n">d</span> <span class="err">：</span><span class="n">仅列出目录本身</span><span class="err">，</span><span class="n">而不是列出目录内的文件数据</span><span class="p">(</span><span class="n">常用</span><span class="p">)</span>
<span class="o">-</span><span class="n">l</span> <span class="err">：</span><span class="n">长数据串列出</span><span class="err">，</span><span class="n">包含文件的属性与权限等等数据</span> <span class="n">List</span> <span class="n">the</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">working</span> <span class="n">directory</span> <span class="ow">in</span> <span class="nb">long</span> <span class="nb">format</span>
<span class="o">-</span><span class="n">t</span><span class="p">:</span> <span class="n">按照顺序字母排列</span>

<span class="err">$</span> <span class="n">ls</span> <span class="o">-</span><span class="n">la</span> <span class="p">..</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-------</span>   <span class="mi">1</span> <span class="n">bshotts</span>  <span class="n">bshotts</span>       <span class="mi">576</span> <span class="n">Apr</span> <span class="mi">17</span>  <span class="mi">1998</span> <span class="n">weather</span><span class="p">.</span><span class="n">txt</span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">6</span> <span class="n">bshotts</span>  <span class="n">bshotts</span>      <span class="mi">1024</span> <span class="n">Oct</span>  <span class="mi">9</span>  <span class="mi">1999</span> <span class="n">web_page</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span>   <span class="mi">1</span> <span class="n">bshotts</span>  <span class="n">bshotts</span>    <span class="mi">276480</span> <span class="n">Feb</span> <span class="mi">11</span> <span class="mi">20</span><span class="p">:</span><span class="mi">41</span> <span class="n">web_site</span><span class="p">.</span><span class="n">tar</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-------</span>   <span class="mi">1</span> <span class="n">bshotts</span>  <span class="n">bshotts</span>      <span class="mi">5743</span> <span class="n">Dec</span> <span class="mi">16</span>  <span class="mi">1998</span> <span class="n">xmas_file</span><span class="p">.</span><span class="n">txt</span>
<span class="o">----------</span>     <span class="o">-------</span>  <span class="o">-------</span>  <span class="o">--------</span> <span class="o">------------</span> <span class="o">-------------</span>
    <span class="o">|</span>             <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>         <span class="o">|</span>             <span class="o">|</span>
    <span class="o">|</span>             <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>         <span class="o">|</span>         <span class="n">File</span> <span class="n">Name</span>
    <span class="o">|</span>             <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>         <span class="n">Modification</span> <span class="n">Time</span>
    <span class="o">|</span>             <span class="o">|</span>        <span class="o">|</span>        <span class="nc">Size </span><span class="p">(</span><span class="ow">in</span> <span class="nb">bytes</span><span class="p">)</span>
    <span class="o">|</span>             <span class="o">|</span>       <span class="n">Group</span>
    <span class="o">|</span>            <span class="n">Owner</span>
<span class="n">File</span> <span class="n">Permissions</span>


<span class="err">$</span> <span class="n">ls</span> <span class="o">-</span><span class="n">l</span>
<span class="n">lrwxrwxrwx</span>     <span class="mi">25</span> <span class="n">Jul</span>  <span class="mi">3</span> <span class="mi">16</span><span class="p">:</span><span class="mi">42</span> <span class="n">System</span><span class="p">.</span><span class="nb">map</span> <span class="o">-&gt;</span> <span class="o">/</span><span class="n">boot</span><span class="o">/</span><span class="n">System</span><span class="p">.</span><span class="nb">map</span><span class="o">-</span><span class="mf">2.0</span><span class="p">.</span><span class="mi">36</span><span class="o">-</span><span class="mi">3</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span> <span class="mi">105911</span> <span class="n">Oct</span> <span class="mi">13</span>  <span class="mi">1998</span> <span class="n">System</span><span class="p">.</span><span class="nb">map</span><span class="o">-</span><span class="mf">2.0</span><span class="p">.</span><span class="mi">36</span><span class="o">-</span><span class="mf">0.7</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span> <span class="mi">105935</span> <span class="n">Dec</span> <span class="mi">29</span>  <span class="mi">1998</span> <span class="n">System</span><span class="p">.</span><span class="nb">map</span><span class="o">-</span><span class="mf">2.0</span><span class="p">.</span><span class="mi">36</span><span class="o">-</span><span class="mi">3</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span> <span class="mi">181986</span> <span class="n">Dec</span> <span class="mi">11</span>  <span class="mi">1999</span> <span class="n">initrd</span><span class="o">-</span><span class="mf">2.0</span><span class="p">.</span><span class="mi">36</span><span class="o">-</span><span class="mf">0.7</span><span class="p">.</span><span class="n">img</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span> <span class="mi">182001</span> <span class="n">Dec</span> <span class="mi">11</span>  <span class="mi">1999</span> <span class="n">initrd</span><span class="o">-</span><span class="mf">2.0</span><span class="p">.</span><span class="mf">36.</span><span class="n">img</span>

<span class="n">lrwxrwxrwx</span>     <span class="mi">26</span> <span class="n">Jul</span>  <span class="mi">3</span> <span class="mi">16</span><span class="p">:</span><span class="mi">42</span> <span class="n">module</span><span class="o">-</span><span class="n">info</span> <span class="o">-&gt;</span> <span class="o">/</span><span class="n">boot</span><span class="o">/</span><span class="n">module</span><span class="o">-</span><span class="n">info</span><span class="o">-</span><span class="mf">2.0</span><span class="p">.</span><span class="mi">36</span><span class="o">-</span><span class="mi">3</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>  <span class="mi">11773</span> <span class="n">Oct</span> <span class="mi">13</span>  <span class="mi">1998</span> <span class="n">module</span><span class="o">-</span><span class="n">info</span><span class="o">-</span><span class="mf">2.0</span><span class="p">.</span><span class="mi">36</span><span class="o">-</span><span class="mf">0.7</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>  <span class="mi">11773</span> <span class="n">Dec</span> <span class="mi">29</span>  <span class="mi">1998</span> <span class="n">module</span><span class="o">-</span><span class="n">info</span><span class="o">-</span><span class="mf">2.0</span><span class="p">.</span><span class="mi">36</span><span class="o">-</span><span class="mi">3</span>

<span class="n">lrwxrwxrwx</span>     <span class="mi">16</span> <span class="n">Dec</span> <span class="mi">11</span>  <span class="mi">1999</span> <span class="n">vmlinuz</span> <span class="o">-&gt;</span> <span class="n">vmlinuz</span><span class="o">-</span><span class="mf">2.0</span><span class="p">.</span><span class="mi">36</span><span class="o">-</span><span class="mi">3</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span> <span class="mi">454325</span> <span class="n">Oct</span> <span class="mi">13</span>  <span class="mi">1998</span> <span class="n">vmlinuz</span><span class="o">-</span><span class="mf">2.0</span><span class="p">.</span><span class="mi">36</span><span class="o">-</span><span class="mf">0.7</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span> <span class="mi">454434</span> <span class="n">Dec</span> <span class="mi">29</span>  <span class="mi">1998</span> <span class="n">vmlinuz</span><span class="o">-</span><span class="mf">2.0</span><span class="p">.</span><span class="mi">36</span><span class="o">-</span><span class="mi">3</span>

<span class="n">the</span> <span class="n">strange</span> <span class="n">notation</span> <span class="n">after</span> <span class="n">the</span> <span class="nb">file</span> <span class="n">names</span>
<span class="n">These</span> <span class="n">three</span> <span class="n">files</span> <span class="n">are</span> <span class="n">called</span> <span class="s">"symbolic links"</span><span class="p">.</span> <span class="n">special</span> <span class="nb">type</span> <span class="n">of</span> <span class="nb">file</span> <span class="n">that</span> <span class="n">points</span> <span class="n">to</span> <span class="n">another</span> <span class="nb">file</span><span class="p">.</span>
<span class="n">With</span> <span class="n">symbolic</span> <span class="n">links</span><span class="p">,</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">possible</span> <span class="k">for</span> <span class="n">a</span> <span class="n">single</span> <span class="nb">file</span> <span class="n">to</span> <span class="n">have</span> <span class="n">multiple</span> <span class="n">names</span><span class="p">.</span>

<span class="n">Heres</span> <span class="n">how</span> <span class="n">it</span> <span class="n">works</span><span class="p">:</span> <span class="n">Whenever</span> <span class="n">the</span> <span class="n">system</span> <span class="ow">is</span> <span class="n">given</span> <span class="n">a</span> <span class="nb">file</span> <span class="n">name</span> <span class="n">that</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">symbolic</span> <span class="n">link</span><span class="p">,</span> <span class="n">it</span> <span class="n">transparently</span> <span class="n">maps</span> <span class="n">it</span> <span class="n">to</span> <span class="n">the</span> <span class="nb">file</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">pointing</span> <span class="n">to</span><span class="p">.</span>

<span class="n">This</span> <span class="n">system</span> <span class="n">has</span> <span class="n">had</span> <span class="n">multiple</span> <span class="n">versions</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Linux</span> <span class="n">kernel</span> <span class="n">installed</span><span class="p">.</span> <span class="s">"vmlinuz-2.0.36-0.7 and vmlinuz-2.0.36-3"</span><span class="p">.</span> <span class="n">both</span> <span class="n">version</span> <span class="mf">2.0</span><span class="p">.</span><span class="mi">36</span><span class="o">-</span><span class="mf">0.7</span> <span class="ow">and</span> <span class="mf">2.0</span><span class="p">.</span><span class="mi">36</span><span class="o">-</span><span class="mi">3</span> <span class="n">are</span> <span class="n">installed</span><span class="p">.</span> <span class="n">B</span>
<span class="n">ecause</span> <span class="n">the</span> <span class="nb">file</span> <span class="n">names</span> <span class="n">contain</span> <span class="n">the</span> <span class="n">version</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">easy</span> <span class="n">to</span> <span class="n">see</span> <span class="n">the</span> <span class="n">differences</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">directory</span> <span class="n">listing</span><span class="p">.</span> <span class="n">However</span><span class="p">,</span> <span class="n">this</span> <span class="n">would</span> <span class="n">be</span> <span class="n">confusing</span> <span class="n">to</span> <span class="n">programs</span> <span class="n">that</span> <span class="n">rely</span> <span class="n">on</span> <span class="n">a</span> <span class="n">fixed</span> <span class="n">name</span> <span class="k">for</span> <span class="n">the</span> <span class="n">kernel</span> <span class="nb">file</span><span class="p">.</span>
<span class="n">These</span> <span class="n">programs</span> <span class="n">might</span> <span class="n">expect</span> <span class="n">the</span> <span class="n">kernel</span> <span class="n">to</span> <span class="n">simply</span> <span class="n">be</span> <span class="n">called</span> <span class="s">"vmlinuz"</span><span class="p">.</span> <span class="n">Here</span> <span class="ow">is</span> <span class="n">where</span> <span class="n">the</span> <span class="n">beauty</span> <span class="n">of</span> <span class="n">the</span> <span class="n">symbolic</span> <span class="n">link</span> <span class="n">comes</span> <span class="ow">in</span><span class="p">.</span> <span class="n">By</span> <span class="n">creating</span> <span class="n">a</span> <span class="n">symbolic</span> <span class="n">link</span> <span class="n">called</span> <span class="n">vmlinuz</span> <span class="n">that</span> <span class="n">points</span> <span class="n">to</span> <span class="n">vmlinuz</span><span class="o">-</span><span class="mf">2.0</span><span class="p">.</span><span class="mi">36</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="n">we</span> <span class="n">have</span> <span class="n">solved</span> <span class="n">the</span> <span class="n">problem</span><span class="p">.</span>
<span class="n">To</span> <span class="n">create</span> <span class="n">symbolic</span> <span class="n">links</span><span class="p">,</span> <span class="n">use</span> <span class="n">the</span> <span class="n">ln</span> <span class="n">command</span><span class="p">.</span>
</pre></table></code></div></div><hr /><h3 id="mkdir-创建新目录-make-directory"><code class="language-plaintext highlighter-rouge">mkdir</code> 创建新目录 make directory</h3><div class="language-py highlighter-rouge"><div class="code-header" text-data="py"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="n">mkdir</span> <span class="p">[</span><span class="o">-</span><span class="n">mp</span><span class="p">]</span> <span class="n">目录名称</span>
<span class="o">------------------------------------------------------------------------</span>
<span class="o">-</span><span class="n">m</span> <span class="err">：</span><span class="n">直接配置文件的权限</span><span class="err">！</span><span class="n">不需要看默认权限</span> <span class="p">(</span><span class="n">umask</span><span class="p">)</span> <span class="n">的脸色</span><span class="err">～</span>
<span class="c1"># 创建权限为rwx--x--x的目录
# 如果没有加上 -m 来强制配置属性，系统会使用默认属性。
</span><span class="err">$</span> <span class="n">mkdir</span> <span class="o">-</span><span class="n">m</span> <span class="mi">711</span> <span class="n">test2</span>
<span class="err">$</span> <span class="n">ls</span> <span class="o">-</span><span class="n">l</span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>  <span class="mi">3</span> <span class="n">root</span>  <span class="n">root</span> <span class="mi">4096</span> <span class="n">Jul</span> <span class="mi">18</span> <span class="mi">12</span><span class="p">:</span><span class="mi">50</span> <span class="n">test</span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>  <span class="mi">3</span> <span class="n">root</span>  <span class="n">root</span> <span class="mi">4096</span> <span class="n">Jul</span> <span class="mi">18</span> <span class="mi">12</span><span class="p">:</span><span class="mi">53</span> <span class="n">test1</span>
<span class="n">drwx</span><span class="o">--</span><span class="n">x</span><span class="o">--</span><span class="n">x</span>  <span class="mi">2</span> <span class="n">root</span>  <span class="n">root</span> <span class="mi">4096</span> <span class="n">Jul</span> <span class="mi">18</span> <span class="mi">12</span><span class="p">:</span><span class="mi">54</span> <span class="n">test2</span>
<span class="o">------------------------------------------------------------------------</span>
<span class="o">-</span><span class="n">p</span> <span class="err">：</span><span class="n">帮助你直接将所需要的目录</span><span class="p">(</span><span class="n">包含上一级目录</span><span class="p">)</span><span class="n">递回创建起来</span>
<span class="err">$</span> <span class="n">mkdir</span> <span class="n">test1</span><span class="o">/</span><span class="n">test2</span><span class="o">/</span><span class="n">test3</span><span class="o">/</span><span class="n">test4</span>
<span class="n">mkdir</span><span class="p">:</span> <span class="n">cannot</span> <span class="n">create</span> <span class="n">directory</span> <span class="sb">`test1/test2/test3/test4`</span><span class="p">:</span>
<span class="n">No</span> <span class="n">such</span> <span class="nb">file</span> <span class="ow">or</span> <span class="n">directory</span>
<span class="c1"># 没法直接创建此目录啊
</span>
<span class="c1"># -p 选项，可以自行帮你创建多层目录
</span><span class="err">$</span> <span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="n">test1</span><span class="o">/</span><span class="n">test2</span><span class="o">/</span><span class="n">test3</span><span class="o">/</span><span class="n">test4</span>
</pre></table></code></div></div><hr /><h3 id="mv-移动或修改名称"><code class="language-plaintext highlighter-rouge">mv</code> 移动或修改名称</h3><div class="language-py highlighter-rouge"><div class="code-header" text-data="py"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="err">$</span> <span class="n">mv</span> <span class="p">[</span><span class="o">-</span><span class="n">fiu</span><span class="p">]</span> <span class="n">source</span> <span class="n">destination</span>
<span class="err">$</span> <span class="n">mv</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="n">file1</span> <span class="n">file2</span> <span class="n">file3</span> <span class="n">dir1</span>
<span class="c1"># The files file1, file2, file3 are moved to directory dir1.
# If dir1 does not exist, mv will exit with an error.
</span>
<span class="err">$</span> <span class="n">mv</span> <span class="n">file1</span> <span class="n">file2</span>
<span class="c1"># If file2 does not exist, then file1 is renamed file2. If file2 exists, its contents are silently replaced with the contents of file1.
</span>
<span class="o">-</span><span class="n">f</span> <span class="err">：</span><span class="n">force</span> <span class="n">强制的意思</span><span class="err">，</span><span class="n">如果目标文件已经存在</span><span class="err">，</span><span class="n">不会询问而直接覆盖</span><span class="err">；</span>
<span class="o">-</span><span class="nf">i </span><span class="p">(</span><span class="n">interactive</span><span class="p">)</span> <span class="err">：</span><span class="n">若目标文件</span> <span class="p">(</span><span class="n">destination</span><span class="p">)</span> <span class="n">已经存在时</span><span class="err">，</span><span class="n">就会询问是否覆盖</span><span class="err">！</span>
<span class="o">-</span><span class="n">u</span> <span class="err">：</span><span class="n">若目标文件已经存在</span><span class="err">，</span><span class="n">且</span> <span class="n">source</span> <span class="n">比较新</span><span class="err">，</span><span class="n">才会升级</span> <span class="p">(</span><span class="n">update</span><span class="p">)</span>

<span class="o">//</span><span class="n">复制一文件</span><span class="err">，</span><span class="n">创建一目录</span><span class="err">，</span><span class="n">将文件移动到目录中</span>
<span class="p">[</span><span class="n">root</span><span class="nd">@www</span> <span class="o">~</span><span class="p">]</span><span class="c1"># cd /tmp
</span><span class="p">[</span><span class="n">root</span><span class="nd">@www</span> <span class="n">tmp</span><span class="p">]</span><span class="c1"># cp ~/.bashrc bashrc
</span><span class="p">[</span><span class="n">root</span><span class="nd">@www</span> <span class="n">tmp</span><span class="p">]</span><span class="c1"># mkdir mvtest
</span><span class="o">//</span><span class="n">移动</span>
<span class="p">[</span><span class="n">root</span><span class="nd">@www</span> <span class="n">tmp</span><span class="p">]</span><span class="c1"># mv bashrc mvtest
</span><span class="o">//</span><span class="n">将刚刚的目录名称更名为</span> <span class="n">mvtest2</span>
<span class="p">[</span><span class="n">root</span><span class="nd">@www</span> <span class="n">tmp</span><span class="p">]</span><span class="c1"># mv mvtest mvtest2
</span></pre></table></code></div></div><hr /><h3 id="pwd-显示目前所在目录-print-working-directory"><code class="language-plaintext highlighter-rouge">pwd</code> 显示目前所在目录 Print Working Directory</h3><ul><li>The directory you are standing in is called the working directory. To find the name of the working directory, use the pwd command.</ul><div class="language-c highlighter-rouge"><div class="code-header" text-data="c"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="c1">//单纯显示出目前的工作目录：</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="err">#</span> <span class="n">pwd</span>
<span class="o">/</span><span class="n">root</span>

<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="err">#</span> <span class="n">pwd</span> <span class="p">[</span><span class="o">-</span><span class="n">P</span><span class="p">]</span>
<span class="o">-</span><span class="n">P</span><span class="o">:</span> <span class="err">显示出确实的路径，而非使用连结</span> <span class="p">(</span><span class="n">link</span><span class="p">)</span> <span class="err">路径。</span>

<span class="c1">//显示出实际的工作目录，而非连结档本身的目录名而已</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="err">#</span> <span class="n">cd</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">mail</span>   <span class="c1">//注意，/var/mail是一个连结档</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="n">mail</span><span class="p">]</span><span class="err">#</span> <span class="n">pwd</span>
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">mail</span>         <span class="c1">//列出目前的工作目录</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="n">mail</span><span class="p">]</span><span class="err">#</span> <span class="n">pwd</span> <span class="o">-</span><span class="n">P</span>
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">mail</span>   <span class="c1">//加 -P 差很多</span>

<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="n">mail</span><span class="p">]</span><span class="err">#</span> <span class="n">ls</span> <span class="o">-</span><span class="n">ld</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">mail</span>
<span class="n">lrwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">10</span> <span class="n">Sep</span>  <span class="mi">4</span> <span class="mi">17</span><span class="o">:</span><span class="mi">54</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">mail</span> <span class="o">-&gt;</span> <span class="n">spool</span><span class="o">/</span><span class="n">mail</span>
<span class="c1">//因为 /var/mail 是连结档，连结到 /var/spool/mail</span>
<span class="c1">//所以，加上 pwd -P 的选项后，会不以连结档的数据显示，而是显示正确的完整路径啊！</span>
</pre></table></code></div></div><hr /><h3 id="rmdir-删除空的目录"><code class="language-plaintext highlighter-rouge">rmdir</code> (删除空的目录)</h3><div class="language-c highlighter-rouge"><div class="code-header" text-data="c"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="n">rmdir</span> <span class="p">[</span><span class="o">-</span><span class="n">p</span><span class="p">]</span> <span class="err">目录名称</span>
<span class="o">-</span><span class="n">p</span> <span class="err">：连同上一级『空的』目录也一起删除</span>

<span class="c1">//删除 w3cschool.cn 目录</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="n">tmp</span><span class="p">]</span><span class="err">#</span> <span class="n">rmdir</span> <span class="n">w3cschool</span><span class="p">.</span><span class="n">cn</span><span class="o">/</span>

<span class="c1">//将於mkdir范例中创建的目录(/tmp底下)删除掉！</span>

<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="n">tmp</span><span class="p">]</span><span class="err">#</span> <span class="n">ls</span> <span class="o">-</span><span class="n">l</span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>  <span class="mi">3</span> <span class="n">root</span>  <span class="n">root</span> <span class="mi">4096</span> <span class="n">Jul</span> <span class="mi">18</span> <span class="mi">12</span><span class="o">:</span><span class="mi">50</span> <span class="n">test</span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>  <span class="mi">3</span> <span class="n">root</span>  <span class="n">root</span> <span class="mi">4096</span> <span class="n">Jul</span> <span class="mi">18</span> <span class="mi">12</span><span class="o">:</span><span class="mi">53</span> <span class="n">test1</span>
<span class="n">drwx</span><span class="o">--</span><span class="n">x</span><span class="o">--</span><span class="n">x</span>  <span class="mi">2</span> <span class="n">root</span>  <span class="n">root</span> <span class="mi">4096</span> <span class="n">Jul</span> <span class="mi">18</span> <span class="mi">12</span><span class="o">:</span><span class="mi">54</span> <span class="n">test2</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="n">tmp</span><span class="p">]</span><span class="err">#</span> <span class="n">rmdir</span> <span class="n">test</span>  <span class="c1">//可直接删除掉，没问题</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="n">tmp</span><span class="p">]</span><span class="err">#</span> <span class="n">rmdir</span> <span class="n">test1</span> <span class="c1">//因为尚有内容，所以无法删除</span>
<span class="n">rmdir</span><span class="o">:</span> <span class="err">`</span><span class="n">test1</span><span class="err">`</span><span class="o">:</span> <span class="n">Directory</span> <span class="n">not</span> <span class="n">empty</span>

<span class="c1">//利用 -p 这个选项，立刻就可以将 test1/test2/test3/test4 一次删除。</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="n">tmp</span><span class="p">]</span><span class="err">#</span> <span class="n">rmdir</span> <span class="o">-</span><span class="n">p</span> <span class="n">test1</span><span class="o">/</span><span class="n">test2</span><span class="o">/</span><span class="n">test3</span><span class="o">/</span><span class="n">test4</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="n">tmp</span><span class="p">]</span><span class="err">#</span> <span class="n">ls</span> <span class="o">-</span><span class="n">l</span>
<span class="n">drwx</span><span class="o">--</span><span class="n">x</span><span class="o">--</span><span class="n">x</span>  <span class="mi">2</span> <span class="n">root</span>  <span class="n">root</span> <span class="mi">4096</span> <span class="n">Jul</span> <span class="mi">18</span> <span class="mi">12</span><span class="o">:</span><span class="mi">54</span> <span class="n">test2</span>
<span class="c1">//要注意的是，这个 rmdir 仅能删除空的目录，你可以使用 rm 命令来删除非空目录。</span>
</pre></table></code></div></div><hr /><h3 id="rm-移除文件或目录"><code class="language-plaintext highlighter-rouge">rm</code> 移除文件或目录</h3><div class="language-py highlighter-rouge"><div class="code-header" text-data="py"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="n">rm</span> <span class="p">[</span><span class="o">-</span><span class="n">fir</span><span class="p">]</span> <span class="n">文件或目录</span>
<span class="o">-</span><span class="n">f</span> <span class="err">：</span><span class="n">就是</span> <span class="n">force</span> <span class="n">的意思</span><span class="err">，</span><span class="n">忽略不存在的文件</span><span class="err">，</span><span class="n">不会出现警告信息</span><span class="err">；</span>
<span class="o">-</span><span class="nf">i </span><span class="p">(</span><span class="n">interactive</span><span class="p">)</span><span class="err">：</span><span class="n">互动模式</span><span class="err">，</span><span class="n">在删除前会询问使用者是否动作</span><span class="p">,</span> <span class="n">避免删除到错误的档名</span><span class="err">！</span>

<span class="o">-</span><span class="n">r</span> <span class="err">：</span><span class="n">递回删除啊</span><span class="err">！</span><span class="n">最常用在目录的删除了</span><span class="err">！</span><span class="n">非常危险的选项</span><span class="err">！</span>
<span class="err">$</span> <span class="n">rm</span> <span class="o">-</span><span class="n">r</span> <span class="n">dir1</span> <span class="n">dir2</span>
<span class="c1"># dir1 and dir2 are deleted along with all of their contents.
</span></pre></table></code></div></div><hr /><h2 id="linux-文件内容查看">Linux 文件内容查看</h2><ul><li>查看文件的内容：<ul><li><code class="language-plaintext highlighter-rouge">cat </code> 由第一行开始显示文件内容<li><code class="language-plaintext highlighter-rouge">tac </code> 从最后一行开始显示，可以看出 tac 是 cat 的倒着写！<li><code class="language-plaintext highlighter-rouge">nl </code> 显示的时候，顺道输出行号！<li><code class="language-plaintext highlighter-rouge">more</code> 一页一页的显示文件内容<li><code class="language-plaintext highlighter-rouge">less</code> 与 more 类似，但是比 more 更好的是，他可以往前翻页！<li><code class="language-plaintext highlighter-rouge">head</code> 只看头几行<li><code class="language-plaintext highlighter-rouge">tail</code> 只看尾巴几行</ul></ul><hr /><h3 id="1-cat-由第一行开始显示文件内容">1. <code class="language-plaintext highlighter-rouge">cat</code> 由第一行开始显示文件内容</h3><div class="language-c highlighter-rouge"><div class="code-header" text-data="c"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="n">cat</span> <span class="p">[</span><span class="o">-</span><span class="n">AbEnTv</span><span class="p">]</span>
<span class="o">-</span><span class="n">A</span> <span class="err">：相当於</span> <span class="o">-</span><span class="n">vET</span> <span class="err">的整合选项，可列出一些特殊字符而不是空白而已；</span>
<span class="o">-</span><span class="n">b</span> <span class="err">：列出行号，仅针对非空白行做行号显示，空白行不标行号！</span>   <span class="c1">//= nl</span>
<span class="o">-</span><span class="n">E</span> <span class="err">：将结尾的断行字节</span> <span class="err">$</span> <span class="err">显示出来；</span>
<span class="o">-</span><span class="n">n</span> <span class="err">：列印出行号，连同空白行也会有行号，与</span> <span class="o">-</span><span class="n">b</span> <span class="err">的选项不同；</span>
<span class="o">-</span><span class="n">T</span> <span class="err">：将</span> <span class="p">[</span><span class="n">tab</span><span class="p">]</span> <span class="err">按键以</span> <span class="o">^</span><span class="n">I</span> <span class="err">显示出来；</span>
<span class="o">-</span><span class="n">v</span> <span class="err">：列出一些看不出来的特殊字符</span>

<span class="c1">//检看 /etc/issue 这个文件的内容：</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="err">#</span> <span class="n">cat</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">issue</span>
<span class="n">CentOS</span> <span class="n">release</span> <span class="mi">6</span><span class="p">.</span><span class="mi">4</span> <span class="p">(</span><span class="n">Final</span><span class="p">)</span>
<span class="n">Kernel</span> <span class="err">\</span><span class="n">r</span> <span class="n">on</span> <span class="n">an</span> <span class="err">\</span><span class="n">m</span>
</pre></table></code></div></div><hr /><h3 id="2-tac-与cat相反文件内容从最后一行开始显示">2. <code class="language-plaintext highlighter-rouge">tac</code> 与cat相反，文件内容从最后一行开始显示</h3><ul><li>tac 是 cat 的倒着写！如：</ul><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>[root@www ~]# tac /etc/issue
Kernel \r on an \m
CentOS release 6.4 (Final)
</pre></table></code></div></div><h3 id="3-nl-显示行号">3. <code class="language-plaintext highlighter-rouge">nl</code> 显示行号</h3><div class="language-c highlighter-rouge"><div class="code-header" text-data="c"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="n">nl</span> <span class="p">[</span><span class="o">-</span><span class="n">bnw</span><span class="p">]</span> <span class="err">文件</span>
<span class="o">-</span><span class="n">b</span> <span class="err">：指定行号指定的方式，主要有两种：</span>
<span class="o">-</span><span class="n">b</span> <span class="n">a</span> <span class="err">：表示不论是否为空行，也同样列出行号</span><span class="p">(</span><span class="err">类似</span> <span class="n">cat</span> <span class="o">-</span><span class="n">n</span><span class="p">)</span><span class="err">；</span>
<span class="o">-</span><span class="n">b</span> <span class="n">t</span> <span class="err">：如果有空行，空的那一行不要列出行号</span><span class="p">(</span><span class="err">默认值</span><span class="p">)</span><span class="err">；</span>
<span class="o">-</span><span class="n">n</span> <span class="err">：列出行号表示的方法，主要有三种：</span>
<span class="o">-</span><span class="n">n</span> <span class="n">ln</span> <span class="err">：行号在萤幕的最左方显示；</span>
<span class="o">-</span><span class="n">n</span> <span class="n">rn</span> <span class="err">：行号在自己栏位的最右方显示，且不加</span> <span class="mi">0</span> <span class="err">；</span>
<span class="o">-</span><span class="n">n</span> <span class="n">rz</span> <span class="err">：行号在自己栏位的最右方显示，且加</span> <span class="mi">0</span> <span class="err">；</span>
<span class="o">-</span><span class="n">w</span> <span class="err">：行号栏位的占用的位数。</span>

<span class="c1">//用 nl 列出 /etc/issue 的内容</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="err">#</span> <span class="n">nl</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">issue</span>
     <span class="mi">1</span>  <span class="n">CentOS</span> <span class="n">release</span> <span class="mi">6</span><span class="p">.</span><span class="mi">4</span> <span class="p">(</span><span class="n">Final</span><span class="p">)</span>
     <span class="mi">2</span>  <span class="n">Kernel</span> <span class="err">\</span><span class="n">r</span> <span class="n">on</span> <span class="n">an</span> <span class="err">\</span><span class="n">m</span>

<span class="c1">//left number</span>
<span class="n">root</span><span class="err">@</span><span class="n">kali</span><span class="o">:~</span><span class="err">#</span> <span class="n">nl</span> <span class="o">-</span><span class="n">n</span> <span class="n">ln</span> <span class="n">abd</span>
<span class="mi">1</span>     	<span class="n">abddd</span>
<span class="mi">2</span>     	<span class="n">d</span>

<span class="c1">//right number</span>
<span class="n">root</span><span class="err">@</span><span class="n">kali</span><span class="o">:~</span><span class="err">#</span> <span class="n">nl</span> <span class="o">-</span><span class="n">n</span> <span class="n">rn</span> <span class="n">abd</span>
     <span class="mi">1</span>	<span class="n">abddd</span>
     <span class="mi">2</span>	<span class="n">d</span>
<span class="n">root</span><span class="err">@</span><span class="n">kali</span><span class="o">:~</span><span class="err">#</span> <span class="n">nl</span> <span class="o">-</span><span class="n">n</span> <span class="n">rz</span> <span class="n">abd</span>
<span class="mo">000001</span>	<span class="n">abddd</span>
<span class="mo">000002</span>	<span class="n">d</span>
<span class="mo">000003</span>	<span class="n">d</span>
</pre></table></code></div></div><hr /><h3 id="4-more-一页一页翻动">4. <code class="language-plaintext highlighter-rouge">more</code> 一页一页翻动</h3><div class="language-c highlighter-rouge"><div class="code-header" text-data="c"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="err">#</span> <span class="n">more</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">man</span><span class="p">.</span><span class="n">config</span>
<span class="cp">#
# Generated automatically from man.conf.in by the
# configure script.
#
# man.conf from man-1.6d
</span><span class="o">--</span><span class="n">More</span><span class="o">--</span><span class="p">(</span><span class="mi">28</span><span class="o">%</span><span class="p">)</span>  <span class="c1">//重点在这一行, 光标会在这里等待你的命令</span>

<span class="c1">//有几个按键可以按的：</span>
<span class="err">空白键</span> <span class="p">(</span><span class="n">space</span><span class="p">)</span><span class="err">：代表向下翻一页；</span>
<span class="n">Enter</span>        <span class="err">：代表向下翻『一行』；</span>
<span class="o">/</span><span class="err">字串</span>         <span class="err">：代表在这个显示的内容当中，向下搜寻『字串』这个关键字；</span>
<span class="o">:</span><span class="n">f</span>           <span class="err">：立刻显示出档名以及目前显示的行数；</span>
<span class="n">q</span>            <span class="err">：代表立刻离开</span> <span class="n">more</span> <span class="err">，不再显示该文件内容。</span>
<span class="n">b</span> <span class="err">或</span> <span class="p">[</span><span class="n">ctrl</span><span class="p">]</span><span class="o">-</span><span class="n">b</span> <span class="err">：代表往回翻页，不过这动作只对文件有用，对管线无用。</span>
</pre></table></code></div></div><hr /><h3 id="5-less-一页一页翻动">5. <code class="language-plaintext highlighter-rouge">less</code> 一页一页翻动</h3><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre>//输出/etc/man.config文件的内容：
[root@www ~]# less /etc/man.config
#
# Generated automatically from man.conf.in by the
# configure script.
#
# man.conf from man-1.6d
....(中间省略)....
:
//这里可以等待你输入命令！
//less运行时可以输入的命令有：

空白键    ：向下翻动一页；
[pagedown]：向下翻动一页；
[pageup]  ：向上翻动一页；
/字串      ：向下搜寻『字串』的功能；
?字串      ：向上搜寻『字串』的功能；
n         ：重复前一个搜寻 (与 / 或 ? 有关)
N         ：反向的重复前一个搜寻 (与 / 或 ? 有关)
q         ：离开 less 这个程序；
</pre></table></code></div></div><hr /><h3 id="5-head-取出文件前面几行">5. <code class="language-plaintext highlighter-rouge">head</code> 取出文件前面几行</h3><div class="language-c highlighter-rouge"><div class="code-header" text-data="c"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="n">head</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span> <span class="n">number</span><span class="p">]</span> <span class="err">文件</span>
<span class="o">-</span><span class="n">n</span> <span class="err">：后面接数字，代表显示几行的意思</span>

<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="err">#</span> <span class="n">head</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">man</span><span class="p">.</span><span class="n">config</span>
<span class="c1">//默认显示前面 10 行</span>
<span class="c1">//若要显示前 20 行:</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="err">#</span> <span class="n">head</span> <span class="o">-</span><span class="n">n</span> <span class="mi">20</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">man</span><span class="p">.</span><span class="n">config</span>
</pre></table></code></div></div><hr /><h3 id="6-tail-取出文件后面几行">6. <code class="language-plaintext highlighter-rouge">tail</code> 取出文件后面几行</h3><div class="language-c highlighter-rouge"><div class="code-header" text-data="c"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="n">tail</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span> <span class="n">number</span><span class="p">]</span> <span class="err">文件</span>
<span class="o">-</span><span class="n">n</span> <span class="err">：后面接数字，代表显示几行的意思</span>
<span class="o">-</span><span class="n">f</span> <span class="err">：表示持续侦测后面所接的档名，要等到按下</span><span class="p">[</span><span class="n">ctrl</span><span class="p">]</span><span class="o">-</span><span class="n">c</span><span class="err">才会结束</span><span class="n">tail</span><span class="err">的侦测</span>

<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="err">#</span> <span class="n">tail</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">man</span><span class="p">.</span><span class="n">config</span>
<span class="c1">//默认显示前面 10 行</span>
<span class="c1">//若要显示前 20 行:</span>
<span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">www</span> <span class="o">~</span><span class="p">]</span><span class="err">#</span> <span class="n">tail</span> <span class="o">-</span><span class="n">n</span> <span class="mi">20</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">man</span><span class="p">.</span><span class="n">config</span>
</pre></table></code></div></div><h2 id="linux文件筛选">Linux文件筛选</h2><h3 id="sort-filter-the-text"><code class="language-plaintext highlighter-rouge">sort</code> filter the text</h3><ul><li>sort是在Linux里非常常用的一个命令，管排序的</ul><ol><li>sort的工作原理<ul><li>sort将文件的每一行作为一个单位，相互比较<li>比较原则: 从首字符向后，依次按ASCII码值进行比较，最后按升序输出。</ul></ol><div class="language-py highlighter-rouge"><div class="code-header" text-data="py"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
</pre><td class="rouge-code"><pre><span class="o">------------------------------------------------</span>
<span class="err">$</span> <span class="n">cat</span> <span class="n">data</span><span class="p">.</span><span class="n">txt</span>
<span class="n">banana</span>
<span class="n">apple</span>
<span class="n">pear</span>
<span class="n">orange</span>
<span class="o">------------------------------------------------</span>
<span class="mf">1.</span> <span class="n">sort</span> <span class="c1"># 将文件的每一行作为一个单位，相互比较
</span>    <span class="o">-</span> <span class="n">比较原则</span><span class="p">:</span> <span class="n">从首字符向后</span><span class="err">，</span><span class="n">依次按ASCII码值进行比较</span><span class="err">，</span><span class="n">最后按升序输出</span><span class="err">。</span>

<span class="err">$</span> <span class="n">sort</span> <span class="n">data</span><span class="p">.</span><span class="n">txt</span>
<span class="n">apple</span>
<span class="n">banana</span>
<span class="n">orange</span>
<span class="n">pear</span>
<span class="n">pear</span>
<span class="o">------------------------------------------------</span>
<span class="mf">2.</span> <span class="n">sort</span> <span class="o">-</span><span class="n">u</span> <span class="c1"># 在输出行中去除重复行。
</span>
<span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">u</span> <span class="n">data</span><span class="p">.</span><span class="n">txt</span>
<span class="n">apple</span>
<span class="n">banana</span>
<span class="n">orange</span>
<span class="n">pear</span>
<span class="c1"># pear由于重复被 -u 删除了。
</span><span class="o">------------------------------------------------</span>
<span class="mf">3.</span> <span class="n">sort</span> <span class="o">-</span><span class="n">r</span> <span class="c1"># sort默认的排序方式是升序，-r 改成降序
</span>
<span class="err">$</span> <span class="n">cat</span> <span class="n">number</span><span class="p">.</span><span class="n">txt</span>
<span class="mi">1</span>
<span class="mi">3</span>
<span class="mi">2</span>
<span class="err">$</span> <span class="n">sort</span> <span class="n">number</span><span class="p">.</span><span class="n">txt</span>
<span class="mi">1</span>
<span class="mi">2</span>
<span class="mi">3</span>
<span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">r</span> <span class="n">number</span><span class="p">.</span><span class="n">txt</span>
<span class="mi">3</span>
<span class="mi">2</span>
<span class="mi">1</span>
<span class="o">------------------------------------------------</span>
<span class="mf">4.</span> <span class="n">sort</span> <span class="o">-</span><span class="n">o</span> <span class="c1"># 将结果写入原文件
</span><span class="o">-</span> <span class="n">sort默认是把结果输出到标准输出</span>
<span class="o">-</span> <span class="n">所以需要用重定向才能将结果写入文件</span><span class="p">:</span> <span class="n">sort</span> <span class="n">filename</span> <span class="o">&gt;</span> <span class="n">newfile</span><span class="err">。</span>
<span class="o">-</span> <span class="n">但如果你想把排序结果输出到原文件中</span><span class="err">，</span><span class="n">用重定向不行</span><span class="err">。</span>
<span class="o">-</span> <span class="o">-</span><span class="n">o</span><span class="p">:</span> <span class="n">成功解决了这个问题</span><span class="err">，</span><span class="n">让你放心的将结果写入原文件</span><span class="err">。</span>
<span class="o">-</span> <span class="n">这或许也是</span><span class="o">-</span><span class="n">o比重定向的唯一优势所在</span><span class="err">。</span>

<span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">r</span> <span class="n">number</span><span class="p">.</span><span class="n">txt</span> <span class="o">&gt;</span> <span class="n">number</span><span class="p">.</span><span class="n">txt</span>
<span class="err">$</span> <span class="n">cat</span> <span class="n">number</span><span class="p">.</span><span class="n">txt</span>
<span class="err">$</span>                      <span class="c1"># 将number清空了。
</span>
<span class="err">$</span> <span class="n">cat</span> <span class="n">number</span><span class="p">.</span><span class="n">txt</span>
<span class="mi">1</span>
<span class="mi">3</span>
<span class="mi">5</span>
<span class="mi">2</span>
<span class="mi">4</span>
<span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">r</span> <span class="n">number</span><span class="p">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">o</span> <span class="n">number</span><span class="p">.</span><span class="n">txt</span>
<span class="err">$</span> <span class="n">cat</span> <span class="n">number</span><span class="p">.</span><span class="n">txt</span>
<span class="mi">5</span>
<span class="mi">4</span>
<span class="mi">3</span>
<span class="mi">2</span>
<span class="mi">1</span>
<span class="o">------------------------------------------------</span>
<span class="mf">5.</span> <span class="n">sort</span> <span class="o">-</span><span class="n">n</span> <span class="c1"># 以数值来排序
</span><span class="o">-</span> <span class="mi">10</span><span class="n">比2小的情况</span><span class="err">。</span><span class="n">由于排序程序将这些数字按字符来排序了</span><span class="err">，</span><span class="mi">1</span><span class="n">和2</span><span class="err">，</span><span class="mi">1</span><span class="n">小</span><span class="err">，</span><span class="n">所以就将10放在2前面喽</span><span class="err">。</span>
<span class="o">-</span> <span class="n">sort</span> <span class="o">-</span><span class="n">n</span> <span class="n">要以数值来排序</span>

<span class="err">$</span> <span class="n">cat</span> <span class="n">number</span><span class="p">.</span><span class="n">txt</span>
<span class="mi">1</span>
<span class="mi">10</span>
<span class="mi">2</span>
<span class="err">$</span> <span class="n">sort</span> <span class="n">number</span><span class="p">.</span><span class="n">txt</span>
<span class="mi">1</span>
<span class="mi">10</span>
<span class="mi">2</span>
<span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">n</span> <span class="n">number</span><span class="p">.</span><span class="n">txt</span>
<span class="mi">1</span>
<span class="mi">2</span>
<span class="mi">10</span>
<span class="o">------------------------------------------------</span>
<span class="mf">6.</span> <span class="n">sort</span> <span class="o">-</span><span class="n">t</span> <span class="o">&lt;</span><span class="n">间隔符号</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">k</span> <span class="o">&lt;</span><span class="n">指定列数</span><span class="o">&gt;</span>

<span class="err">$</span> <span class="n">cat</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">banana</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">5.5</span>
<span class="n">apple</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mf">2.5</span>
<span class="n">pear</span><span class="p">:</span><span class="mi">90</span><span class="p">:</span><span class="mf">2.3</span>
<span class="n">orange</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mf">3.4</span>

<span class="c1"># 这个文件有三列，列与列之间用冒号隔开了
# 第一列表示水果类型，第二列表示水果数量，第三列表示水果价格。
# 以水果数量来排序(以第二列来排序)，如何利用sort实现？
# sort -t: 后面可以设定&lt;间隔符号&gt;（是不是想起了cut和paste的-d选项，共鸣～～）
# sort -k: 指定列数。
</span>
<span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">n</span> <span class="o">-</span><span class="n">k</span> <span class="mi">2</span> <span class="o">-</span><span class="n">t</span> <span class="p">:</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">apple</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mf">2.5</span>
<span class="n">orange</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mf">3.4</span>
<span class="n">banana</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">5.5</span>
<span class="n">pear</span><span class="p">:</span><span class="mi">90</span><span class="p">:</span><span class="mf">2.3</span>
<span class="c1"># 使用冒号作为间隔符，并针对第二列来进行数值升序排序
</span><span class="o">------------------------------------------------</span>
<span class="mf">7.</span> <span class="o">-</span><span class="n">k</span> <span class="n">选项的具体语法格式</span>
<span class="o">-</span> <span class="o">-</span><span class="n">k选项的语法格式</span><span class="err">：</span>
<span class="p">[</span> <span class="n">FStart</span> <span class="p">[</span> <span class="p">.</span><span class="n">CStart</span> <span class="p">]</span> <span class="p">]</span> <span class="p">[</span> <span class="n">Modifier</span> <span class="p">]</span> <span class="p">[</span> <span class="p">,</span> <span class="p">[</span> <span class="n">FEnd</span> <span class="p">[</span> <span class="p">.</span><span class="n">CEnd</span> <span class="p">]</span> <span class="p">][</span> <span class="n">Modifier</span> <span class="p">]</span> <span class="p">]</span>

<span class="o">-</span> <span class="n">这个语法格式可以被其中的逗号</span><span class="err">（“，”）</span><span class="n">分为两大部分</span><span class="err">，</span><span class="n">Start部分和End部分</span><span class="err">。</span>

<span class="o">-</span> <span class="n">先给你灌输一个思想</span><span class="err">，</span><span class="n">那就是</span><span class="err">“</span><span class="n">如果不设定End部分</span><span class="err">，</span><span class="n">那么就认为End被设定为行尾</span><span class="err">”。</span><span class="n">这个概念很重要的</span><span class="err">，</span><span class="n">但往往你不会重视它</span><span class="err">。</span>

<span class="o">-</span> <span class="n">Start部分也由三部分组成</span><span class="err">，</span><span class="n">其中的Modifier部分就是我们之前说过的类似n和r的选项部分</span><span class="err">。</span><span class="n">我们重点说说Start部分的FStart和C</span><span class="p">.</span><span class="n">Start</span><span class="err">。</span>

<span class="o">-</span> <span class="n">C</span><span class="p">.</span><span class="n">Start也是可以省略的</span><span class="err">，</span><span class="n">省略的话就表示从本域的开头部分开始</span><span class="err">。</span><span class="n">之前例子中的</span><span class="o">-</span><span class="n">k</span> <span class="mi">2</span><span class="n">和</span><span class="o">-</span><span class="n">k</span> <span class="mi">3</span><span class="n">就是省略了C</span><span class="p">.</span><span class="n">Start的例子喽</span><span class="err">。</span>

<span class="o">-</span> <span class="n">FStart</span><span class="p">.</span><span class="n">CStart</span><span class="err">，</span><span class="n">其中FStart就是表示使用的域</span><span class="err">，</span><span class="n">而CStart则表示在FStart域中从第几个字符开始算</span><span class="err">“</span><span class="n">排序首字符</span><span class="err">”。</span>

<span class="o">-</span> <span class="n">同理</span><span class="err">，</span><span class="n">在End部分中</span><span class="err">，</span><span class="n">你可以设定FEnd</span><span class="p">.</span><span class="n">CEnd</span><span class="err">，</span><span class="n">如果你省略</span><span class="p">.</span><span class="n">CEnd</span><span class="err">，</span><span class="n">则表示结尾到</span><span class="err">“</span><span class="n">域尾</span><span class="err">”，</span><span class="n">即本域的最后一个字符</span><span class="err">。</span><span class="n">或者</span><span class="err">，</span><span class="n">如果你将CEnd设定为0</span><span class="p">(</span><span class="n">零</span><span class="p">)</span><span class="err">，</span><span class="n">也是表示结尾到</span><span class="err">“</span><span class="n">域尾</span><span class="err">”。</span>
<span class="o">------------------------------------------------</span>
<span class="mf">8.</span> <span class="n">其他的sort常用选项</span>
<span class="o">-</span> <span class="sb">`-f`</span><span class="p">:</span> <span class="n">会将小写字母都转换为大写字母来进行比较</span><span class="err">，</span><span class="n">亦即忽略大小写</span>
<span class="o">-</span> <span class="sb">`-c`</span><span class="p">:</span> <span class="n">会检查文件是否已排好序</span><span class="err">，</span><span class="n">如果乱序</span><span class="err">，</span><span class="n">则输出第一个乱序的行的相关信息</span><span class="err">，</span><span class="n">最后返回1</span>
<span class="o">-</span> <span class="sb">`-C`</span><span class="p">:</span> <span class="n">会检查文件是否已排好序</span><span class="err">，</span><span class="n">如果乱序</span><span class="err">，</span><span class="n">不输出内容</span><span class="err">，</span><span class="n">仅返回1</span>
<span class="o">-</span> <span class="sb">`-M`</span><span class="p">:</span> <span class="n">会以月份来排序</span><span class="err">，</span><span class="n">比如JAN小于FEB等等</span>
<span class="o">-</span> <span class="sb">`-b`</span><span class="p">:</span> <span class="n">会忽略每一行前面的所有空白部分</span><span class="err">，</span><span class="n">从第一个可见字符开始比较</span><span class="err">。</span>

<span class="c1"># 第一个域是公司名称，第二个域是公司人数，第三个域是员工平均工资。
</span><span class="err">$</span> <span class="n">cat</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">guge</span> <span class="mi">50</span> <span class="mi">3000</span>
<span class="n">sohu</span> <span class="mi">100</span> <span class="mi">4500</span>


<span class="c1"># 让这个文件按公司(第一个域)的字母顺序排序
</span><span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">t</span> <span class="err">‘</span> <span class="err">‘</span> <span class="o">-</span><span class="n">k</span> <span class="mi">1</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>
<span class="n">guge</span> <span class="mi">50</span> <span class="mi">3000</span>
<span class="n">sohu</span> <span class="mi">100</span> <span class="mi">4500</span>
<span class="c1"># 其实此处并不严格，稍后你就会知道 !!!!!!
</span>

<span class="c1"># 让facebook.txt按照公司人数排序
</span><span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">n</span> <span class="o">-</span><span class="n">t</span> <span class="err">‘</span> <span class="err">‘</span> <span class="o">-</span><span class="n">k</span> <span class="mi">2</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">guge</span> <span class="mi">50</span> <span class="mi">3000</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">sohu</span> <span class="mi">100</span> <span class="mi">4500</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>
<span class="c1"># 但是，baidu和sohu的公司人数相同，都是100人
# 按照默认规矩，是从第一个域开始进行升序排序，baidu在sohu前面。
</span>

<span class="c1"># 想让facebook.txt按照公司人数排序
# 人数相同的按照员工平均工资升序排序：
</span><span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">n</span> <span class="o">-</span><span class="n">t</span> <span class="err">‘</span> <span class="err">‘</span> <span class="o">-</span><span class="n">k</span> <span class="mi">2</span> <span class="o">-</span><span class="n">k</span> <span class="mi">3</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">guge</span> <span class="mi">50</span> <span class="mi">3000</span>
<span class="n">sohu</span> <span class="mi">100</span> <span class="mi">4500</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>
<span class="c1"># 加了一个-k2 -k3就解决了问题。
# sort支持这种设定，就是说设定域排序的优先级，先以第2个域进行排序，如果相同，再以第3个域进行排序。
#（如果你愿意，可以一直这么写下去，设定很多个排序优先级）
</span>

<span class="c1"># 让facebook.txt按照员工工资降序排序
# 如果员工人数相同的，则按照公司人数升序排序
</span><span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">n</span> <span class="o">-</span><span class="n">t</span> <span class="err">‘</span> <span class="err">‘</span> <span class="o">-</span><span class="n">k</span> <span class="mi">3</span><span class="n">r</span> <span class="o">-</span><span class="n">k</span> <span class="mi">2</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>
<span class="n">sohu</span> <span class="mi">100</span> <span class="mi">4500</span>
<span class="n">guge</span> <span class="mi">50</span> <span class="mi">3000</span>
<span class="c1"># 在-k 3后面加上了一个小写字母r。
# r和-r选项的作用是一样的，就是表示逆序
# 因为sort默认按照升序排序，所以加上r表示第三个域按照降序排序。
# 还可以加上n，就表示对这个域进行排序时，要按照数值大小进行排序
</span><span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">t</span> <span class="err">‘</span> <span class="err">‘</span> <span class="o">-</span><span class="n">k</span> <span class="mi">3</span><span class="n">nr</span> <span class="o">-</span><span class="n">k</span> <span class="mi">2</span><span class="n">n</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>
<span class="n">sohu</span> <span class="mi">100</span> <span class="mi">4500</span>
<span class="n">guge</span> <span class="mi">50</span> <span class="mi">3000</span>
<span class="c1"># 去掉了最前面的-n选项，而是将它加入到了每一个-k选项中了。
</span>
<span class="c1"># 从公司英文名称的第二个字母开始进行排序：
</span><span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">t</span> <span class="err">‘</span> <span class="err">‘</span> <span class="o">-</span><span class="n">k</span> <span class="mf">1.2</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">sohu</span> <span class="mi">100</span> <span class="mi">4500</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>
<span class="n">guge</span> <span class="mi">50</span> <span class="mi">3000</span>
<span class="c1"># 使用-k 1.2，这就表示对第一个域的第二个字符开始到本域的最后一个字符为止的字符串进行排序。
# baidu因为第二个字母是a而名列榜首
# sohu和 google第二个字符都是o，但sohu的h在google的o前面，所以两者分别排在第二和第三。
# guge只能屈居第四了。
</span>

<span class="c1"># 只针对公司英文名称的第二个字母进行排序，如果相同的按照员工工资进行降序排序：
</span><span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">t</span> <span class="err">‘</span> <span class="err">‘</span> <span class="o">-</span><span class="n">k</span> <span class="mf">1.2</span><span class="p">,</span><span class="mf">1.2</span> <span class="o">-</span><span class="n">k</span> <span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="n">nr</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>
<span class="n">sohu</span> <span class="mi">100</span> <span class="mi">4500</span>
<span class="n">guge</span> <span class="mi">50</span> <span class="mi">3000</span>
<span class="c1"># 由于只对第二个字母进行排序，所以用 -k 1.2,1.2, 表示“只”对第二个字母进行排序。（用 -k 1.2 不行，因为你省略了End部分，这就意味着你将对从第二个字母起到本域最后一个字符为止的字符串进行排序）。
# 对于员工工资进行排序，也使用了-k 3,3，这是最准确的表述，表示“只”对本域进行排序，因为如果省略了后面的3，就变成了“对第3个域开始到最后一个域位置的内容进行排序” 了。
</span><span class="o">------------------------------------------------</span>
<span class="mf">9.</span> <span class="n">在modifier部分还可以用到哪些选项</span><span class="err">？</span>
<span class="o">-</span> <span class="n">可以用到b</span><span class="err">、</span><span class="n">d</span><span class="err">、</span><span class="n">f</span><span class="err">、</span><span class="n">i</span><span class="err">、</span><span class="n">n</span> <span class="n">或</span> <span class="n">r</span><span class="err">。</span>
<span class="o">-</span> <span class="n">n</span><span class="p">:</span> <span class="n">according</span> <span class="n">to</span> <span class="n">the</span> <span class="n">Number</span>
<span class="o">-</span> <span class="n">r</span><span class="p">:</span> <span class="n">revers</span>
<span class="o">-</span> <span class="n">b</span><span class="p">:</span> <span class="n">忽略本域的签到空白符号</span><span class="err">。</span>
<span class="o">-</span> <span class="n">d</span><span class="p">:</span> <span class="n">对本域按照字典顺序排序</span><span class="err">（</span><span class="n">即</span><span class="err">，</span><span class="n">只考虑空白和字母</span><span class="err">）。</span>
<span class="o">-</span> <span class="n">f</span><span class="p">:</span> <span class="n">对本域忽略大小写进行排序</span><span class="err">。</span>
<span class="o">-</span> <span class="n">i</span><span class="p">:</span> <span class="n">忽略</span><span class="err">“</span><span class="n">不可打印字符</span><span class="err">”，</span><span class="n">只针对可打印字符进行排序</span><span class="err">。（</span><span class="n">有些ASCII就是不可打印字符</span><span class="err">，</span><span class="n">比如</span>\<span class="n">a是报警</span><span class="err">，</span>\<span class="n">b是退格</span><span class="err">，</span>\<span class="n">n是换行</span><span class="err">，</span>\<span class="n">r是回车等等</span><span class="err">）</span>
<span class="o">------------------------------------------------</span>
<span class="mf">10.</span> <span class="o">-</span><span class="n">k和</span><span class="o">-</span><span class="n">u联合使用的例子</span><span class="err">：</span>

<span class="err">$</span> <span class="n">cat</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">guge</span> <span class="mi">50</span> <span class="mi">3000</span>
<span class="n">sohu</span> <span class="mi">100</span> <span class="mi">4500</span>

<span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">n</span> <span class="o">-</span><span class="n">k</span> <span class="mi">2</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">guge</span> <span class="mi">50</span> <span class="mi">3000</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">sohu</span> <span class="mi">100</span> <span class="mi">4500</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>

<span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">n</span> <span class="o">-</span><span class="n">k</span> <span class="mi">2</span> <span class="o">-</span><span class="n">u</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">guge</span> <span class="mi">50</span> <span class="mi">3000</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>

<span class="c1"># 当设定以公司员工域进行数值排序，然后加-u后，sohu一行就被删除了！
# 原来-u只识别用-k设定的域，发现相同，就将后续相同的行都删除。
</span><span class="err">$</span> <span class="n">sort</span>  <span class="o">-</span><span class="n">k</span> <span class="mi">1</span> <span class="o">-</span><span class="n">u</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>
<span class="n">guge</span> <span class="mi">50</span> <span class="mi">3000</span>
<span class="n">sohu</span> <span class="mi">100</span> <span class="mi">4500</span>

<span class="err">$</span> <span class="n">sort</span>  <span class="o">-</span><span class="n">k</span> <span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span> <span class="o">-</span><span class="n">u</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>
<span class="n">sohu</span> <span class="mi">100</span> <span class="mi">4500</span>
<span class="c1"># 开头字符是g的guge就没有幸免于难。
</span>
<span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">n</span> <span class="o">-</span><span class="n">k</span> <span class="mi">2</span> <span class="o">-</span><span class="n">k</span> <span class="mi">3</span> <span class="o">-</span><span class="n">u</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">guge</span> <span class="mi">50</span> <span class="mi">3000</span>
<span class="n">sohu</span> <span class="mi">100</span> <span class="mi">4500</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>
<span class="c1"># 设置了两层排序优先级的情况下，使用-u就没有删除任何行。
# -u是会权衡所有-k选项，将都相同的才会删除，只要其中有一级不同都不会轻易删除的:)（不信，你可以自己加一行sina 100 4500试试看）
</span><span class="o">------------------------------------------------</span>
<span class="mi">11</span> <span class="n">最诡异的排序</span><span class="err">：</span>

<span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">n</span> <span class="o">-</span><span class="n">k</span> <span class="mf">2.2</span><span class="p">,</span><span class="mf">3.1</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">guge</span> <span class="mi">50</span> <span class="mi">3000</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">sohu</span> <span class="mi">100</span> <span class="mi">4500</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>
<span class="c1"># 以 &lt;第二个域的第二个字符&gt;到&lt;第三个域的第一个字符&gt;部分进行排序。
# 第一行，会提取0 3，第二行提取00 5，第三行提取00 4，第四行提取10 5
# 又因为sort认为0小于00小于000小于0000….
# 因此0 3肯定是在第一个。10 5肯定是在最后一个。但为什么00 5却在00 4前面呢？（你可以自己做实验思考一下。）
</span><span class="n">答案揭晓</span><span class="err">：</span><span class="n">原来</span><span class="err">“</span><span class="n">跨域的设定是个假象</span><span class="err">”</span>
<span class="c1"># sort只会比较第二个域的第二个字符到第二个域的最后一个字符的部分，而不会把第三个域的开头字符纳入比较范围。
# 当发现00和00相同时，sort就会自动比较第一个域去了。当然baidu在sohu前面了。用一个范例即可证实：
</span><span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">n</span> <span class="o">-</span><span class="n">k</span> <span class="mf">2.2</span><span class="p">,</span><span class="mf">3.1</span> <span class="o">-</span><span class="n">k</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="n">r</span> <span class="n">facebook</span><span class="p">.</span><span class="n">txt</span>
<span class="n">guge</span> <span class="mi">50</span> <span class="mi">3000</span>
<span class="n">sohu</span> <span class="mi">100</span> <span class="mi">4500</span>
<span class="n">baidu</span> <span class="mi">100</span> <span class="mi">5000</span>
<span class="n">google</span> <span class="mi">110</span> <span class="mi">5000</span>
<span class="o">------------------------------------------------</span>
<span class="mf">12.</span> <span class="n">sort命令后会看到</span><span class="o">+</span><span class="mi">1</span> <span class="o">-</span><span class="mi">2</span><span class="n">这些符号</span>

<span class="n">On</span> <span class="n">older</span> <span class="n">systems</span><span class="p">,</span> <span class="sb">`sort’ supports an obsolete origin-zero syntax `</span><span class="o">+</span><span class="n">POS1</span> <span class="p">[</span><span class="o">-</span><span class="n">POS2</span><span class="p">]</span><span class="err">‘</span> <span class="k">for</span> <span class="n">specifying</span> <span class="n">sort</span> <span class="n">keys</span><span class="p">.</span>  <span class="n">POSIX</span> <span class="mf">1003.1</span><span class="o">-</span><span class="mi">2001</span> <span class="p">(</span><span class="o">*</span><span class="n">note</span> <span class="n">Standards</span> <span class="n">conformance</span><span class="p">::)</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">allow</span> <span class="n">this</span><span class="p">;</span> <span class="n">use</span> <span class="err">`</span><span class="o">-</span><span class="n">k</span><span class="err">’</span> <span class="n">instead</span><span class="p">.</span>

<span class="n">原来</span><span class="err">，</span><span class="n">这种古老的表示方式已经被淘汰了</span><span class="err">，</span><span class="n">以后可以理直气壮的鄙视使用这种表示方法的脚本喽</span><span class="err">！</span>

<span class="err">（</span><span class="n">为了防止古老脚本的存在</span><span class="err">，</span><span class="n">在这再说一下这种表示方法</span><span class="err">，</span><span class="n">加号表示Start部分</span><span class="err">，</span><span class="n">减号表示End部分</span><span class="err">。</span><span class="n">最最重要的一点是</span><span class="err">，</span><span class="n">这种方式方法是从0开始计数的</span><span class="err">，</span><span class="n">以前所说的第一个域</span><span class="err">，</span><span class="n">在此被表示为第0个域</span><span class="err">。</span><span class="n">以前的第2个字符</span><span class="err">，</span><span class="n">在此表示为第1个字符</span><span class="err">。</span><span class="n">明白</span><span class="err">？）</span>
<span class="o">------------------------------------------------</span>
<span class="o">-</span> <span class="n">sort</span> <span class="n">command</span><span class="p">:</span> <span class="n">like</span> <span class="sb">`cat`</span><span class="p">,</span> <span class="n">displays</span> <span class="n">the</span> <span class="n">contents</span> <span class="n">of</span> <span class="n">the</span> <span class="nb">file</span> <span class="n">however</span> <span class="n">it</span> <span class="n">sorts</span> <span class="n">the</span> <span class="nb">file</span> <span class="n">lexicographically</span> <span class="n">词典上</span> <span class="n">by</span> <span class="nf">lines </span><span class="p">(</span><span class="n">it</span> <span class="n">reorders</span> <span class="n">them</span> <span class="n">alphabetically</span> <span class="n">so</span> <span class="n">that</span> <span class="n">matching</span> <span class="n">ones</span> <span class="n">are</span> <span class="n">together</span><span class="p">).</span>
<span class="o">-</span> <span class="o">|</span><span class="p">:</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">pipe</span> <span class="n">that</span> <span class="n">redirects</span> <span class="n">the</span> <span class="n">output</span> <span class="k">from</span> <span class="n">one</span> <span class="n">command</span> <span class="n">into</span> <span class="n">another</span><span class="p">.</span>
<span class="o">-</span> <span class="n">uniq</span> <span class="n">command</span><span class="p">:</span> <span class="n">reports</span> <span class="ow">or</span> <span class="n">omits</span> <span class="n">省略</span> <span class="n">repeated</span> <span class="n">lines</span> <span class="ow">and</span> <span class="n">by</span> <span class="n">passing</span> <span class="n">it</span> <span class="n">the</span> <span class="sb">`-u`</span> <span class="n">argument</span> <span class="n">to</span> <span class="n">report</span> <span class="n">only</span> <span class="n">unique</span> <span class="n">lines</span><span class="p">.</span>

<span class="err">$</span> <span class="n">cat</span> <span class="n">data</span><span class="p">.</span><span class="n">txt</span>
<span class="n">NN4e37KW2tkIb3dC9ZHyOPdq1FqZwq9h</span>
<span class="n">jpEYciZvDIs6MLPhYoOGWQHNIoQZzE5q</span>
<span class="mi">3</span><span class="n">rpovhi1CyT7RUTunW30goGek5Q5Fu66</span>
<span class="n">JOaWd4uAPii4Jc19AP2McmBNRzBYDAkO</span>
<span class="n">JOaWd4uAPii4Jc19AP2McmBNRzBYDAkO</span>
<span class="p">...</span>
<span class="n">tx7tQ6kgeJnC446CHbiJY7fyRwrwuhrs</span>

<span class="err">$</span> <span class="n">sort</span> <span class="n">data</span><span class="p">.</span><span class="n">txt</span> <span class="o">|</span> <span class="n">uniq</span> <span class="o">-</span><span class="n">u</span>
</pre></table></code></div></div><hr /></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/30system/'>30System</a>, <a href='/categories/basic/'>Basic</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/linux/" class="post-tag no-text-decoration" >Linux</a> <a href="/tags/sysadmin/" class="post-tag no-text-decoration" >Sysadmin</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Linux - File Systems - Detail - Grace&url=https://ocholuo.github.io//posts/Linux-file-systems-detail/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Linux - File Systems - Detail - Grace&u=https://ocholuo.github.io//posts/Linux-file-systems-detail/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Linux - File Systems - Detail - Grace&url=https://ocholuo.github.io//posts/Linux-file-systems-detail/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Amazon-CloudFront/">AWS Lab - AWS CloudFront</a><li><a href="/posts/Alexa-1stSkill/">AWS Alex First Skill - RedVelvet Time</a><li><a href="/posts/NetworkProtocol-SSL-TLS-Handshake/">NetworkProtocol SSL/TLS Handshake</a><li><a href="/posts/pythonCrash/">Python Crash</a><li><a href="/posts/%E4%B8%80%E5%8F%A5%E8%AF%9D%E8%A7%A3%E9%87%8AAWS/">AWS - 一句话解释AWS</a><li><a href="/posts/GKE/">GCP - Google Cloud Computing - Kubernetes and Kubernetes Engine</a><li><a href="/posts/Go-Note/">Go Note</a><li><a href="/posts/SCPs/">AWS - IdenAccessManage - SCPs (Service Control Policies)</a><li><a href="/posts/CompanyBenefit/">Company Benefit</a><li><a href="/posts/Encryption-SSL&TLS/">Cryptography - SSL/TLS Encryption</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/cyberattack/">CyberAttack</a> <a class="post-tag" href="/tags/lab/">Lab</a> <a class="post-tag" href="/tags/cyberattacktools/">CyberAttackTools</a> <a class="post-tag" href="/tags/gcp/">GCP</a> <a class="post-tag" href="/tags/sysadmin/">Sysadmin</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/soc/">SOC</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Linux-FileAccessControl-Detail/"><div class="card-body"> <span class="timeago small" >Jul 16, 2020<i class="unloaded">2020-07-16T11:11:11-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Linux - File Access Control - Detail</h3><div class="text-muted small"><p> file access control [toc] Permissions 更改文件属性 The Unix-like operating systems, differ from other computing systems in that they are not only multitasking but also multi-user. more than one user...</p></div></div></a></div><div class="card"> <a href="/posts/Linux-UsersandAccounts-Detail/"><div class="card-body"> <span class="timeago small" >Jul 16, 2020<i class="unloaded">2020-07-16T11:11:11-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Linux - Users and Accounts - Detail</h3><div class="text-muted small"><p> users and accounts [toc] Linux 用户和用户组管理 Linux系统是一个多用户多任务的分时操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统。 用户的账号 一方面可以帮助系统管理员对使用系统的用户进行跟踪，并控制他们对系统资源的访问； 另一方面也可以帮助用户组织文...</p></div></div></a></div><div class="card"> <a href="/posts/DNS-setup/"><div class="card-body"> <span class="timeago small" >Jul 16, 2020<i class="unloaded">2020-07-16T11:11:11-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Linux - DNS Setup</h3><div class="text-muted small"><p> DNS Establish Local Resolution Creating Name Servers 1. Install BIND on the Primary DNS Host 2. Configure BIND on the Primary DNS Host 3. ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Linux-VirtualizationonenterpriseLINUX/" class="btn btn-outline-primary" prompt="Older"><p>Linux - Virtualization on enterprise LINUX</p></a> <a href="/posts/LinuxSecurity/" class="btn btn-outline-primary" prompt="Newer"><p>Linux - Security of linux</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/ocholuo">Grace JyL</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/cyberattack/">CyberAttack</a> <a class="post-tag" href="/tags/lab/">Lab</a> <a class="post-tag" href="/tags/cyberattacktools/">CyberAttackTools</a> <a class="post-tag" href="/tags/gcp/">GCP</a> <a class="post-tag" href="/tags/sysadmin/">Sysadmin</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/soc/">SOC</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://ocholuo.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script async src="https://cdn.jsdelivr.net/npm/countup.js@1.9.3/dist/countUp.min.js"></script> <script defer src="/assets/js/dist/pvreport.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-179830187-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-179830187-1'); }); </script>
