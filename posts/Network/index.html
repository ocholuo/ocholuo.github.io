<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="pv-proxy-endpoint" content="https://myochosite-291718.appspot.com/query?id=ahNwfm15b2Nob3NpdGUtMjkxNzE4chULEghBcGlRdWVyeRiAgIDo14eBCgw"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="AWS - Network" /><meta property="og:locale" content="en" /><meta name="description" content="AWS networking and content delivery HIGH AVAILABILITY APPROACHES FOR NETWORKING Hybrid connectivity AWS Partner Network (APN) AWS GovCloud Hardware VPN Connection: Router: Peering Connection: VPC Endpoints: VPC Elastic Network Interface (ENI) Flow Logs Subnets Shared Services VPCs AWS VPN - Virtual Private Network Amazon CloudFront Regional edge caches Gateway Internet Gateway NAT INSTANCES NAT GATEWAYS Virtual Private Gateway: Customer Gateway: Egress-only Internet Gateway: Amazon API Gateway AWS Transit Gateway connecting multiple VPCs Route 53" /><meta property="og:description" content="AWS networking and content delivery HIGH AVAILABILITY APPROACHES FOR NETWORKING Hybrid connectivity AWS Partner Network (APN) AWS GovCloud Hardware VPN Connection: Router: Peering Connection: VPC Endpoints: VPC Elastic Network Interface (ENI) Flow Logs Subnets Shared Services VPCs AWS VPN - Virtual Private Network Amazon CloudFront Regional edge caches Gateway Internet Gateway NAT INSTANCES NAT GATEWAYS Virtual Private Gateway: Customer Gateway: Egress-only Internet Gateway: Amazon API Gateway AWS Transit Gateway connecting multiple VPCs Route 53" /><link rel="canonical" href="https://ocholuo.github.io//posts/Network/" /><meta property="og:url" content="https://ocholuo.github.io//posts/Network/" /><meta property="og:site_name" content="Grace" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-07-18T11:11:11-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="AWS - Network" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-07-18T11:11:11-04:00","datePublished":"2020-07-18T11:11:11-04:00","description":"AWS networking and content delivery HIGH AVAILABILITY APPROACHES FOR NETWORKING Hybrid connectivity AWS Partner Network (APN) AWS GovCloud Hardware VPN Connection: Router: Peering Connection: VPC Endpoints: VPC Elastic Network Interface (ENI) Flow Logs Subnets Shared Services VPCs AWS VPN - Virtual Private Network Amazon CloudFront Regional edge caches Gateway Internet Gateway NAT INSTANCES NAT GATEWAYS Virtual Private Gateway: Customer Gateway: Egress-only Internet Gateway: Amazon API Gateway AWS Transit Gateway connecting multiple VPCs Route 53","headline":"AWS - Network","mainEntityOfPage":{"@type":"WebPage","@id":"https://ocholuo.github.io//posts/Network/"},"url":"https://ocholuo.github.io//posts/Network/"}</script><title>AWS - Network | Grace</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Grace"><meta name="application-name" content="Grace"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://myochosite-291718.appspot.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://myochosite-291718.appspot.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/huoye.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Grace</a></div><div class="site-subtitle font-italic">2023 Mar 14 updated</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/ocholuo" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['',''].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>AWS - Network</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>AWS - Network</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Grace JyL </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Jul 18, 2020, 11:11 AM -0400" >Jul 18, 2020<i class="unloaded">2020-07-18T11:11:11-04:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2368 words">13 min read</span> <span id="pv" class="pageviews"> <i class="fas fa-spinner fa-spin fa-fw"></i> </span> views</div></div><div class="post-content"><ul><li><a href="#aws-networking-and-content-delivery">AWS networking and content delivery</a><ul><li><a href="#high-availability-approaches-for-networking">HIGH AVAILABILITY APPROACHES FOR NETWORKING</a><li><a href="#hybrid-connectivity">Hybrid connectivity</a><li><a href="#aws-partner-network-apn">AWS Partner Network (APN)</a><li><a href="#aws-govcloud">AWS GovCloud</a><li><a href="#hardware-vpn-connection">Hardware VPN Connection:</a><li><a href="#router">Router:</a><li><a href="#peering-connection">Peering Connection:</a><li><a href="#vpc-endpoints">VPC Endpoints:</a><li><a href="#vpc">VPC</a><ul><li><a href="#elastic-network-interface-eni">Elastic Network Interface (ENI)</a><li><a href="#flow-logs">Flow Logs</a><li><a href="#subnets">Subnets</a></ul><li><a href="#shared-services-vpcs">Shared Services VPCs</a><li><a href="#aws-vpn--virtual-private-network">AWS VPN - Virtual Private Network</a><li><a href="#amazon-cloudfront">Amazon CloudFront</a><ul><li><a href="#regional-edge-caches">Regional edge caches</a></ul><li><a href="#gateway">Gateway</a><ul><li><a href="#internet-gateway">Internet Gateway</a><ul><li><a href="#nat-instances">NAT INSTANCES</a><li><a href="#nat-gateways">NAT GATEWAYS</a></ul><li><a href="#virtual-private-gateway">Virtual Private Gateway:</a><li><a href="#customer-gateway">Customer Gateway:</a><li><a href="#egress-only-internet-gateway">Egress-only Internet Gateway:</a><li><a href="#amazon-api-gateway">Amazon API Gateway</a><li><a href="#aws-transit-gateway-connecting-multiple-vpcs">AWS Transit Gateway <code class="language-plaintext highlighter-rouge">connecting multiple VPCs</code></a></ul><li><a href="#route-53">Route 53</a></ul></ul><hr /><h1 id="aws-networking-and-content-delivery">AWS networking and content delivery</h1><p>Module 5 Overview</p><p><img data-proofer-ignore data-src="https://i.imgur.com/zw9CrZ7.jpg" alt="Screen Shot 2022-07-04 at 16.21.15" /></p><p><img data-proofer-ignore data-src="https://i.imgur.com/HLg1DVI.jpg" alt="Screen Shot 2022-07-04 at 16.22.02" /></p><h2 id="high-availability-approaches-for-networking">HIGH AVAILABILITY APPROACHES FOR NETWORKING</h2><ul><li>By creating subnets in the available AZs, you create Multi-AZ presence for the VPC.<li>Best practice is to create at least two VPN tunnels into the Virtual Private Gateway.<li>Direct Connect is not HA by default, so you need to establish a secondary connection via another Direct Connect (ideally with another provider) or use a VPN.<li>Route 53’s health checks provide a basic level of redirecting DNS resolutions.<li>Elastic IPs allow you flexibility to change out backing assets without impacting name resolution.<li>For Multi-AZ redundancy of NAT Gateways, create gateways in each AZ with routes for private subnets to use the local gateway.</ul><h2 id="hybrid-connectivity">Hybrid connectivity</h2><ul><li>AWS direct connect (for consistent and dedicated connection, this better)<li>Virtual private network VPN<li>Services like Classic Load Balancer, Auto Scaling, are not supported in a hybrid design. ￼ <img data-proofer-ignore data-src="https://i.imgur.com/7AJ32JE.png" alt="Screen Shot 2022-07-04 at 16.26.41" /></ul><h2 id="aws-partner-network-apn">AWS Partner Network (APN)</h2><ul><li>APN Consulting Partners<ul><li>helps customers of all types and sizes design, architect, build, migrate, and manage their workloads and applications on AWS,<li>accelerating journey to the cloud. <li>Consulting Partners include<li>System Integrators (SIs),<li>Strategic Consultancies,<li>Agencies,<li>Managed Service Providers (MSPs),<li>and Value-Added Resellers (VARs).</ul><li>APN Technology Partner<ul><li>organizations that are developing their own products/services that they will deploy on top of AWS to sell it to the customers.<li>establish a secure and private tunnel from the network or device to the AWS global network.</ul><li>AWS VPN comprises two services:<ul><li>AWS Site-to-Site VPN and AWS Client VPN.</ul></ul><h2 id="aws-govcloud">AWS GovCloud</h2><ul><li>an AWS Region specially designed to host sensitive data and regulated workloads from U.S. government agencies and customers.<li>t addresses the most stringent U.S. government security and compliance requirements</ul><h2 id="hardware-vpn-connection">Hardware VPN Connection: </h2><ul><li>A hardware-based VPN connection between the Amazon VPC and the datacenter, home network, or co-location facility.</ul><h2 id="router">Router: </h2><ul><li>Routers interconnect subnets and direct traffic between Internet gateways, virtual private gateways, NAT gateways, and subnets.</ul><h2 id="peering-connection">Peering Connection: </h2><ul><li>to route traffic via private IP addresses between two peered VPCs.<ul><li>can be created with VPCs in different regions (available in most regions now).</ul></ul><h2 id="vpc-endpoints">VPC Endpoints: </h2><ul><li>Enables private connectivity to services hosted in AWS, from within the VPC without using an Internet Gateway, VPN, Network Address Translation (NAT) devices, or firewall proxies.</ul><hr /><h2 id="vpc">VPC</h2><p>Options for securely connecting to a VPC are:</p><ul><li>AWS managed VPN – fast to setup.<li>AWS Direct Connect – high bandwidth, low-latency but takes weeks to months to setup.<li>AWS Direct Connect plus a VPN<li>AWS VPN CloudHub – used for connecting multiple sites to AWS. provide secure communication between sites using the AWS VPN CloudHub.<li>Software VPN – use 3rd party software.<li>Transit VPC<li>VPC Peering<li>AWS PrivateLink<li>VPC Endpoints</ul><p>Data sent between VPCs in different regions is encrypted (traffic charges apply).</p><p>VPC best practices.</p><ul><li>Choosing CIDR block or IP address ranges wisely<ul><li>selecte a range large enough for future growth (or run multiple VPCs). Start with /16.</ul><li>Use <strong>subnets to divide resources based on access</strong>, which is their primary purpose.<li>Use <strong>Multi-AZ deployments</strong> in a VPC for high availability<li>Use <strong>security groups to control traffic</strong> between EC2 instances and elastic load balancers. You can specify a granular security policy for Amazon EC2 instances by using a security group.<li>Use <strong>VPC Flow Logs</strong> to track and monitor VPC traffic.<ul><li>Store traffic logs for a particular VPC, VPC subnet, or Elastic Network Interface to CloudWatchLogs,<li>can be accessed by third-party tools for storage and analysis.</ul><li>Check the <strong>health of the VPN link</strong> via API calls or in the AWS Management Console.</ul><p>VPC WIZARD The VPC Wizard can be used to create the following four configurations:</p><ul><li>VPC with a Single Public Subnet:<ul><li>instances run in a private, isolated section of the AWS cloud with direct access to the Internet.<ul><li>Public subnet instances use Elastic/Public IPs to access the Internet.</ul><li>Network access control lists and security groups can be used to provide strict control over inbound and outbound network traffic to the instances.<li>Creates a /16 network with a /24 subnet.</ul><li>VPC with Public and Private Subnets:<ul><li>adds a private subnet whose instances are not addressable from the Internet.<ul><li><strong>Public subnet</strong> instances use <code class="language-plaintext highlighter-rouge">Elastic IPs</code> to access the Internet.<li><strong>Private subnet</strong> instances access the Internet via the public subnet using <code class="language-plaintext highlighter-rouge">Network Address Translation (NAT)</code>.</ul><li>Creates a /16 network with two /24 subnets.</ul><li>VPC with Public and Private Subnets and Hardware VPN Access:<ul><li>adds an <code class="language-plaintext highlighter-rouge">IPsec Virtual Private Network (VPN)</code> connection between the Amazon VPC and the data center<ul><li>effectively extending the data center to the cloud while also providing direct access to the Internet for public subnet instances in the Amazon VPC.<li>One subnet is directly connected to the Internet<li>other subnet is connected to corporate network via an IPsec VPN tunnel.</ul><li>Creates a /16 network with two /24 subnets.</ul><li>VPC with a Private Subnet Only and Hardware VPN Access:<ul><li>instances run in a private, isolated section of the AWS cloud with a private subnet whose instances are not addressable from the Internet.<ul><li>connect private subnet to corporate data center via an <code class="language-plaintext highlighter-rouge">IPsec Virtual Private Network (VPN)</code> tunnel.</ul><li>Creates a /16 network with a /24 subnet and provisions an IPsec VPN tunnel between the Amazon VPC and the corporate network.</ul></ul><h3 id="elastic-network-interface-eni">Elastic Network Interface (ENI)</h3><ul><li>a logical networking component that represents a NIC.<li>can be attached and detached from EC2 instances and the configuration of the ENI will be maintained.</ul><h3 id="flow-logs">Flow Logs</h3><ul><li>capture information about the IP traffic going to and from network interfaces in a VPC.<li>stored using Amazon CloudWatch Logs.<li>can be created at the following levels:<ul><li>VPC.<li>Subnet.<li>Network interface.</ul></ul><h3 id="subnets">Subnets</h3><ul><li>After creating a VPC, can add one or more subnets in each Availability Zone.<ul><li>Subnets are created within a single AZ and do not get mapped to multiple AZs.</ul><li>When create subnet, specify the CIDR block for the subnet, a subset of the VPC CIDR block.<ul><li>Each subnet must reside entirely within one Availability Zone and<li>subnet cannot span zones.</ul><li>Types of subnet:<ul><li>If a subnet’s traffic is routed to an internet gateway, the subnet is known as a public subnet.<li>If a subnet doesn’t have a route to the internet gateway, the subnet is known as a private subnet.<li>If a subnet doesn’t have a route to the internet gateway, but has its traffic routed to a virtual private gateway for a VPN connection, the subnet is known as a VPN-only subnet.</ul></ul><hr /><h2 id="shared-services-vpcs">Shared Services VPCs</h2><ul><li>allow other AWS accounts to create their application resources (EC2 instances, RDS databases, Redshift clusters, Lambda functions) into shared, centrally-managed Amazon VPCs.<li>VPC sharing enables subnets to be shared with other AWS accounts within the same AWS Organization.<li>Benefits include:<ul><li>Separation of duties:<ul><li>centrally controlled VPC structure, routing, IP address allocation.</ul><li>Application owners continue to own resources, accounts, and security groups.<li>VPC sharing participants can reference security group IDs of each other.<li>Efficiencies:<ul><li>higher density in subnets, efficient use of VPNs and AWS Direct Connect.</ul><li>Hard limits can be avoided<ul><li>for example, 50 VIFs per AWS Direct Connect connection through simplified network architecture.</ul><li>Costs can be optimized<ul><li>through reuse of NAT gateways, VPC interface endpoints, and intra-Availability Zone traffic.</ul></ul><li>You can create separate Amazon VPCs for each account<ul><li>the account owner being responsible for connectivity and security of each Amazon VPC.<li>With VPC sharing, the IT team can own and manage the Amazon VPCs and the application developers no longer have to manage or configure Amazon VPCs, but they can access them as needed.</ul><li>share Amazon VPCs to leverage the implicit routing within a VPC for applications that require a high degree of interconnectivity and are within the same trust boundaries.<ul><li>reduces the number of VPCs that need to be created and managed, while you still benefit from using separate accounts for billing and access control.</ul><li>Customers can further simplify network topologies by interconnecting shared Amazon VPCs using connectivity features, such as AWS PrivateLink, AWS Transit Gateway, and Amazon VPC peering.<li>Can also be used with AWS PrivateLink to secure access to resources shared such as applications behind a Network Load Balancer.</ul><hr /><h2 id="aws-vpn--virtual-private-network">AWS VPN - Virtual Private Network</h2><ul><li>provides a secure private tunnel from the network or device to the AWS global network.<li>lets you establish a secure and private tunnel from the network or device to the AWS global network.<li>AWS VPN comprises two services:<ul><li><code class="language-plaintext highlighter-rouge">AWS Site-to-Site VPN</code><ul><li>enables you to securely <code class="language-plaintext highlighter-rouge">connect the on-premises network or branch office site to the Amazon Virtual Private Cloud (Amazon VPC)</code>.</ul><li><code class="language-plaintext highlighter-rouge">AWS Client VPN</code><ul><li>enables you to securely <code class="language-plaintext highlighter-rouge">connect users to AWS or on-premises networks</code></ul></ul></ul><h2 id="amazon-cloudfront">Amazon CloudFront</h2><ul><li>fast <strong>content delivery network (CDN)</strong> service<ul><li>securely delivers data, videos, applications, and application programming interfaces (APIs) to customers globally,</ul><li>low latency and high transfer speeds. fast response time to frequently accessed data.<ul><li>cache both static and dynamic content in points of presence</ul><li>This <code class="language-plaintext highlighter-rouge">inclueds protections with AWS WAF and AWS Shield</code>.<li>Edge locations: the locations where the content is cached<li>A CloudFront Origin can be an S3 bucket, ELB, or a valid domain name.</ul><h3 id="regional-edge-caches">Regional edge caches </h3><ul><li>used by default with Amazon CloudFront.<li>are used when you have content that is not accessed frequently enough to remain in an edge location.<li>Regional edge caches absorb this content and provide an alternative to that content having to be fetched from the origin serve</ul><hr /><h2 id="gateway">Gateway</h2><h3 id="internet-gateway">Internet Gateway</h3><ul><li>a horizontally scaled, redundant, and highly available VPC component that allows communication between instances in the VPC and the internet.</ul><p><img data-proofer-ignore data-src="https://i.imgur.com/d4oQg2e.png" alt="Screen Shot 2022-07-04 at 16.23.44" /></p><p><img data-proofer-ignore data-src="https://i.imgur.com/4uDtbFe.jpg" alt="Screen Shot 2022-07-04 at 16.23.31" /></p><h4 id="nat-instances">NAT INSTANCES</h4><ul><li>NAT instances are <code class="language-plaintext highlighter-rouge">managed by you</code>.<li>Used to enable private subnet instances to access the Internet.<li>When creating NAT instances always <code class="language-plaintext highlighter-rouge">disable the source/destination check</code> on the instance.<li>NAT instances must be in a single public subnet.<li>NAT instances need to be assigned to security groups.</ul><h4 id="nat-gateways">NAT GATEWAYS</h4><ul><li>NAT gateways are <code class="language-plaintext highlighter-rouge">managed by AWS</code>.<li>A highly available, managed Network Address Translation (NAT) service for the resources in a private subnet to access the Internet.<ul><li>No need to patch.<li>preferred by enterprises.<li><code class="language-plaintext highlighter-rouge">Not associated with any security groups.</code><li>No need to disable source/destination checks.<li><code class="language-plaintext highlighter-rouge">Port forwarding is not supported.</code><li><code class="language-plaintext highlighter-rouge">Traffic metrics are not supported.</code></ul><li>Must be created in a public subnet.<ul><li>Created in a specified AZ with redundancy in that zone.<li>For multi-AZ redundancy<ul><li>create NAT Gateways in each AZ with routes for private subnets to use the local gateway.</ul><li>Automatically assigned a public IP address.<ul><li>Uses an Elastic IP address for the public IP.</ul><li>Private instances in private subnets must have a route to the NAT instance, usually the default route destination of 0.0.0.0/0.</ul><li>NAT gateways are highly available in each AZ into which they are deployed.<ul><li>Can scale automatically up to 45Gbps.</ul><li>They are preferred by enterprises.<li>Can’t use a NAT Gateway to access VPC peering, VPN or Direct Connect, so be sure to include specific routes to those in the route table.<li>Remember to update route tables and point towards the gateway.<li>More secure<ul><li>you cannot access with SSH and there are no security groups to maintain</ul><li>Egress only Internet gateways operate on IPv6 whereas NAT gateways operate on IPv4.<li>Using the NAT Gateway as a Bastion host server is not supported.</ul><h3 id="virtual-private-gateway">Virtual Private Gateway: </h3><ul><li>The Amazon VPC side of a VPN connection.</ul><h3 id="customer-gateway">Customer Gateway: </h3><ul><li>Your side of a VPN connection.<li>Best practice to use custom route tables for each subnet, which enable granular routing for destinations.<li>Route leads according to rules you set up, making sure they are going to those agents best suited to conversion</ul><h3 id="egress-only-internet-gateway">Egress-only Internet Gateway: </h3><ul><li>A stateful gateway to provide egress only access for IPv6 traffic from the VPC to the Internet.</ul><h3 id="amazon-api-gateway">Amazon API Gateway</h3><ul><li>a fully managed service<li>for developers to <code class="language-plaintext highlighter-rouge">create, publish, maintain, monitor, and secure APIs at any scale</code>.<ul><li>in AWS Management Console<li>create an API that acts as a “front door” for applications to access data, business logic, or functionality from the back-end services,<ul><li>such as workloads running on Amazon EC2,<li>code running on AWS Lambda, or any web application.</ul></ul><li>Amazon API Gateway handles all the tasks involved in accepting and processing up to hundreds of thousands of concurrent API calls, including traﬃc management, authorization and access control, monitoring, and API version management.</ul><h3 id="aws-transit-gateway-connecting-multiple-vpcs">AWS Transit Gateway <code class="language-plaintext highlighter-rouge">connecting multiple VPCs</code></h3><ul><li>to <code class="language-plaintext highlighter-rouge">connect Amazon VPCs and on-premises networks</code> to a <strong>single gateway</strong> for connecting multiple VPCs and on-premises networks.<li>enables customers to connect their Amazon VPCs and their on-premises networks to a single gateway.<li>only have to create and <code class="language-plaintext highlighter-rouge">manage a single connection from the central gateway</code> in to each Amazon VPC, on-premises data center, or remote office across the network.<li>Transit Gateway acts as a hub that controls how traffic is routed among all the connected networks which act like spokes. ￼ <img data-proofer-ignore data-src="https://i.imgur.com/k7nXG1H.png" alt="Screen Shot 2022-07-04 at 16.24.28" /></ul><h2 id="route-53">Route 53</h2><ul><li>a scalable cloud Domain Name System (DNS) web service<li>Features: domain registration, DNS, traffic flow, health checking, and failover, “routing policies”. register domains and configure DNS records<ul><li>give a reliable way to route end users to internet applications.</ul><li>does not support DHCP, IP routing or caching.<li>Requests going to either one of these services will be routed to the nearest edge location automatically in order to lower latency.<li>most useful in a disaster recovery situation<ul><li>When have more than one resource performing the same function<li>for example, more than one HTTP server or mail server<ul><li>you can configure Route 53 to check the health of resources and respond to DNS queries using only the healthy resources.</ul><li>For example, suppose the website, example.com, is hosted on six servers, two each in three data centers around the world.<ul><li>You can configure Route 53 to check the health of those servers and to respond to DNS queries for example.com using only the servers that are currently healthy.<li>You can also use Route 53 to switch DNS addresses.</ul></ul><li> Amazon Route 53 effectively connect user requests to ELB, S3, EC2.<li>Purpose:<ul><li>To populate external DNS servers with domain/IP address information for the ELB, so that inbound traffic can be load balanced by the ELB between the EC2 instances.</ul></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/00basic/'>00Basic</a>, <a href='/categories/network/'>Network</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/basic/" class="post-tag no-text-decoration" >Basic</a> <a href="/tags/aws/" class="post-tag no-text-decoration" >AWS</a> <a href="/tags/network/" class="post-tag no-text-decoration" >Network</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=AWS - Network - Grace&url=https://ocholuo.github.io//posts/Network/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=AWS - Network - Grace&u=https://ocholuo.github.io//posts/Network/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=AWS - Network - Grace&url=https://ocholuo.github.io//posts/Network/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Amazon-CloudFront/">AWS Lab - AWS CloudFront</a><li><a href="/posts/Alexa-1stSkill/">AWS Alex First Skill - RedVelvet Time</a><li><a href="/posts/NetworkProtocol-SSL-TLS-Handshake/">NetworkProtocol SSL/TLS Handshake</a><li><a href="/posts/pythonCrash/">Python Crash</a><li><a href="/posts/%E4%B8%80%E5%8F%A5%E8%AF%9D%E8%A7%A3%E9%87%8AAWS/">AWS - 一句话解释AWS</a><li><a href="/posts/GKE/">GCP - Google Cloud Computing - Kubernetes and Kubernetes Engine</a><li><a href="/posts/Go-Note/">Go Note</a><li><a href="/posts/SCPs/">AWS - IdenAccessManage - SCPs (Service Control Policies)</a><li><a href="/posts/CompanyBenefit/">Company Benefit</a><li><a href="/posts/Encryption-SSL&TLS/">Cryptography - SSL/TLS Encryption</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/cyberattack/">CyberAttack</a> <a class="post-tag" href="/tags/lab/">Lab</a> <a class="post-tag" href="/tags/cyberattacktools/">CyberAttackTools</a> <a class="post-tag" href="/tags/gcp/">GCP</a> <a class="post-tag" href="/tags/sysadmin/">Sysadmin</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/soc/">SOC</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/API-Gateway/"><div class="card-body"> <span class="timeago small" >Feb 11, 2020<i class="unloaded">2020-02-11T10:11:11-05:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS - VPC Gateway - API Gateway</h3><div class="text-muted small"><p> API Gateway background basic 安全性（身份验证和潜在的授权） 开源 APIGateway 单节点 API 网关 Backends for frontends 网关 AWS API Gateway Ali API Gateway ba...</p></div></div></a></div><div class="card"> <a href="/posts/ELK-Setup/"><div class="card-body"> <span class="timeago small" >Feb 11, 2020<i class="unloaded">2020-02-11T10:11:11-05:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS - ELK Setup</h3><div class="text-muted small"><p> ELK Setup basic Install ELK Environment specifications Configuration Filebeat Logstash collect data ...</p></div></div></a></div><div class="card"> <a href="/posts/BadNetwork/"><div class="card-body"> <span class="timeago small" >Jul 18, 2020<i class="unloaded">2020-07-18T11:11:11-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS - Network - BadNetwork</h3><div class="text-muted small"><p> BadNetwork Misconfiguration 1: Unnecessary Service Exposure Misconfiguration 2: Soft Center Misconfiguration 3: Bad Failover Misconfiguration 4: Typo in Security Gro...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/BadNetwork/" class="btn btn-outline-primary" prompt="Older"><p>AWS - Network - BadNetwork</p></a> <a href="/posts/Gatway-API-Gateway/" class="btn btn-outline-primary" prompt="Newer"><p>AWS - VPC Gateway - API Gateway</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/ocholuo">Grace JyL</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/cyberattack/">CyberAttack</a> <a class="post-tag" href="/tags/lab/">Lab</a> <a class="post-tag" href="/tags/cyberattacktools/">CyberAttackTools</a> <a class="post-tag" href="/tags/gcp/">GCP</a> <a class="post-tag" href="/tags/sysadmin/">Sysadmin</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/soc/">SOC</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://ocholuo.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script async src="https://cdn.jsdelivr.net/npm/countup.js@1.9.3/dist/countUp.min.js"></script> <script defer src="/assets/js/dist/pvreport.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-179830187-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-179830187-1'); }); </script>
