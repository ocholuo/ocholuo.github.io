<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="pv-proxy-endpoint" content="https://myochosite-291718.appspot.com/query?id=ahNwfm15b2Nob3NpdGUtMjkxNzE4chULEghBcGlRdWVyeRiAgIDo14eBCgw"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="SQL Syntax" /><meta property="og:locale" content="en" /><meta name="description" content="SQL Syntax" /><meta property="og:description" content="SQL Syntax" /><link rel="canonical" href="https://ocholuo.github.io//posts/sql/" /><meta property="og:url" content="https://ocholuo.github.io//posts/sql/" /><meta property="og:site_name" content="Grace" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-11-01T10:11:11-05:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="SQL Syntax" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-11-01T10:11:11-05:00","datePublished":"2020-11-01T10:11:11-05:00","description":"SQL Syntax","headline":"SQL Syntax","mainEntityOfPage":{"@type":"WebPage","@id":"https://ocholuo.github.io//posts/sql/"},"url":"https://ocholuo.github.io//posts/sql/"}</script><title>SQL Syntax | Grace</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Grace"><meta name="application-name" content="Grace"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://myochosite-291718.appspot.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://myochosite-291718.appspot.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/huoye.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Grace</a></div><div class="site-subtitle font-italic">2023 Mar 14 updated</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/ocholuo" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['',''].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>SQL Syntax</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>SQL Syntax</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Grace JyL </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Nov 1, 2020, 10:11 AM -0500" >Nov 1, 2020<i class="unloaded">2020-11-01T10:11:11-05:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2947 words">16 min read</span> <span id="pv" class="pageviews"> <i class="fas fa-spinner fa-spin fa-fw"></i> </span> views</div></div><div class="post-content"><h1 id="sql-syntax">SQL Syntax</h1><hr /><h2 id="41-lexical-structure">4.1. Lexical Structure</h2><p>SQL input consists of a sequence of <code class="language-plaintext highlighter-rouge">commands</code>.</p><ul><li>A command is composed of a sequence of <code class="language-plaintext highlighter-rouge">tokens</code>, terminated by a semicolon (“;”).<li>The end of the input stream also terminates a command.<li>Which tokens are valid depends on the syntax of the particular command.</ul><p>A token can be a key word, an identifier, a quoted identifier, a literal (or constant), or a special character symbol.</p><ul><li>Tokens are normally separated by whitespace (space, tab, newline), but need not be if there is no ambiguity (which is generally only the case if a special character is adjacent to some other token type).</ul><p>Additionally, comments can occur in SQL input.</p><ul><li>They are not tokens, they are effectively equivalent to whitespace.</ul><p>For example, the following is (syntactically) valid SQL input:</p><div class="language-sql highlighter-rouge"><div class="code-header" text-data="sql"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">MY_TABLE</span><span class="p">;</span>
<span class="k">UPDATE</span> <span class="n">MY_TABLE</span> <span class="k">SET</span> <span class="n">A</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">MY_TABLE</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">'hi there'</span><span class="p">);</span>
</pre></table></code></div></div><p>This is a sequence of three commands, one per line</p><ul><li>(although this is not required; more than one command can be on a line, and commands can usefully be split across lines).</ul><p>The SQL syntax is not very consistent regarding what tokens identify commands and which are operands or parameters.</p><ul><li>The first few tokens are generally the command name (“SELECT”, “UPDATE”, and “INSERT”) command.<li>But for instance the <code class="language-plaintext highlighter-rouge">UPDATE command</code> always requires a <code class="language-plaintext highlighter-rouge">SET token</code> to appear in a certain position<li><code class="language-plaintext highlighter-rouge">INSERT</code> also requires a <code class="language-plaintext highlighter-rouge">VALUES</code> in order to be complete.</ul><hr /><h2 id="411-identifiers-and-key-words">4.1.1. Identifiers and Key Words</h2><p>key words</p><ul><li>Tokens <code class="language-plaintext highlighter-rouge">SELECT, UPDATE, or VALUES</code> are examples of key words<li>words that have a fixed meaning in the SQL language.</ul><p>identifiers</p><ul><li>The tokens <code class="language-plaintext highlighter-rouge">MY_TABLE</code> and <code class="language-plaintext highlighter-rouge">A</code> are examples of identifiers.<li>They identify names of tables, columns, or other database objects, depending on the command they are used in.<li>Therefore they are sometimes simply called “names”.</ul><h3 id="sql-identifiers-and-key-words">SQL identifiers and key words</h3><p>SQL identifiers and key words</p><ul><li>have the same lexical structure, meaning that one cannot know whether a token is an identifier or a key word without knowing the language.<li>must begin with <code class="language-plaintext highlighter-rouge">a letter</code> (a-z, letters with diacritical marks and non-Latin letters) or <code class="language-plaintext highlighter-rouge">an underscore (_)</code>.<li><strong>Subsequent characters</strong> in an identifier / key word can be <code class="language-plaintext highlighter-rouge">letters, underscores, digits (0-9), or dollar signs ($). </code><ul><li>Note that dollar signs are not allowed in identifiers according to the letter of the SQL standard, so their use may render applications less portable.</ul><li>The SQL standard will not define a key word that contains digits or starts or ends with an underscore, so identifiers of this form are safe against possible conflict with future extensions of the standard.</ul><p>The system uses no more than NAMEDATALEN-1 characters of an identifier;</p><ul><li>longer names can be written in commands, but they will be truncated.<li>By default, NAMEDATALEN is 64 so the maximum identifier length is 63.<li>If this limit is problematic, it can be raised by changing the NAMEDATALEN constant in <code class="language-plaintext highlighter-rouge">src/include/postgres_ext.h</code>.</ul><p>Identifier and key word names are <strong>case insensitive</strong></p><div class="language-sql highlighter-rouge"><div class="code-header" text-data="sql"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">UPDATE</span> <span class="n">MY_TABLE</span> <span class="k">SET</span> <span class="n">A</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="c1">-- can equivalently be written as</span>
<span class="k">uPDaTE</span> <span class="n">my_TabLE</span> <span class="k">SeT</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="c1">-- A convention often used is to write key words in upper case and names in lower case,</span>
<span class="k">UPDATE</span> <span class="n">my_table</span> <span class="k">SET</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="second-kind-of-identifier-delimitedquoted-identifier">second kind of identifier: delimited/quoted identifier</h3><p>There is a second kind of identifier: the <code class="language-plaintext highlighter-rouge">delimited identifier</code> or <code class="language-plaintext highlighter-rouge">quoted identifier</code>.</p><ul><li>It is formed by enclosing an arbitrary sequence of characters in double-quotes (“).<li>A <code class="language-plaintext highlighter-rouge">delimited identifier</code> is always an identifier, never a key word.<li>So <code class="language-plaintext highlighter-rouge">"select"</code> could be used to refer to a <strong>column/table</strong> <code class="language-plaintext highlighter-rouge">named "select"</code><li>whereas an unquoted select would be taken as a <strong>key word</strong> and would therefore provoke a parse error when used where a table or column name is expected.<li>The example can be written with <code class="language-plaintext highlighter-rouge">quoted identifiers</code> like this:</ul><p>UPDATE “my_table” SET “a” = 5;</p><p><code class="language-plaintext highlighter-rouge">Quoted identifiers</code> can contain any character other than a double quote itself.</p><ul><li>(To include a double quote, write two double quotes.)<li>This allows constructing table or column names that would otherwise not be possible, such as ones containing spaces or ampersands. The length limitation still applies.</ul><p>Quoting an identifier also makes it case-sensitive, whereas unquoted names are always folded to lower case.</p><ul><li>For example,<li>the identifiers <code class="language-plaintext highlighter-rouge">FOO</code>, <code class="language-plaintext highlighter-rouge">foo</code>, and <code class="language-plaintext highlighter-rouge">"foo"</code> are considered the same by PostgreSQL,<li>but <code class="language-plaintext highlighter-rouge">"Foo"</code> and <code class="language-plaintext highlighter-rouge">"FOO"</code> are different from these three and each other.<li>(The folding of unquoted names to lower case in PostgreSQL is incompatible with the SQL standard, which says that unquoted names should be folded to upper case. Thus, foo should be equivalent to “FOO” not “foo” according to the standard. If you want to write portable applications you are advised to always quote a particular name or never quote it.)</ul><hr /><h2 id="412-constants">4.1.2. Constants</h2><p>There are three kinds of implicitly-typed constants in PostgreSQL: <code class="language-plaintext highlighter-rouge">strings, bit strings, and numbers</code>.</p><ul><li>Constants can also be specified with explicit types, which can enable more accurate representation and more efficient handling by the system.</ul><h3 id="4121-string-constants-its-a-string">4.1.2.1. String Constants <code class="language-plaintext highlighter-rouge">'It''s a string'</code></h3><p>A <strong>string constant</strong> in SQL</p><ul><li>an arbitrary sequence of characters bounded by <code class="language-plaintext highlighter-rouge">single quotes (')</code><ul><li><code class="language-plaintext highlighter-rouge">'This is a string'</code>.</ul><li>To write a single-quote character within a string constant: write <code class="language-plaintext highlighter-rouge">two adjacent single quotes</code><ul><li><code class="language-plaintext highlighter-rouge">'Dianne''s horse'</code>.</ul><li>PostgreSQL also allows single quotes to be escaped with a backslash (').<li>However, future versions of PostgreSQL will not allow this, so applications using backslashes should convert to the standard-compliant method outlined above.</ul><p>Another PostgreSQL extension is that C-style backslash escapes are available:</p><ul><li><code class="language-plaintext highlighter-rouge">\b</code> is a backspace, <code class="language-plaintext highlighter-rouge">\f</code> is a form feed, <code class="language-plaintext highlighter-rouge">\n</code> is a newline, <code class="language-plaintext highlighter-rouge">\r</code> is a carriage return, <code class="language-plaintext highlighter-rouge">\t</code> is a tab.<li>Also supported is <code class="language-plaintext highlighter-rouge">\digits</code>, where digits represents an octal byte value, and <code class="language-plaintext highlighter-rouge">\xhexdigits</code>, where hexdigits represents a hexadecimal byte value. (It is your responsibility that the byte sequences you create are valid characters in the server character set encoding.)<li>Any other character following a backslash is taken literally.<li>Thus, to include a backslash in a string constant, write two backslashes.</ul><blockquote><p>Note: While ordinary strings now support C-style backslash escapes, future versions will generate warnings for such usage and eventually treat backslashes as literal characters to be standard-conforming. The proper way to specify escape processing is to use the escape string syntax to indicate that escape processing is desired. <code class="language-plaintext highlighter-rouge">Escape string syntax</code>: writing the letter E (upper or lower case) before the string,</p><ul><li>e.g. E’\041’.</ul><p>This method will work in all future versions of PostgreSQL.</p></blockquote><p>The character with the code zero cannot be in a string constant.</p><p>Two <strong>string constants</strong> that are only separated by <code class="language-plaintext highlighter-rouge">whitespace</code> with at least <code class="language-plaintext highlighter-rouge">one newline</code> are concatenated and effectively treated as if the string had been written in one constant.</p><div class="language-sql highlighter-rouge"><div class="code-header" text-data="sql"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="s1">'foo'</span>
<span class="s1">'bar'</span><span class="p">;</span>
<span class="c1">-- equivalent to</span>
<span class="k">SELECT</span> <span class="s1">'foobar'</span><span class="p">;</span>
<span class="c1">-- but</span>
<span class="k">SELECT</span> <span class="s1">'foo'</span>      <span class="s1">'bar'</span><span class="p">;</span>
<span class="c1">-- is not valid syntax.</span>
<span class="c1">-- (This slightly bizarre behavior is specified by SQL; PostgreSQL is following the standard.)</span>
</pre></table></code></div></div><hr /><h3 id="4122-dollar-quoted-string-constants">4.1.2.2. Dollar-Quoted String Constants</h3><p>the standard syntax for specifying string constants is convenient</p><ul><li>but it can be difficult to understand when the desired string contains many single quotes or backslashes, since each of those must be doubled.<li>To allow more readable queries in such situations, PostgreSQL provides another way, called <code class="language-plaintext highlighter-rouge">"dollar quoting"</code>, to write string constants.<li>A <strong>dollar-quoted string constant</strong> consists of<ul><li>a <code class="language-plaintext highlighter-rouge">dollar sign ($)</code>,<li>an <code class="language-plaintext highlighter-rouge">optional "tag" of zero or more characters</code>,<li>another <code class="language-plaintext highlighter-rouge">dollar sign</code>,<li>an <code class="language-plaintext highlighter-rouge">arbitrary sequence of characters that makes up the string content</code>,<li>a <code class="language-plaintext highlighter-rouge">dollar sign</code>,<li>the <code class="language-plaintext highlighter-rouge">same tag that began this dollar quote</code>,<li>and a <code class="language-plaintext highlighter-rouge">dollar sign</code>.</ul></ul><p>For example</p><ul><li>two different ways to specify <code class="language-plaintext highlighter-rouge">the string "Dianne's horse"</code> using dollar quoting:</ul><pre><code class="language-postgresql">$$Dianne's horse$$
$SomeTag$Dianne's horse$SomeTag$
</code></pre><p>inside the dollar-quoted string</p><ul><li>single quotes can be used without needing to be escaped.<li>Indeed, no characters inside a dollar-quoted string are ever escaped: the string content is always written literally.<li>Backslashes are not special, and neither are dollar signs, unless they are part of a sequence matching the opening tag.</ul><p>It is possible to nest dollar-quoted string constants by choosing different tags at each nesting level.</p><ul><li>This is most commonly used in writing function definitions.<li>For example:</ul><div class="language-sql highlighter-rouge"><div class="code-header" text-data="sql"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="err">$</span><span class="k">function</span><span class="err">$</span>
<span class="k">BEGIN</span>
    <span class="k">RETURN</span> <span class="p">(</span><span class="err">$</span><span class="mi">1</span> <span class="o">~</span> <span class="err">$</span><span class="n">q</span><span class="err">$</span><span class="p">[</span><span class="err">\</span><span class="n">t</span><span class="err">\</span><span class="n">r</span><span class="err">\</span><span class="n">n</span><span class="err">\</span><span class="n">v</span><span class="err">\\</span><span class="p">]</span><span class="err">$</span><span class="n">q</span><span class="err">$</span><span class="p">);</span>
<span class="k">END</span><span class="p">;</span>
<span class="err">$</span><span class="k">function</span><span class="err">$</span>

<span class="c1">-- the sequence $q$[\t\r\n\v\\]$q$ represents a dollar-quoted literal string [\t\r\n\v\\], which will be recognized when the function body is executed by PostgreSQL.</span>
<span class="c1">-- But since the sequence does not match the outer dollar quoting delimiter $function$, it is just some more characters within the constant so far as the outer string is concerned.</span>
</pre></table></code></div></div><p>The <strong>tag</strong> of a dollar-quoted string</p><ul><li>follows the same rules as an unquoted identifier, except that it cannot contain a dollar sign.<li>Tags are case sensitive,<ul><li>so <code class="language-plaintext highlighter-rouge">$tag$String content$tag$</code> is correct,<li>but <code class="language-plaintext highlighter-rouge">$TAG$String content$tag$</code> is not.</ul></ul><p>A <strong>dollar-quoted string</strong> that follows a <strong>keyword/identifier</strong> must be separated from it by <code class="language-plaintext highlighter-rouge">whitespace</code>; otherwise the dollar quoting delimiter would be taken as part of the preceding identifier.</p><p>Dollar quoting is not part of the SQL standard, but it is often a more convenient way to write complicated string literals than the standard-compliant single quote syntax.</p><ul><li>It is particularly useful when representing string constants inside other constants, as is often needed in procedural function definitions.<li>With single-quote syntax, each backslash in the above example would have to be written as four backslashes, which would be reduced to two backslashes in parsing the original string constant, and then to one when the inner string constant is re-parsed during function execution.</ul><hr /><h3 id="4123-bit-string-constants">4.1.2.3. Bit-String Constants</h3><p><strong>Bit-string constants</strong></p><ul><li>look like regular string constants with a <code class="language-plaintext highlighter-rouge">B (upper or lower case) before the opening quote (no intervening whitespace)</code><ul><li><code class="language-plaintext highlighter-rouge">B'1001'</code>.<li>The only characters allowed within bit-string constants are <code class="language-plaintext highlighter-rouge">0</code> and <code class="language-plaintext highlighter-rouge">1</code>.</ul><li>bit-string constants can be specified in hexadecimal notation<ul><li>using a leading X (upper or lower case)<li><code class="language-plaintext highlighter-rouge">X'1FF'</code>.<li>This notation is equivalent to a bit-string constant with four binary digits for each hexadecimal digit.</ul><li>Both forms of bit-string constant can be continued across lines in the same way as regular string constants. Dollar quoting cannot be used in a bit-string constant.</ul><hr /><h3 id="4124-numeric-constants">4.1.2.4. Numeric Constants</h3><p>Numeric constants are accepted in these general forms:</p><ul><li>where digits is one or more decimal digits (0 through 9).<li>At least one digit must be before or after the decimal point, if one is used.<li>At least one digit must follow the exponent marker (e), if one is present.<li>There may not be any spaces or other characters embedded in the constant.<li>Note that any leading plus or minus sign is not actually considered part of the constant; it is an operator applied to the constant.</ul><p>These are some examples of valid numeric constants:</p><div class="language-sql highlighter-rouge"><div class="code-header" text-data="sql"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="n">digits</span>
<span class="n">digits</span><span class="p">.[</span><span class="n">digits</span><span class="p">][</span><span class="n">e</span><span class="p">[</span><span class="o">+-</span><span class="p">]</span><span class="n">digits</span><span class="p">]</span>
<span class="p">[</span><span class="n">digits</span><span class="p">].</span><span class="n">digits</span><span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="o">+-</span><span class="p">]</span><span class="n">digits</span><span class="p">]</span>
<span class="n">digitse</span><span class="p">[</span><span class="o">+-</span><span class="p">]</span><span class="n">digits</span>

<span class="mi">42</span>
<span class="mi">3</span><span class="p">.</span><span class="mi">5</span>
<span class="mi">4</span><span class="p">.</span>
<span class="p">.</span><span class="mi">001</span>
<span class="mi">5</span><span class="n">e2</span>
<span class="mi">1</span><span class="p">.</span><span class="mi">925</span><span class="n">e</span><span class="o">-</span><span class="mi">3</span>
</pre></table></code></div></div><ul><li>A numeric constant that contains <code class="language-plaintext highlighter-rouge">decimal point/exponent</code><li>is initially presumed to be <code class="language-plaintext highlighter-rouge">type integer</code> if its value fits in type integer (32 bits);<li>is presumed to be <code class="language-plaintext highlighter-rouge">type bigint</code> if its value fits in type bigint (64 bits);<li>otherwise it is taken to be <code class="language-plaintext highlighter-rouge">type numeric</code>.<li>Constants that contain decimal points and/or exponents are always initially presumed to be type numeric.</ul><p>The initially assigned data type of a numeric constant is just a starting point for the type resolution algorithms.</p><ul><li>In most cases the constant will be automatically coerced to the most appropriate type depending on context. When necessary, you can force a numeric value to be interpreted as a specific data type by casting it.<li>For example,<li>force a numeric value to be treated as type real (float4) by writing</ul><div class="language-sql highlighter-rouge"><div class="code-header" text-data="sql"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">REAL</span> <span class="s1">'1.23'</span>  <span class="c1">-- string style</span>
<span class="mi">1</span><span class="p">.</span><span class="mi">23</span><span class="p">::</span><span class="nb">REAL</span>   <span class="c1">-- PostgreSQL (historical) style</span>
</pre></table></code></div></div><p>These are actually just special cases of the general casting notations discussed next.</p><h3 id="4125-constants-of-other-types">4.1.2.5. Constants of Other Types</h3><p>The <code class="language-plaintext highlighter-rouge">string constant's text</code> is passed to the input conversion routine for the <code class="language-plaintext highlighter-rouge">type</code> called type.</p><ul><li>The result is a constant of the indicated type.<li>The explicit type cast may be omitted if there is no ambiguity as to the type the constant must be (for example, when it is assigned directly to a table column), in which case it is automatically coerced.<li>The string constant can be written using either regular SQL notation or dollar-quoting.</ul><p>A constant of an arbitrary type can be entered using any one of the following notations:</p><div class="language-sql highlighter-rouge"><div class="code-header" text-data="sql"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">type</span> <span class="s1">'string'</span>
<span class="s1">'string'</span><span class="p">::</span><span class="k">type</span>
<span class="k">CAST</span> <span class="p">(</span> <span class="s1">'string'</span> <span class="k">AS</span> <span class="k">type</span> <span class="p">)</span>

<span class="c1">-- It is also possible to specify a type coercion using a function-like syntax:</span>
<span class="n">typename</span> <span class="p">(</span> <span class="s1">'string'</span> <span class="p">)</span>
<span class="c1">-- but not all type names may be used in this way; see Section 4.2.8 for details.</span>
</pre></table></code></div></div><p>The <code class="language-plaintext highlighter-rouge">::</code>, <code class="language-plaintext highlighter-rouge">CAST()</code>, and <code class="language-plaintext highlighter-rouge">function-call</code> syntaxes</p><ul><li>can also be used to specify <strong>run-time type conversions of arbitrary expressions</strong></ul><p><code class="language-plaintext highlighter-rouge">type 'string'</code></p><ul><li>can only be used to specify the type of a <strong>literal constant</strong>.<li>Another restriction is that it does not work for <code class="language-plaintext highlighter-rouge">array types</code>;<li>use <code class="language-plaintext highlighter-rouge">::</code> or <code class="language-plaintext highlighter-rouge">CAST()</code> to specify the type of an array constant.</ul><p>syntax</p><ul><li>The <code class="language-plaintext highlighter-rouge">CAST() syntax</code> conforms to SQL.<li>The <code class="language-plaintext highlighter-rouge">type 'string' syntax</code> is a generalization of the standard: SQL specifies this syntax only for a few data types, but PostgreSQL allows it for all types.<li>The <code class="language-plaintext highlighter-rouge">:: syntax</code> is historical PostgreSQL usage, as is the function-call syntax.</ul><hr /><h2 id="413-operators">4.1.3. Operators</h2><p>An operator name is a sequence of up to NAMEDATALEN-1 (63 by default) characters from the following list:</p><p><code class="language-plaintext highlighter-rouge">+ - * / &lt; &gt; = ~ ! @ # % ^ &amp; | ?</code></p><p>There are a few restrictions on operator names, however: <code class="language-plaintext highlighter-rouge">-- and /*</code> cannot appear anywhere in an operator name, since they will be taken as the start of a comment.</p><p>A multiple-character operator name cannot end in <code class="language-plaintext highlighter-rouge">+ or -</code>, unless the name also contains at least one of these characters:</p><p><code class="language-plaintext highlighter-rouge">~ ! @ # % ^ &amp; | ?</code></p><p>For example</p><ul><li><code class="language-plaintext highlighter-rouge">@-</code> is an allowed operator name, but <code class="language-plaintext highlighter-rouge">*-</code> is not.<li>This restriction allows PostgreSQL to parse SQL-compliant queries without requiring spaces between tokens.<li>When working with non-SQL-standard operator names, you will usually need to separate adjacent operators with spaces to avoid ambiguity.<li>For example, if you have defined a left unary operator named <code class="language-plaintext highlighter-rouge">@</code>, you cannot write <code class="language-plaintext highlighter-rouge">X*@Y</code>; you must write <code class="language-plaintext highlighter-rouge">X* @Y</code> to ensure that PostgreSQL reads it as two operator names not one.</ul><hr /><h2 id="414-special-characters">4.1.4. Special Characters</h2><p>Some characters that are not alphanumeric have a special meaning that is different from being an operator.</p><p>A dollar sign ($) followed by digits is used to represent a positional parameter in the body of a function definition or a prepared statement. In other contexts the dollar sign may be part of an identifier or a dollar-quoted string constant.</p><p>Parentheses (()) have their usual meaning to group expressions and enforce precedence. In some cases parentheses are required as part of the fixed syntax of a particular SQL command.</p><p>Brackets ([]) are used to select the elements of an array. See Section 8.10 for more information on arrays.</p><p>Commas (,) are used in some syntactical constructs to separate the elements of a list.</p><p>The semicolon (;) terminates an SQL command. It cannot appear anywhere within a command, except within a string constant or quoted identifier.</p><p>The colon (:) is used to select “slices” from arrays. (See Section 8.10.) In certain SQL dialects (such as Embedded SQL), the colon is used to prefix variable names.</p><p>The asterisk <code class="language-plaintext highlighter-rouge">(*)</code> is used in some contexts to denote all the fields of a table row or composite value. It also has a special meaning when used as the argument of the COUNT aggregate function.</p><p>The period (.) is used in numeric constants, and to separate schema, table, and column names.</p><hr /><h2 id="415-comments">4.1.5. Comments</h2><p>A comment is an arbitrary sequence of characters beginning with double dashes and extending to the end of the line, e.g.:</p><div class="language-sql highlighter-rouge"><div class="code-header" text-data="sql"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c1">-- This is a standard SQL comment</span>

<span class="n">Alternatively</span><span class="p">,</span> <span class="k">C</span><span class="o">-</span><span class="n">style</span> <span class="n">block</span> <span class="n">comments</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span><span class="p">:</span>
<span class="cm">/* multiline comment
 * with nesting: /* nested block comment */
</span></pre></table></code></div></div><p>where the comment begins with <code class="language-plaintext highlighter-rouge">/* </code>and extends to the matching occurrence of <code class="language-plaintext highlighter-rouge">*/</code>. These block comments nest, as specified in the SQL standard but unlike C, so that one can comment out larger blocks of code that may contain existing block comments.</p><p>A comment is removed from the input stream before further syntax analysis and is effectively replaced by whitespace.</p><hr /><h2 id="416-lexical-precedence">4.1.6. Lexical Precedence</h2><p><img data-proofer-ignore data-src="https://i.imgur.com/wpC9tYx.png" alt="Screen Shot 2020-11-01 at 14.24.33" /></p><p>Table 4-1 shows the precedence and associativity of the operators in PostgreSQL.</p><ul><li>Most operators have the same precedence and are left-associative.<li>The precedence and associativity of the operators is hard-wired into the parser.<li>This may lead to non-intuitive behavior;<li>for example<li>the Boolean operators <code class="language-plaintext highlighter-rouge">&lt; and &gt;</code> have a different precedence than the Boolean operators <code class="language-plaintext highlighter-rouge">&lt;= and &gt;=</code>.<li>Also, you will sometimes need to add parentheses when using combinations of binary and unary operators. For instance</ul><div class="language-sql highlighter-rouge"><div class="code-header" text-data="sql"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="mi">5</span> <span class="o">!</span> <span class="o">-</span> <span class="mi">6</span><span class="p">;</span>
<span class="c1">-- will be parsed as</span>
<span class="k">SELECT</span> <span class="mi">5</span> <span class="o">!</span> <span class="p">(</span><span class="o">-</span> <span class="mi">6</span><span class="p">);</span>

<span class="c1">-- because the parser has no idea that ! is defined as a postfix operator, not an infix one.</span>

<span class="c1">-- To get the desired behavior in this case</span>
<span class="k">SELECT</span> <span class="p">(</span><span class="mi">5</span> <span class="o">!</span><span class="p">)</span> <span class="o">-</span> <span class="mi">6</span><span class="p">;</span>
</pre></table></code></div></div><p>Note that the operator precedence rules also apply to user-defined operators that have the same names as the built-in operators mentioned above. For example, if you define a “+” operator for some custom data type it will have the same precedence as the built-in “+” operator, no matter what yours does.</p><p>When a schema-qualified operator name is used in the OPERATOR syntax, as for example in</p><div class="language-sql highlighter-rouge"><div class="code-header" text-data="sql"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="mi">3</span> <span class="k">OPERATOR</span><span class="p">(</span><span class="n">pg_catalog</span><span class="p">.</span><span class="o">+</span><span class="p">)</span> <span class="mi">4</span><span class="p">;</span>
</pre></table></code></div></div><p>the OPERATOR construct is taken to have the default precedence shown in Table 4-1 for “any other” operator. This is true no matter which specific operator name appears inside OPERATOR().</p><hr /><p>ref</p><ul><li><a href="https://www.postgresql.org/docs/8.1/sql-syntax.html">Chapter 4. SQL Syntax</a><li><a href="https://docs.snowflake.com/en/sql-reference/udf-table-functions.html">SQL UDTFs (User-Defined Table Functions)</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/00codenote/'>00CodeNote</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/sql/" class="post-tag no-text-decoration" >SQL</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=SQL Syntax - Grace&url=https://ocholuo.github.io//posts/sql/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=SQL Syntax - Grace&u=https://ocholuo.github.io//posts/sql/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=SQL Syntax - Grace&url=https://ocholuo.github.io//posts/sql/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Amazon-CloudFront/">AWS Lab - AWS CloudFront</a><li><a href="/posts/Alexa-1stSkill/">AWS Alex First Skill - RedVelvet Time</a><li><a href="/posts/NetworkProtocol-SSL-TLS-Handshake/">NetworkProtocol SSL/TLS Handshake</a><li><a href="/posts/pythonCrash/">Python Crash</a><li><a href="/posts/%E4%B8%80%E5%8F%A5%E8%AF%9D%E8%A7%A3%E9%87%8AAWS/">AWS - 一句话解释AWS</a><li><a href="/posts/GKE/">GCP - Google Cloud Computing - Kubernetes and Kubernetes Engine</a><li><a href="/posts/Go-Note/">Go Note</a><li><a href="/posts/SCPs/">AWS - IdenAccessManage - SCPs (Service Control Policies)</a><li><a href="/posts/CompanyBenefit/">Company Benefit</a><li><a href="/posts/Encryption-SSL&TLS/">Cryptography - SSL/TLS Encryption</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/cyberattack/">CyberAttack</a> <a class="post-tag" href="/tags/lab/">Lab</a> <a class="post-tag" href="/tags/cyberattacktools/">CyberAttackTools</a> <a class="post-tag" href="/tags/gcp/">GCP</a> <a class="post-tag" href="/tags/sysadmin/">Sysadmin</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/soc/">SOC</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Github-model/"><div class="card-body"> <span class="timeago small" >Nov 11, 2020<i class="unloaded">2020-11-11T10:11:11-05:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>GitHub - A successful Git branching model</h3><div class="text-muted small"><p> A successful Git branching model The main branches Supporting branches Feature branches Release branches Hotfix branches ...</p></div></div></a></div><div class="card"> <a href="/posts/Github/"><div class="card-body"> <span class="timeago small" >Nov 11, 2020<i class="unloaded">2020-11-11T10:11:11-05:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>GitHub</h3><div class="text-muted small"><p> GitHub basic 使用Git进行版本管理 repository 创建数据库 修改记录 collusion ...</p></div></div></a></div><div class="card"> <a href="/posts/0.Jupyter-setup/"><div class="card-body"> <span class="timeago small" >Nov 11, 2020<i class="unloaded">2020-11-11T10:11:11-05:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Jupyterbook setup</h3><div class="text-muted small"><p> [toc] Setup Jupyter install Jupyter install Jupyter in Win run with admin access. got python install. $ python --version python automatically comes with package PIP: allows easy in...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Cortex-Data-Lake/" class="btn btn-outline-primary" prompt="Older"><p>Palo Alto Networks - Cortex Data Lake</p></a> <a href="/posts/Reverse-shell/" class="btn btn-outline-primary" prompt="Newer"><p>Linux - reverse shell & Bind shell</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/ocholuo">Grace JyL</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/cyberattack/">CyberAttack</a> <a class="post-tag" href="/tags/lab/">Lab</a> <a class="post-tag" href="/tags/cyberattacktools/">CyberAttackTools</a> <a class="post-tag" href="/tags/gcp/">GCP</a> <a class="post-tag" href="/tags/sysadmin/">Sysadmin</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/soc/">SOC</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://ocholuo.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script async src="https://cdn.jsdelivr.net/npm/countup.js@1.9.3/dist/countUp.min.js"></script> <script defer src="/assets/js/dist/pvreport.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-179830187-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-179830187-1'); }); </script>
